(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Av(e,t){const n=Object.create(null),s=e.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}function xv(e){if(Se(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=kt(s)?u1(s):xv(s);if(i)for(const r in i)t[r]=i[r]}return t}else{if(kt(e))return e;if(dt(e))return e}}const o1=/;(?![^(]*\))/g,a1=/:([^]+)/,l1=/\/\*.*?\*\//gs;function u1(e){const t={};return e.replace(l1,"").split(o1).forEach(n=>{if(n){const s=n.split(a1);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Rv(e){let t="";if(kt(e))t=e;else if(Se(e))for(let n=0;n<e.length;n++){const s=Rv(e[n]);s&&(t+=s+" ")}else if(dt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const c1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",d1=Av(c1);function t0(e){return!!e||e===""}const wn=e=>kt(e)?e:e==null?"":Se(e)||dt(e)&&(e.toString===r0||!Pe(e.toString))?JSON.stringify(e,n0,2):String(e),n0=(e,t)=>t&&t.__v_isRef?n0(e,t.value):Gr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:s0(t)?{[`Set(${t.size})`]:[...t.values()]}:dt(t)&&!Se(t)&&!o0(t)?String(t):t,at={},Kr=[],Zn=()=>{},h1=()=>!1,f1=/^on[^a-z]/,Bc=e=>f1.test(e),Nv=e=>e.startsWith("onUpdate:"),Ut=Object.assign,Pv=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},v1=Object.prototype.hasOwnProperty,We=(e,t)=>v1.call(e,t),Se=Array.isArray,Gr=e=>Uc(e)==="[object Map]",s0=e=>Uc(e)==="[object Set]",Pe=e=>typeof e=="function",kt=e=>typeof e=="string",Ov=e=>typeof e=="symbol",dt=e=>e!==null&&typeof e=="object",i0=e=>dt(e)&&Pe(e.then)&&Pe(e.catch),r0=Object.prototype.toString,Uc=e=>r0.call(e),m1=e=>Uc(e).slice(8,-1),o0=e=>Uc(e)==="[object Object]",Dv=e=>kt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Au=Av(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jc=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},g1=/-(\w)/g,Un=jc(e=>e.replace(g1,(t,n)=>n?n.toUpperCase():"")),p1=/\B([A-Z])/g,So=jc(e=>e.replace(p1,"-$1").toLowerCase()),Qs=jc(e=>e.charAt(0).toUpperCase()+e.slice(1)),xu=jc(e=>e?`on${Qs(e)}`:""),Oa=(e,t)=>!Object.is(e,t),Ru=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},zu=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Da=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ap;const y1=()=>ap||(ap=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ln;class a0{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ln,!t&&Ln&&(this.index=(Ln.scopes||(Ln.scopes=[])).push(this)-1)}run(t){if(this.active){const n=Ln;try{return Ln=this,t()}finally{Ln=n}}}on(){Ln=this}off(){Ln=this.parent}stop(t){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}}}function pl(e){return new a0(e)}function _1(e,t=Ln){t&&t.active&&t.effects.push(e)}function Is(e){Ln&&Ln.cleanups.push(e)}const Lv=e=>{const t=new Set(e);return t.w=0,t.n=0,t},l0=e=>(e.w&Si)>0,u0=e=>(e.n&Si)>0,b1=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Si},w1=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const i=t[s];l0(i)&&!u0(i)?i.delete(e):t[n++]=i,i.w&=~Si,i.n&=~Si}t.length=n}},Gh=new WeakMap;let ua=0,Si=1;const Yh=30;let Gn;const Zi=Symbol(""),Xh=Symbol("");class Mv{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,_1(this,s)}run(){if(!this.active)return this.fn();let t=Gn,n=gi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Gn,Gn=this,gi=!0,Si=1<<++ua,ua<=Yh?b1(this):lp(this),this.fn()}finally{ua<=Yh&&w1(this),Si=1<<--ua,Gn=this.parent,gi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Gn===this?this.deferStop=!0:this.active&&(lp(this),this.onStop&&this.onStop(),this.active=!1)}}function lp(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let gi=!0;const c0=[];function Eo(){c0.push(gi),gi=!1}function Io(){const e=c0.pop();gi=e===void 0?!0:e}function An(e,t,n){if(gi&&Gn){let s=Gh.get(e);s||Gh.set(e,s=new Map);let i=s.get(n);i||s.set(n,i=Lv()),d0(i)}}function d0(e,t){let n=!1;ua<=Yh?u0(e)||(e.n|=Si,n=!l0(e)):n=!e.has(Gn),n&&(e.add(Gn),Gn.deps.push(e))}function Us(e,t,n,s,i,r){const o=Gh.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&Se(e)){const l=Da(s);o.forEach((u,c)=>{(c==="length"||c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":Se(e)?Dv(n)&&a.push(o.get("length")):(a.push(o.get(Zi)),Gr(e)&&a.push(o.get(Xh)));break;case"delete":Se(e)||(a.push(o.get(Zi)),Gr(e)&&a.push(o.get(Xh)));break;case"set":Gr(e)&&a.push(o.get(Zi));break}if(a.length===1)a[0]&&Qh(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);Qh(Lv(l))}}function Qh(e,t){const n=Se(e)?e:[...e];for(const s of n)s.computed&&up(s);for(const s of n)s.computed||up(s)}function up(e,t){(e!==Gn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const C1=Av("__proto__,__v_isRef,__isVue"),h0=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ov)),S1=Vv(),E1=Vv(!1,!0),I1=Vv(!0),cp=k1();function k1(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=qe(this);for(let r=0,o=this.length;r<o;r++)An(s,"get",r+"");const i=s[t](...n);return i===-1||i===!1?s[t](...n.map(qe)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Eo();const s=qe(this)[t].apply(this,n);return Io(),s}}),e}function Vv(e=!1,t=!1){return function(s,i,r){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&r===(e?t?j1:p0:t?g0:m0).get(s))return s;const o=Se(s);if(!e&&o&&We(cp,i))return Reflect.get(cp,i,r);const a=Reflect.get(s,i,r);return(Ov(i)?h0.has(i):C1(i))||(e||An(s,"get",i),t)?a:pt(a)?o&&Dv(i)?a:a.value:dt(a)?e?yl(a):Wt(a):a}}const T1=f0(),A1=f0(!0);function f0(e=!1){return function(n,s,i,r){let o=n[s];if(ro(o)&&pt(o)&&!pt(i))return!1;if(!e&&(!Hu(i)&&!ro(i)&&(o=qe(o),i=qe(i)),!Se(n)&&pt(o)&&!pt(i)))return o.value=i,!0;const a=Se(n)&&Dv(s)?Number(s)<n.length:We(n,s),l=Reflect.set(n,s,i,r);return n===qe(r)&&(a?Oa(i,o)&&Us(n,"set",s,i):Us(n,"add",s,i)),l}}function x1(e,t){const n=We(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&n&&Us(e,"delete",t,void 0),s}function R1(e,t){const n=Reflect.has(e,t);return(!Ov(t)||!h0.has(t))&&An(e,"has",t),n}function N1(e){return An(e,"iterate",Se(e)?"length":Zi),Reflect.ownKeys(e)}const v0={get:S1,set:T1,deleteProperty:x1,has:R1,ownKeys:N1},P1={get:I1,set(e,t){return!0},deleteProperty(e,t){return!0}},O1=Ut({},v0,{get:E1,set:A1}),$v=e=>e,zc=e=>Reflect.getPrototypeOf(e);function iu(e,t,n=!1,s=!1){e=e.__v_raw;const i=qe(e),r=qe(t);n||(t!==r&&An(i,"get",t),An(i,"get",r));const{has:o}=zc(i),a=s?$v:n?Uv:La;if(o.call(i,t))return a(e.get(t));if(o.call(i,r))return a(e.get(r));e!==i&&e.get(t)}function ru(e,t=!1){const n=this.__v_raw,s=qe(n),i=qe(e);return t||(e!==i&&An(s,"has",e),An(s,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function ou(e,t=!1){return e=e.__v_raw,!t&&An(qe(e),"iterate",Zi),Reflect.get(e,"size",e)}function dp(e){e=qe(e);const t=qe(this);return zc(t).has.call(t,e)||(t.add(e),Us(t,"add",e,e)),this}function hp(e,t){t=qe(t);const n=qe(this),{has:s,get:i}=zc(n);let r=s.call(n,e);r||(e=qe(e),r=s.call(n,e));const o=i.call(n,e);return n.set(e,t),r?Oa(t,o)&&Us(n,"set",e,t):Us(n,"add",e,t),this}function fp(e){const t=qe(this),{has:n,get:s}=zc(t);let i=n.call(t,e);i||(e=qe(e),i=n.call(t,e)),s&&s.call(t,e);const r=t.delete(e);return i&&Us(t,"delete",e,void 0),r}function vp(){const e=qe(this),t=e.size!==0,n=e.clear();return t&&Us(e,"clear",void 0,void 0),n}function au(e,t){return function(s,i){const r=this,o=r.__v_raw,a=qe(o),l=t?$v:e?Uv:La;return!e&&An(a,"iterate",Zi),o.forEach((u,c)=>s.call(i,l(u),l(c),r))}}function lu(e,t,n){return function(...s){const i=this.__v_raw,r=qe(i),o=Gr(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...s),c=n?$v:t?Uv:La;return!t&&An(r,"iterate",l?Xh:Zi),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function ri(e){return function(...t){return e==="delete"?!1:this}}function D1(){const e={get(r){return iu(this,r)},get size(){return ou(this)},has:ru,add:dp,set:hp,delete:fp,clear:vp,forEach:au(!1,!1)},t={get(r){return iu(this,r,!1,!0)},get size(){return ou(this)},has:ru,add:dp,set:hp,delete:fp,clear:vp,forEach:au(!1,!0)},n={get(r){return iu(this,r,!0)},get size(){return ou(this,!0)},has(r){return ru.call(this,r,!0)},add:ri("add"),set:ri("set"),delete:ri("delete"),clear:ri("clear"),forEach:au(!0,!1)},s={get(r){return iu(this,r,!0,!0)},get size(){return ou(this,!0)},has(r){return ru.call(this,r,!0)},add:ri("add"),set:ri("set"),delete:ri("delete"),clear:ri("clear"),forEach:au(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=lu(r,!1,!1),n[r]=lu(r,!0,!1),t[r]=lu(r,!1,!0),s[r]=lu(r,!0,!0)}),[e,n,t,s]}const[L1,M1,V1,$1]=D1();function Fv(e,t){const n=t?e?$1:V1:e?M1:L1;return(s,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(We(n,i)&&i in s?n:s,i,r)}const F1={get:Fv(!1,!1)},B1={get:Fv(!1,!0)},U1={get:Fv(!0,!1)},m0=new WeakMap,g0=new WeakMap,p0=new WeakMap,j1=new WeakMap;function z1(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function H1(e){return e.__v_skip||!Object.isExtensible(e)?0:z1(m1(e))}function Wt(e){return ro(e)?e:Bv(e,!1,v0,F1,m0)}function y0(e){return Bv(e,!1,O1,B1,g0)}function yl(e){return Bv(e,!0,P1,U1,p0)}function Bv(e,t,n,s,i){if(!dt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=i.get(e);if(r)return r;const o=H1(e);if(o===0)return e;const a=new Proxy(e,o===2?s:n);return i.set(e,a),a}function Yr(e){return ro(e)?Yr(e.__v_raw):!!(e&&e.__v_isReactive)}function ro(e){return!!(e&&e.__v_isReadonly)}function Hu(e){return!!(e&&e.__v_isShallow)}function _0(e){return Yr(e)||ro(e)}function qe(e){const t=e&&e.__v_raw;return t?qe(t):e}function b0(e){return zu(e,"__v_skip",!0),e}const La=e=>dt(e)?Wt(e):e,Uv=e=>dt(e)?yl(e):e;function w0(e){gi&&Gn&&(e=qe(e),d0(e.dep||(e.dep=Lv())))}function C0(e,t){e=qe(e),e.dep&&Qh(e.dep)}function pt(e){return!!(e&&e.__v_isRef===!0)}function D(e){return E0(e,!1)}function S0(e){return E0(e,!0)}function E0(e,t){return pt(e)?e:new W1(e,t)}class W1{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:qe(t),this._value=n?t:La(t)}get value(){return w0(this),this._value}set value(t){const n=this.__v_isShallow||Hu(t)||ro(t);t=n?t:qe(t),Oa(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:La(t),C0(this))}}function gt(e){return pt(e)?e.value:e}const q1={get:(e,t,n)=>gt(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return pt(i)&&!pt(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function I0(e){return Yr(e)?e:new Proxy(e,q1)}function jv(e){const t=Se(e)?new Array(e.length):{};for(const n in e)t[n]=z(e,n);return t}class K1{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function z(e,t,n){const s=e[t];return pt(s)?s:new K1(e,t,n)}var k0;class G1{constructor(t,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[k0]=!1,this._dirty=!0,this.effect=new Mv(t,()=>{this._dirty||(this._dirty=!0,C0(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const t=qe(this);return w0(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}k0="__v_isReadonly";function Y1(e,t,n=!1){let s,i;const r=Pe(e);return r?(s=e,i=Zn):(s=e.get,i=e.set),new G1(s,i,r||!i,n)}function pi(e,t,n,s){let i;try{i=s?e(...s):e()}catch(r){Hc(r,t,n)}return i}function $n(e,t,n,s){if(Pe(e)){const r=pi(e,t,n,s);return r&&i0(r)&&r.catch(o=>{Hc(o,t,n)}),r}const i=[];for(let r=0;r<e.length;r++)i.push($n(e[r],t,n,s));return i}function Hc(e,t,n,s=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=n;for(;r;){const u=r.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){pi(l,null,10,[e,o,a]);return}}X1(e,n,i,s)}function X1(e,t,n,s=!0){console.error(e)}let Ma=!1,Jh=!1;const en=[];let hs=0;const Xr=[];let Ds=null,Bi=0;const T0=Promise.resolve();let zv=null;function mt(e){const t=zv||T0;return e?t.then(this?e.bind(this):e):t}function Q1(e){let t=hs+1,n=en.length;for(;t<n;){const s=t+n>>>1;Va(en[s])<e?t=s+1:n=s}return t}function Hv(e){(!en.length||!en.includes(e,Ma&&e.allowRecurse?hs+1:hs))&&(e.id==null?en.push(e):en.splice(Q1(e.id),0,e),A0())}function A0(){!Ma&&!Jh&&(Jh=!0,zv=T0.then(R0))}function J1(e){const t=en.indexOf(e);t>hs&&en.splice(t,1)}function Z1(e){Se(e)?Xr.push(...e):(!Ds||!Ds.includes(e,e.allowRecurse?Bi+1:Bi))&&Xr.push(e),A0()}function mp(e,t=Ma?hs+1:0){for(;t<en.length;t++){const n=en[t];n&&n.pre&&(en.splice(t,1),t--,n())}}function x0(e){if(Xr.length){const t=[...new Set(Xr)];if(Xr.length=0,Ds){Ds.push(...t);return}for(Ds=t,Ds.sort((n,s)=>Va(n)-Va(s)),Bi=0;Bi<Ds.length;Bi++)Ds[Bi]();Ds=null,Bi=0}}const Va=e=>e.id==null?1/0:e.id,eA=(e,t)=>{const n=Va(e)-Va(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function R0(e){Jh=!1,Ma=!0,en.sort(eA);const t=Zn;try{for(hs=0;hs<en.length;hs++){const n=en[hs];n&&n.active!==!1&&pi(n,null,14)}}finally{hs=0,en.length=0,x0(),Ma=!1,zv=null,(en.length||Xr.length)&&R0()}}function tA(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||at;let i=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in s){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:h}=s[c]||at;h&&(i=n.map(f=>kt(f)?f.trim():f)),d&&(i=n.map(Da))}let a,l=s[a=xu(t)]||s[a=xu(Un(t))];!l&&r&&(l=s[a=xu(So(t))]),l&&$n(l,e,6,i);const u=s[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,$n(u,e,6,i)}}function N0(e,t,n=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const r=e.emits;let o={},a=!1;if(!Pe(e)){const l=u=>{const c=N0(u,t,!0);c&&(a=!0,Ut(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(dt(e)&&s.set(e,null),null):(Se(r)?r.forEach(l=>o[l]=null):Ut(o,r),dt(e)&&s.set(e,o),o)}function Wc(e,t){return!e||!Bc(t)?!1:(t=t.slice(2).replace(/Once$/,""),We(e,t[0].toLowerCase()+t.slice(1))||We(e,So(t))||We(e,t))}let Sn=null,P0=null;function Wu(e){const t=Sn;return Sn=e,P0=e&&e.type.__scopeId||null,t}function ae(e,t=Sn,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&kp(-1);const r=Wu(t);let o;try{o=e(...i)}finally{Wu(r),s._d&&kp(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function nh(e){const{type:t,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:h,setupState:f,ctx:m,inheritAttrs:g}=e;let b,_;const w=Wu(e);try{if(n.shapeFlag&4){const I=i||s;b=ds(c.call(I,I,d,r,f,h,m)),_=l}else{const I=t;b=ds(I.length>1?I(r,{attrs:l,slots:a,emit:u}):I(r,null)),_=t.props?l:nA(l)}}catch(I){_a.length=0,Hc(I,e,1),b=v(es)}let p=b;if(_&&g!==!1){const I=Object.keys(_),{shapeFlag:k}=p;I.length&&k&7&&(o&&I.some(Nv)&&(_=sA(_,o)),p=js(p,_))}return n.dirs&&(p=js(p),p.dirs=p.dirs?p.dirs.concat(n.dirs):n.dirs),n.transition&&(p.transition=n.transition),b=p,Wu(w),b}const nA=e=>{let t;for(const n in e)(n==="class"||n==="style"||Bc(n))&&((t||(t={}))[n]=e[n]);return t},sA=(e,t)=>{const n={};for(const s in e)(!Nv(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function iA(e,t,n){const{props:s,children:i,component:r}=e,{props:o,children:a,patchFlag:l}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?gp(s,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==s[h]&&!Wc(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?gp(s,o,u):!0:!!o;return!1}function gp(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==e[r]&&!Wc(n,r))return!0}return!1}function rA({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const oA=e=>e.__isSuspense;function aA(e,t){t&&t.pendingBranch?Se(e)?t.effects.push(...e):t.effects.push(e):Z1(e)}function bt(e,t){if(Ft){let n=Ft.provides;const s=Ft.parent&&Ft.parent.provides;s===n&&(n=Ft.provides=Object.create(s)),n[e]=t}}function Fe(e,t,n=!1){const s=Ft||Sn;if(s){const i=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Pe(t)?t.call(s.proxy):t}}function ks(e,t){return Wv(e,null,t)}const uu={};function he(e,t,n){return Wv(e,t,n)}function Wv(e,t,{immediate:n,deep:s,flush:i,onTrack:r,onTrigger:o}=at){const a=Ft;let l,u=!1,c=!1;if(pt(e)?(l=()=>e.value,u=Hu(e)):Yr(e)?(l=()=>e,s=!0):Se(e)?(c=!0,u=e.some(p=>Yr(p)||Hu(p)),l=()=>e.map(p=>{if(pt(p))return p.value;if(Yr(p))return zi(p);if(Pe(p))return pi(p,a,2)})):Pe(e)?t?l=()=>pi(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),$n(e,a,3,[h])}:l=Zn,t&&s){const p=l;l=()=>zi(p())}let d,h=p=>{d=_.onStop=()=>{pi(p,a,4)}},f;if(Ua)if(h=Zn,t?n&&$n(t,a,3,[l(),c?[]:void 0,h]):l(),i==="sync"){const p=XA();f=p.__watcherHandles||(p.__watcherHandles=[])}else return Zn;let m=c?new Array(e.length).fill(uu):uu;const g=()=>{if(!!_.active)if(t){const p=_.run();(s||u||(c?p.some((I,k)=>Oa(I,m[k])):Oa(p,m)))&&(d&&d(),$n(t,a,3,[p,m===uu?void 0:c&&m[0]===uu?[]:m,h]),m=p)}else _.run()};g.allowRecurse=!!t;let b;i==="sync"?b=g:i==="post"?b=()=>vn(g,a&&a.suspense):(g.pre=!0,a&&(g.id=a.uid),b=()=>Hv(g));const _=new Mv(l,b);t?n?g():m=_.run():i==="post"?vn(_.run.bind(_),a&&a.suspense):_.run();const w=()=>{_.stop(),a&&a.scope&&Pv(a.scope.effects,_)};return f&&f.push(w),w}function lA(e,t,n){const s=this.proxy,i=kt(e)?e.includes(".")?O0(s,e):()=>s[e]:e.bind(s,s);let r;Pe(t)?r=t:(r=t.handler,n=t);const o=Ft;ao(this);const a=Wv(i,r.bind(s),n);return o?ao(o):er(),a}function O0(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function zi(e,t){if(!dt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),pt(e))zi(e.value,t);else if(Se(e))for(let n=0;n<e.length;n++)zi(e[n],t);else if(s0(e)||Gr(e))e.forEach(n=>{zi(n,t)});else if(o0(e))for(const n in e)zi(e[n],t);return e}function D0(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yn(()=>{e.isMounted=!0}),_n(()=>{e.isUnmounting=!0}),e}const Dn=[Function,Array],uA={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Dn,onEnter:Dn,onAfterEnter:Dn,onEnterCancelled:Dn,onBeforeLeave:Dn,onLeave:Dn,onAfterLeave:Dn,onLeaveCancelled:Dn,onBeforeAppear:Dn,onAppear:Dn,onAfterAppear:Dn,onAppearCancelled:Dn},setup(e,{slots:t}){const n=_l(),s=D0();let i;return()=>{const r=t.default&&qv(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const g of r)if(g.type!==es){o=g;break}}const a=qe(e),{mode:l}=a;if(s.isLeaving)return sh(o);const u=pp(o);if(!u)return sh(o);const c=$a(u,a,s,n);Fa(u,c);const d=n.subTree,h=d&&pp(d);let f=!1;const{getTransitionKey:m}=u.type;if(m){const g=m();i===void 0?i=g:g!==i&&(i=g,f=!0)}if(h&&h.type!==es&&(!Ui(u,h)||f)){const g=$a(h,a,s,n);if(Fa(h,g),l==="out-in")return s.isLeaving=!0,g.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},sh(o);l==="in-out"&&u.type!==es&&(g.delayLeave=(b,_,w)=>{const p=M0(s,h);p[String(h.key)]=h,b._leaveCb=()=>{_(),b._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=w})}return o}}},L0=uA;function M0(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function $a(e,t,n,s){const{appear:i,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:g,onAppear:b,onAfterAppear:_,onAppearCancelled:w}=t,p=String(e.key),I=M0(n,e),k=(S,x)=>{S&&$n(S,s,9,x)},T=(S,x)=>{const A=x[1];k(S,x),Se(S)?S.every(O=>O.length<=1)&&A():S.length<=1&&A()},C={mode:r,persisted:o,beforeEnter(S){let x=a;if(!n.isMounted)if(i)x=g||a;else return;S._leaveCb&&S._leaveCb(!0);const A=I[p];A&&Ui(e,A)&&A.el._leaveCb&&A.el._leaveCb(),k(x,[S])},enter(S){let x=l,A=u,O=c;if(!n.isMounted)if(i)x=b||l,A=_||u,O=w||c;else return;let N=!1;const L=S._enterCb=F=>{N||(N=!0,F?k(O,[S]):k(A,[S]),C.delayedLeave&&C.delayedLeave(),S._enterCb=void 0)};x?T(x,[S,L]):L()},leave(S,x){const A=String(e.key);if(S._enterCb&&S._enterCb(!0),n.isUnmounting)return x();k(d,[S]);let O=!1;const N=S._leaveCb=L=>{O||(O=!0,x(),L?k(m,[S]):k(f,[S]),S._leaveCb=void 0,I[A]===e&&delete I[A])};I[A]=e,h?T(h,[S,N]):N()},clone(S){return $a(S,t,n,s)}};return C}function sh(e){if(Kc(e))return e=js(e),e.children=null,e}function pp(e){return Kc(e)?e.children?e.children[0]:void 0:e}function Fa(e,t){e.shapeFlag&6&&e.component?Fa(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function qv(e,t=!1,n){let s=[],i=0;for(let r=0;r<e.length;r++){let o=e[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Re?(o.patchFlag&128&&i++,s=s.concat(qv(o.children,t,a))):(t||o.type!==es)&&s.push(a!=null?js(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function qc(e){return Pe(e)?{setup:e,name:e.name}:e}const Nu=e=>!!e.type.__asyncLoader,Kc=e=>e.type.__isKeepAlive;function V0(e,t){F0(e,"a",t)}function $0(e,t){F0(e,"da",t)}function F0(e,t,n=Ft){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Gc(t,s,n),n){let i=n.parent;for(;i&&i.parent;)Kc(i.parent.vnode)&&cA(s,t,n,i),i=i.parent}}function cA(e,t,n,s){const i=Gc(t,e,s,!0);j0(()=>{Pv(s[t],i)},n)}function Gc(e,t,n=Ft,s=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Eo(),ao(n);const a=$n(t,n,e,o);return er(),Io(),a});return s?i.unshift(r):i.push(r),r}}const Js=e=>(t,n=Ft)=>(!Ua||e==="sp")&&Gc(e,(...s)=>t(...s),n),Yc=Js("bm"),yn=Js("m"),B0=Js("bu"),U0=Js("u"),_n=Js("bum"),j0=Js("um"),dA=Js("sp"),hA=Js("rtg"),fA=Js("rtc");function vA(e,t=Ft){Gc("ec",e,t)}function _t(e,t){const n=Sn;if(n===null)return e;const s=Jc(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,l,u=at]=t[r];o&&(Pe(o)&&(o={mounted:o,updated:o}),o.deep&&zi(a),i.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function Oi(e,t,n,s){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Eo(),$n(l,n,8,[e.el,a,e,t]),Io())}}const Kv="components",mA="directives";function we(e,t){return Gv(Kv,e,!0,t)||e}const z0=Symbol();function gA(e){return kt(e)?Gv(Kv,e,!1)||e:e||z0}function Rn(e){return Gv(mA,e)}function Gv(e,t,n=!0,s=!1){const i=Sn||Ft;if(i){const r=i.type;if(e===Kv){const a=KA(r,!1);if(a&&(a===t||a===Un(t)||a===Qs(Un(t))))return r}const o=yp(i[e]||r[e],t)||yp(i.appContext[e],t);return!o&&s?r:o}}function yp(e,t){return e&&(e[t]||e[Un(t)]||e[Qs(Un(t))])}function Yv(e,t,n,s){let i;const r=n&&n[s];if(Se(e)||kt(e)){i=new Array(e.length);for(let o=0,a=e.length;o<a;o++)i[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,r&&r[o])}else if(dt(e))if(e[Symbol.iterator])i=Array.from(e,(o,a)=>t(o,a,void 0,r&&r[a]));else{const o=Object.keys(e);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=t(e[u],u,a,r&&r[a])}}else i=[];return n&&(n[s]=i),i}function ih(e,t){const n={};for(const s in e)n[t&&/[A-Z]/.test(s)?`on:${s}`:xu(s)]=e[s];return n}const Zh=e=>e?ew(e)?Jc(e)||e.proxy:Zh(e.parent):null,pa=Ut(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Zh(e.parent),$root:e=>Zh(e.root),$emit:e=>e.emit,$options:e=>Xv(e),$forceUpdate:e=>e.f||(e.f=()=>Hv(e.update)),$nextTick:e=>e.n||(e.n=mt.bind(e.proxy)),$watch:e=>lA.bind(e)}),rh=(e,t)=>e!==at&&!e.__isScriptSetup&&We(e,t),pA={get({_:e},t){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(rh(s,t))return o[t]=1,s[t];if(i!==at&&We(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&We(u,t))return o[t]=3,r[t];if(n!==at&&We(n,t))return o[t]=4,n[t];ef&&(o[t]=0)}}const c=pa[t];let d,h;if(c)return t==="$attrs"&&An(e,"get",t),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==at&&We(n,t))return o[t]=4,n[t];if(h=l.config.globalProperties,We(h,t))return h[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:r}=e;return rh(i,t)?(i[t]=n,!0):s!==at&&We(s,t)?(s[t]=n,!0):We(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||e!==at&&We(e,o)||rh(t,o)||(a=r[0])&&We(a,o)||We(s,o)||We(pa,o)||We(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:We(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let ef=!0;function yA(e){const t=Xv(e),n=e.proxy,s=e.ctx;ef=!1,t.beforeCreate&&_p(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:m,activated:g,deactivated:b,beforeDestroy:_,beforeUnmount:w,destroyed:p,unmounted:I,render:k,renderTracked:T,renderTriggered:C,errorCaptured:S,serverPrefetch:x,expose:A,inheritAttrs:O,components:N,directives:L,filters:F}=t;if(u&&_A(u,s,null,e.appContext.config.unwrapInjectedRef),o)for(const P in o){const $=o[P];Pe($)&&(s[P]=$.bind(n))}if(i){const P=i.call(n,n);dt(P)&&(e.data=Wt(P))}if(ef=!0,r)for(const P in r){const $=r[P],J=Pe($)?$.bind(n,n):Pe($.get)?$.get.bind(n,n):Zn,K=!Pe($)&&Pe($.set)?$.set.bind(n):Zn,oe=y({get:J,set:K});Object.defineProperty(s,P,{enumerable:!0,configurable:!0,get:()=>oe.value,set:re=>oe.value=re})}if(a)for(const P in a)H0(a[P],s,n,P);if(l){const P=Pe(l)?l.call(n):l;Reflect.ownKeys(P).forEach($=>{bt($,P[$])})}c&&_p(c,e,"c");function B(P,$){Se($)?$.forEach(J=>P(J.bind(n))):$&&P($.bind(n))}if(B(Yc,d),B(yn,h),B(B0,f),B(U0,m),B(V0,g),B($0,b),B(vA,S),B(fA,T),B(hA,C),B(_n,w),B(j0,I),B(dA,x),Se(A))if(A.length){const P=e.exposed||(e.exposed={});A.forEach($=>{Object.defineProperty(P,$,{get:()=>n[$],set:J=>n[$]=J})})}else e.exposed||(e.exposed={});k&&e.render===Zn&&(e.render=k),O!=null&&(e.inheritAttrs=O),N&&(e.components=N),L&&(e.directives=L)}function _A(e,t,n=Zn,s=!1){Se(e)&&(e=tf(e));for(const i in e){const r=e[i];let o;dt(r)?"default"in r?o=Fe(r.from||i,r.default,!0):o=Fe(r.from||i):o=Fe(r),pt(o)&&s?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[i]=o}}function _p(e,t,n){$n(Se(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function H0(e,t,n,s){const i=s.includes(".")?O0(n,s):()=>n[s];if(kt(e)){const r=t[e];Pe(r)&&he(i,r)}else if(Pe(e))he(i,e.bind(n));else if(dt(e))if(Se(e))e.forEach(r=>H0(r,t,n,s));else{const r=Pe(e.handler)?e.handler.bind(n):t[e.handler];Pe(r)&&he(i,r,e)}}function Xv(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!n&&!s?l=t:(l={},i.length&&i.forEach(u=>qu(l,u,o,!0)),qu(l,t,o)),dt(t)&&r.set(t,l),l}function qu(e,t,n,s=!1){const{mixins:i,extends:r}=t;r&&qu(e,r,n,!0),i&&i.forEach(o=>qu(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=bA[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const bA={data:bp,props:Vi,emits:Vi,methods:Vi,computed:Vi,beforeCreate:dn,created:dn,beforeMount:dn,mounted:dn,beforeUpdate:dn,updated:dn,beforeDestroy:dn,beforeUnmount:dn,destroyed:dn,unmounted:dn,activated:dn,deactivated:dn,errorCaptured:dn,serverPrefetch:dn,components:Vi,directives:Vi,watch:CA,provide:bp,inject:wA};function bp(e,t){return t?e?function(){return Ut(Pe(e)?e.call(this,this):e,Pe(t)?t.call(this,this):t)}:t:e}function wA(e,t){return Vi(tf(e),tf(t))}function tf(e){if(Se(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function dn(e,t){return e?[...new Set([].concat(e,t))]:t}function Vi(e,t){return e?Ut(Ut(Object.create(null),e),t):t}function CA(e,t){if(!e)return t;if(!t)return e;const n=Ut(Object.create(null),e);for(const s in t)n[s]=dn(e[s],t[s]);return n}function SA(e,t,n,s=!1){const i={},r={};zu(r,Qc,1),e.propsDefaults=Object.create(null),W0(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=s?i:y0(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function EA(e,t,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,a=qe(i),[l]=e.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(Wc(e.emitsOptions,h))continue;const f=t[h];if(l)if(We(r,h))f!==r[h]&&(r[h]=f,u=!0);else{const m=Un(h);i[m]=nf(l,a,m,f,e,!1)}else f!==r[h]&&(r[h]=f,u=!0)}}}else{W0(e,t,i,r)&&(u=!0);let c;for(const d in a)(!t||!We(t,d)&&((c=So(d))===d||!We(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=nf(l,a,d,void 0,e,!0)):delete i[d]);if(r!==a)for(const d in r)(!t||!We(t,d)&&!0)&&(delete r[d],u=!0)}u&&Us(e,"set","$attrs")}function W0(e,t,n,s){const[i,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Au(l))continue;const u=t[l];let c;i&&We(i,c=Un(l))?!r||!r.includes(c)?n[c]=u:(a||(a={}))[c]=u:Wc(e.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,o=!0)}if(r){const l=qe(n),u=a||at;for(let c=0;c<r.length;c++){const d=r[c];n[d]=nf(i,l,d,u[d],e,!We(u,d))}}return o}function nf(e,t,n,s,i,r){const o=e[n];if(o!=null){const a=We(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&Pe(l)){const{propsDefaults:u}=i;n in u?s=u[n]:(ao(i),s=u[n]=l.call(null,t),er())}else s=l}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===So(n))&&(s=!0))}return s}function q0(e,t,n=!1){const s=t.propsCache,i=s.get(e);if(i)return i;const r=e.props,o={},a=[];let l=!1;if(!Pe(e)){const c=d=>{l=!0;const[h,f]=q0(d,t,!0);Ut(o,h),f&&a.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!r&&!l)return dt(e)&&s.set(e,Kr),Kr;if(Se(r))for(let c=0;c<r.length;c++){const d=Un(r[c]);wp(d)&&(o[d]=at)}else if(r)for(const c in r){const d=Un(c);if(wp(d)){const h=r[c],f=o[d]=Se(h)||Pe(h)?{type:h}:Object.assign({},h);if(f){const m=Ep(Boolean,f.type),g=Ep(String,f.type);f[0]=m>-1,f[1]=g<0||m<g,(m>-1||We(f,"default"))&&a.push(d)}}}const u=[o,a];return dt(e)&&s.set(e,u),u}function wp(e){return e[0]!=="$"}function Cp(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Sp(e,t){return Cp(e)===Cp(t)}function Ep(e,t){return Se(t)?t.findIndex(n=>Sp(n,e)):Pe(t)&&Sp(t,e)?0:-1}const K0=e=>e[0]==="_"||e==="$stable",Qv=e=>Se(e)?e.map(ds):[ds(e)],IA=(e,t,n)=>{if(t._n)return t;const s=ae((...i)=>Qv(t(...i)),n);return s._c=!1,s},G0=(e,t,n)=>{const s=e._ctx;for(const i in e){if(K0(i))continue;const r=e[i];if(Pe(r))t[i]=IA(i,r,s);else if(r!=null){const o=Qv(r);t[i]=()=>o}}},Y0=(e,t)=>{const n=Qv(t);e.slots.default=()=>n},kA=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=qe(t),zu(t,"_",n)):G0(t,e.slots={})}else e.slots={},t&&Y0(e,t);zu(e.slots,Qc,1)},TA=(e,t,n)=>{const{vnode:s,slots:i}=e;let r=!0,o=at;if(s.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:(Ut(i,t),!n&&a===1&&delete i._):(r=!t.$stable,G0(t,i)),o=t}else t&&(Y0(e,t),o={default:1});if(r)for(const a in i)!K0(a)&&!(a in o)&&delete i[a]};function X0(){return{app:null,config:{isNativeTag:h1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let AA=0;function xA(e,t){return function(s,i=null){Pe(s)||(s=Object.assign({},s)),i!=null&&!dt(i)&&(i=null);const r=X0(),o=new Set;let a=!1;const l=r.app={_uid:AA++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:QA,get config(){return r.config},set config(u){},use(u,...c){return o.has(u)||(u&&Pe(u.install)?(o.add(u),u.install(l,...c)):Pe(u)&&(o.add(u),u(l,...c))),l},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),l},component(u,c){return c?(r.components[u]=c,l):r.components[u]},directive(u,c){return c?(r.directives[u]=c,l):r.directives[u]},mount(u,c,d){if(!a){const h=v(s,i);return h.appContext=r,c&&t?t(h,u):e(h,u,d),a=!0,l._container=u,u.__vue_app__=l,Jc(h.component)||h.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return r.provides[u]=c,l}};return l}}function sf(e,t,n,s,i=!1){if(Se(e)){e.forEach((h,f)=>sf(h,t&&(Se(t)?t[f]:t),n,s,i));return}if(Nu(s)&&!i)return;const r=s.shapeFlag&4?Jc(s.component)||s.component.proxy:s.el,o=i?null:r,{i:a,r:l}=e,u=t&&t.r,c=a.refs===at?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(kt(u)?(c[u]=null,We(d,u)&&(d[u]=null)):pt(u)&&(u.value=null)),Pe(l))pi(l,a,12,[o,c]);else{const h=kt(l),f=pt(l);if(h||f){const m=()=>{if(e.f){const g=h?We(d,l)?d[l]:c[l]:l.value;i?Se(g)&&Pv(g,r):Se(g)?g.includes(r)||g.push(r):h?(c[l]=[r],We(d,l)&&(d[l]=c[l])):(l.value=[r],e.k&&(c[e.k]=l.value))}else h?(c[l]=o,We(d,l)&&(d[l]=o)):f&&(l.value=o,e.k&&(c[e.k]=o))};o?(m.id=-1,vn(m,n)):m()}}}const vn=aA;function RA(e){return NA(e)}function NA(e,t){const n=y1();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=Zn,insertStaticContent:m}=e,g=(E,R,V,U=null,W=null,te=null,ue=!1,ee=null,se=!!R.dynamicChildren)=>{if(E===R)return;E&&!Ui(E,R)&&(U=Z(E),re(E,W,te,!0),E=null),R.patchFlag===-2&&(se=!1,R.dynamicChildren=null);const{type:G,ref:ye,shapeFlag:ve}=R;switch(G){case Xc:b(E,R,V,U);break;case es:_(E,R,V,U);break;case oh:E==null&&w(R,V,U,ue);break;case Re:N(E,R,V,U,W,te,ue,ee,se);break;default:ve&1?k(E,R,V,U,W,te,ue,ee,se):ve&6?L(E,R,V,U,W,te,ue,ee,se):(ve&64||ve&128)&&G.process(E,R,V,U,W,te,ue,ee,se,Oe)}ye!=null&&W&&sf(ye,E&&E.ref,te,R||E,!R)},b=(E,R,V,U)=>{if(E==null)s(R.el=a(R.children),V,U);else{const W=R.el=E.el;R.children!==E.children&&u(W,R.children)}},_=(E,R,V,U)=>{E==null?s(R.el=l(R.children||""),V,U):R.el=E.el},w=(E,R,V,U)=>{[E.el,E.anchor]=m(E.children,R,V,U,E.el,E.anchor)},p=({el:E,anchor:R},V,U)=>{let W;for(;E&&E!==R;)W=h(E),s(E,V,U),E=W;s(R,V,U)},I=({el:E,anchor:R})=>{let V;for(;E&&E!==R;)V=h(E),i(E),E=V;i(R)},k=(E,R,V,U,W,te,ue,ee,se)=>{ue=ue||R.type==="svg",E==null?T(R,V,U,W,te,ue,ee,se):x(E,R,W,te,ue,ee,se)},T=(E,R,V,U,W,te,ue,ee)=>{let se,G;const{type:ye,props:ve,shapeFlag:_e,transition:Ae,dirs:Ve}=E;if(se=E.el=o(E.type,te,ve&&ve.is,ve),_e&8?c(se,E.children):_e&16&&S(E.children,se,null,U,W,te&&ye!=="foreignObject",ue,ee),Ve&&Oi(E,null,U,"created"),ve){for(const et in ve)et!=="value"&&!Au(et)&&r(se,et,null,ve[et],te,E.children,U,W,j);"value"in ve&&r(se,"value",null,ve.value),(G=ve.onVnodeBeforeMount)&&cs(G,U,E)}C(se,E,E.scopeId,ue,U),Ve&&Oi(E,null,U,"beforeMount");const nt=(!W||W&&!W.pendingBranch)&&Ae&&!Ae.persisted;nt&&Ae.beforeEnter(se),s(se,R,V),((G=ve&&ve.onVnodeMounted)||nt||Ve)&&vn(()=>{G&&cs(G,U,E),nt&&Ae.enter(se),Ve&&Oi(E,null,U,"mounted")},W)},C=(E,R,V,U,W)=>{if(V&&f(E,V),U)for(let te=0;te<U.length;te++)f(E,U[te]);if(W){let te=W.subTree;if(R===te){const ue=W.vnode;C(E,ue,ue.scopeId,ue.slotScopeIds,W.parent)}}},S=(E,R,V,U,W,te,ue,ee,se=0)=>{for(let G=se;G<E.length;G++){const ye=E[G]=ee?ci(E[G]):ds(E[G]);g(null,ye,R,V,U,W,te,ue,ee)}},x=(E,R,V,U,W,te,ue)=>{const ee=R.el=E.el;let{patchFlag:se,dynamicChildren:G,dirs:ye}=R;se|=E.patchFlag&16;const ve=E.props||at,_e=R.props||at;let Ae;V&&Di(V,!1),(Ae=_e.onVnodeBeforeUpdate)&&cs(Ae,V,R,E),ye&&Oi(R,E,V,"beforeUpdate"),V&&Di(V,!0);const Ve=W&&R.type!=="foreignObject";if(G?A(E.dynamicChildren,G,ee,V,U,Ve,te):ue||$(E,R,ee,null,V,U,Ve,te,!1),se>0){if(se&16)O(ee,R,ve,_e,V,U,W);else if(se&2&&ve.class!==_e.class&&r(ee,"class",null,_e.class,W),se&4&&r(ee,"style",ve.style,_e.style,W),se&8){const nt=R.dynamicProps;for(let et=0;et<nt.length;et++){const Tt=nt[et],Kn=ve[Tt],Nr=_e[Tt];(Nr!==Kn||Tt==="value")&&r(ee,Tt,Kn,Nr,W,E.children,V,U,j)}}se&1&&E.children!==R.children&&c(ee,R.children)}else!ue&&G==null&&O(ee,R,ve,_e,V,U,W);((Ae=_e.onVnodeUpdated)||ye)&&vn(()=>{Ae&&cs(Ae,V,R,E),ye&&Oi(R,E,V,"updated")},U)},A=(E,R,V,U,W,te,ue)=>{for(let ee=0;ee<R.length;ee++){const se=E[ee],G=R[ee],ye=se.el&&(se.type===Re||!Ui(se,G)||se.shapeFlag&70)?d(se.el):V;g(se,G,ye,null,U,W,te,ue,!0)}},O=(E,R,V,U,W,te,ue)=>{if(V!==U){if(V!==at)for(const ee in V)!Au(ee)&&!(ee in U)&&r(E,ee,V[ee],null,ue,R.children,W,te,j);for(const ee in U){if(Au(ee))continue;const se=U[ee],G=V[ee];se!==G&&ee!=="value"&&r(E,ee,G,se,ue,R.children,W,te,j)}"value"in U&&r(E,"value",V.value,U.value)}},N=(E,R,V,U,W,te,ue,ee,se)=>{const G=R.el=E?E.el:a(""),ye=R.anchor=E?E.anchor:a("");let{patchFlag:ve,dynamicChildren:_e,slotScopeIds:Ae}=R;Ae&&(ee=ee?ee.concat(Ae):Ae),E==null?(s(G,V,U),s(ye,V,U),S(R.children,V,ye,W,te,ue,ee,se)):ve>0&&ve&64&&_e&&E.dynamicChildren?(A(E.dynamicChildren,_e,V,W,te,ue,ee),(R.key!=null||W&&R===W.subTree)&&Jv(E,R,!0)):$(E,R,V,ye,W,te,ue,ee,se)},L=(E,R,V,U,W,te,ue,ee,se)=>{R.slotScopeIds=ee,E==null?R.shapeFlag&512?W.ctx.activate(R,V,U,ue,se):F(R,V,U,W,te,ue,se):q(E,R,se)},F=(E,R,V,U,W,te,ue)=>{const ee=E.component=jA(E,U,W);if(Kc(E)&&(ee.ctx.renderer=Oe),zA(ee),ee.asyncDep){if(W&&W.registerDep(ee,B),!E.el){const se=ee.subTree=v(es);_(null,se,R,V)}return}B(ee,E,R,V,W,te,ue)},q=(E,R,V)=>{const U=R.component=E.component;if(iA(E,R,V))if(U.asyncDep&&!U.asyncResolved){P(U,R,V);return}else U.next=R,J1(U.update),U.update();else R.el=E.el,U.vnode=R},B=(E,R,V,U,W,te,ue)=>{const ee=()=>{if(E.isMounted){let{next:ye,bu:ve,u:_e,parent:Ae,vnode:Ve}=E,nt=ye,et;Di(E,!1),ye?(ye.el=Ve.el,P(E,ye,ue)):ye=Ve,ve&&Ru(ve),(et=ye.props&&ye.props.onVnodeBeforeUpdate)&&cs(et,Ae,ye,Ve),Di(E,!0);const Tt=nh(E),Kn=E.subTree;E.subTree=Tt,g(Kn,Tt,d(Kn.el),Z(Kn),E,W,te),ye.el=Tt.el,nt===null&&rA(E,Tt.el),_e&&vn(_e,W),(et=ye.props&&ye.props.onVnodeUpdated)&&vn(()=>cs(et,Ae,ye,Ve),W)}else{let ye;const{el:ve,props:_e}=R,{bm:Ae,m:Ve,parent:nt}=E,et=Nu(R);if(Di(E,!1),Ae&&Ru(Ae),!et&&(ye=_e&&_e.onVnodeBeforeMount)&&cs(ye,nt,R),Di(E,!0),ve&&De){const Tt=()=>{E.subTree=nh(E),De(ve,E.subTree,E,W,null)};et?R.type.__asyncLoader().then(()=>!E.isUnmounted&&Tt()):Tt()}else{const Tt=E.subTree=nh(E);g(null,Tt,V,U,E,W,te),R.el=Tt.el}if(Ve&&vn(Ve,W),!et&&(ye=_e&&_e.onVnodeMounted)){const Tt=R;vn(()=>cs(ye,nt,Tt),W)}(R.shapeFlag&256||nt&&Nu(nt.vnode)&&nt.vnode.shapeFlag&256)&&E.a&&vn(E.a,W),E.isMounted=!0,R=V=U=null}},se=E.effect=new Mv(ee,()=>Hv(G),E.scope),G=E.update=()=>se.run();G.id=E.uid,Di(E,!0),G()},P=(E,R,V)=>{R.component=E;const U=E.vnode.props;E.vnode=R,E.next=null,EA(E,R.props,U,V),TA(E,R.children,V),Eo(),mp(),Io()},$=(E,R,V,U,W,te,ue,ee,se=!1)=>{const G=E&&E.children,ye=E?E.shapeFlag:0,ve=R.children,{patchFlag:_e,shapeFlag:Ae}=R;if(_e>0){if(_e&128){K(G,ve,V,U,W,te,ue,ee,se);return}else if(_e&256){J(G,ve,V,U,W,te,ue,ee,se);return}}Ae&8?(ye&16&&j(G,W,te),ve!==G&&c(V,ve)):ye&16?Ae&16?K(G,ve,V,U,W,te,ue,ee,se):j(G,W,te,!0):(ye&8&&c(V,""),Ae&16&&S(ve,V,U,W,te,ue,ee,se))},J=(E,R,V,U,W,te,ue,ee,se)=>{E=E||Kr,R=R||Kr;const G=E.length,ye=R.length,ve=Math.min(G,ye);let _e;for(_e=0;_e<ve;_e++){const Ae=R[_e]=se?ci(R[_e]):ds(R[_e]);g(E[_e],Ae,V,null,W,te,ue,ee,se)}G>ye?j(E,W,te,!0,!1,ve):S(R,V,U,W,te,ue,ee,se,ve)},K=(E,R,V,U,W,te,ue,ee,se)=>{let G=0;const ye=R.length;let ve=E.length-1,_e=ye-1;for(;G<=ve&&G<=_e;){const Ae=E[G],Ve=R[G]=se?ci(R[G]):ds(R[G]);if(Ui(Ae,Ve))g(Ae,Ve,V,null,W,te,ue,ee,se);else break;G++}for(;G<=ve&&G<=_e;){const Ae=E[ve],Ve=R[_e]=se?ci(R[_e]):ds(R[_e]);if(Ui(Ae,Ve))g(Ae,Ve,V,null,W,te,ue,ee,se);else break;ve--,_e--}if(G>ve){if(G<=_e){const Ae=_e+1,Ve=Ae<ye?R[Ae].el:U;for(;G<=_e;)g(null,R[G]=se?ci(R[G]):ds(R[G]),V,Ve,W,te,ue,ee,se),G++}}else if(G>_e)for(;G<=ve;)re(E[G],W,te,!0),G++;else{const Ae=G,Ve=G,nt=new Map;for(G=Ve;G<=_e;G++){const bn=R[G]=se?ci(R[G]):ds(R[G]);bn.key!=null&&nt.set(bn.key,G)}let et,Tt=0;const Kn=_e-Ve+1;let Nr=!1,ip=0;const Qo=new Array(Kn);for(G=0;G<Kn;G++)Qo[G]=0;for(G=Ae;G<=ve;G++){const bn=E[G];if(Tt>=Kn){re(bn,W,te,!0);continue}let us;if(bn.key!=null)us=nt.get(bn.key);else for(et=Ve;et<=_e;et++)if(Qo[et-Ve]===0&&Ui(bn,R[et])){us=et;break}us===void 0?re(bn,W,te,!0):(Qo[us-Ve]=G+1,us>=ip?ip=us:Nr=!0,g(bn,R[us],V,null,W,te,ue,ee,se),Tt++)}const rp=Nr?PA(Qo):Kr;for(et=rp.length-1,G=Kn-1;G>=0;G--){const bn=Ve+G,us=R[bn],op=bn+1<ye?R[bn+1].el:U;Qo[G]===0?g(null,us,V,op,W,te,ue,ee,se):Nr&&(et<0||G!==rp[et]?oe(us,V,op,2):et--)}}},oe=(E,R,V,U,W=null)=>{const{el:te,type:ue,transition:ee,children:se,shapeFlag:G}=E;if(G&6){oe(E.component.subTree,R,V,U);return}if(G&128){E.suspense.move(R,V,U);return}if(G&64){ue.move(E,R,V,Oe);return}if(ue===Re){s(te,R,V);for(let ve=0;ve<se.length;ve++)oe(se[ve],R,V,U);s(E.anchor,R,V);return}if(ue===oh){p(E,R,V);return}if(U!==2&&G&1&&ee)if(U===0)ee.beforeEnter(te),s(te,R,V),vn(()=>ee.enter(te),W);else{const{leave:ve,delayLeave:_e,afterLeave:Ae}=ee,Ve=()=>s(te,R,V),nt=()=>{ve(te,()=>{Ve(),Ae&&Ae()})};_e?_e(te,Ve,nt):nt()}else s(te,R,V)},re=(E,R,V,U=!1,W=!1)=>{const{type:te,props:ue,ref:ee,children:se,dynamicChildren:G,shapeFlag:ye,patchFlag:ve,dirs:_e}=E;if(ee!=null&&sf(ee,null,V,E,!0),ye&256){R.ctx.deactivate(E);return}const Ae=ye&1&&_e,Ve=!Nu(E);let nt;if(Ve&&(nt=ue&&ue.onVnodeBeforeUnmount)&&cs(nt,R,E),ye&6)M(E.component,V,U);else{if(ye&128){E.suspense.unmount(V,U);return}Ae&&Oi(E,null,R,"beforeUnmount"),ye&64?E.type.remove(E,R,V,W,Oe,U):G&&(te!==Re||ve>0&&ve&64)?j(G,R,V,!1,!0):(te===Re&&ve&384||!W&&ye&16)&&j(se,R,V),U&&Me(E)}(Ve&&(nt=ue&&ue.onVnodeUnmounted)||Ae)&&vn(()=>{nt&&cs(nt,R,E),Ae&&Oi(E,null,R,"unmounted")},V)},Me=E=>{const{type:R,el:V,anchor:U,transition:W}=E;if(R===Re){ne(V,U);return}if(R===oh){I(E);return}const te=()=>{i(V),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(E.shapeFlag&1&&W&&!W.persisted){const{leave:ue,delayLeave:ee}=W,se=()=>ue(V,te);ee?ee(E.el,te,se):se()}else te()},ne=(E,R)=>{let V;for(;E!==R;)V=h(E),i(E),E=V;i(R)},M=(E,R,V)=>{const{bum:U,scope:W,update:te,subTree:ue,um:ee}=E;U&&Ru(U),W.stop(),te&&(te.active=!1,re(ue,E,R,V)),ee&&vn(ee,R),vn(()=>{E.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},j=(E,R,V,U=!1,W=!1,te=0)=>{for(let ue=te;ue<E.length;ue++)re(E[ue],R,V,U,W)},Z=E=>E.shapeFlag&6?Z(E.component.subTree):E.shapeFlag&128?E.suspense.next():h(E.anchor||E.el),de=(E,R,V)=>{E==null?R._vnode&&re(R._vnode,null,null,!0):g(R._vnode||null,E,R,null,null,null,V),mp(),x0(),R._vnode=E},Oe={p:g,um:re,m:oe,r:Me,mt:F,mc:S,pc:$,pbc:A,n:Z,o:e};let Ge,De;return t&&([Ge,De]=t(Oe)),{render:de,hydrate:Ge,createApp:xA(de,Ge)}}function Di({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Jv(e,t,n=!1){const s=e.children,i=t.children;if(Se(s)&&Se(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=ci(i[r]),a.el=o.el),n||Jv(o,a)),a.type===Xc&&(a.el=o.el)}}function PA(e){const t=e.slice(),n=[0];let s,i,r,o,a;const l=e.length;for(s=0;s<l;s++){const u=e[s];if(u!==0){if(i=n[n.length-1],e[i]<u){t[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<u?r=a+1:o=a;u<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}const OA=e=>e.__isTeleport,ya=e=>e&&(e.disabled||e.disabled===""),Ip=e=>typeof SVGElement<"u"&&e instanceof SVGElement,rf=(e,t)=>{const n=e&&e.to;return kt(n)?t?t(n):null:n},DA={__isTeleport:!0,process(e,t,n,s,i,r,o,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:m,createText:g,createComment:b}}=u,_=ya(t.props);let{shapeFlag:w,children:p,dynamicChildren:I}=t;if(e==null){const k=t.el=g(""),T=t.anchor=g("");f(k,n,s),f(T,n,s);const C=t.target=rf(t.props,m),S=t.targetAnchor=g("");C&&(f(S,C),o=o||Ip(C));const x=(A,O)=>{w&16&&c(p,A,O,i,r,o,a,l)};_?x(n,T):C&&x(C,S)}else{t.el=e.el;const k=t.anchor=e.anchor,T=t.target=e.target,C=t.targetAnchor=e.targetAnchor,S=ya(e.props),x=S?n:T,A=S?k:C;if(o=o||Ip(T),I?(h(e.dynamicChildren,I,x,i,r,o,a),Jv(e,t,!0)):l||d(e,t,x,A,i,r,o,a,!1),_)S||cu(t,n,k,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const O=t.target=rf(t.props,m);O&&cu(t,O,null,u,0)}else S&&cu(t,T,C,u,1)}Q0(t)},remove(e,t,n,s,{um:i,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:h}=e;if(d&&r(c),(o||!ya(h))&&(r(u),a&16))for(let f=0;f<l.length;f++){const m=l[f];i(m,t,n,!0,!!m.dynamicChildren)}},move:cu,hydrate:LA};function cu(e,t,n,{o:{insert:s},m:i},r=2){r===0&&s(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,d=r===2;if(d&&s(o,t,n),(!d||ya(c))&&l&16)for(let h=0;h<u.length;h++)i(u[h],t,n,2);d&&s(a,t,n)}function LA(e,t,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=t.target=rf(t.props,l);if(c){const d=c._lpa||c.firstChild;if(t.shapeFlag&16)if(ya(t.props))t.anchor=u(o(e),t,a(e),n,s,i,r),t.targetAnchor=d;else{t.anchor=o(e);let h=d;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}u(d,t,c,n,s,i,r)}Q0(t)}return t.anchor&&o(t.anchor)}const MA=DA;function Q0(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Re=Symbol(void 0),Xc=Symbol(void 0),es=Symbol(void 0),oh=Symbol(void 0),_a=[];let Xn=null;function ct(e=!1){_a.push(Xn=e?null:[])}function VA(){_a.pop(),Xn=_a[_a.length-1]||null}let Ba=1;function kp(e){Ba+=e}function J0(e){return e.dynamicChildren=Ba>0?Xn||Kr:null,VA(),Ba>0&&Xn&&Xn.push(e),e}function jn(e,t,n,s,i,r){return J0(Et(e,t,n,s,i,r,!0))}function In(e,t,n,s,i){return J0(v(e,t,n,s,i,!0))}function of(e){return e?e.__v_isVNode===!0:!1}function Ui(e,t){return e.type===t.type&&e.key===t.key}const Qc="__vInternal",Z0=({key:e})=>e!=null?e:null,Pu=({ref:e,ref_key:t,ref_for:n})=>e!=null?kt(e)||pt(e)||Pe(e)?{i:Sn,r:e,k:t,f:!!n}:e:null;function Et(e,t=null,n=null,s=0,i=null,r=e===Re?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Z0(t),ref:t&&Pu(t),scopeId:P0,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Sn};return a?(Zv(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=kt(n)?8:16),Ba>0&&!o&&Xn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Xn.push(l),l}const v=$A;function $A(e,t=null,n=null,s=0,i=null,r=!1){if((!e||e===z0)&&(e=es),of(e)){const a=js(e,t,!0);return n&&Zv(a,n),Ba>0&&!r&&Xn&&(a.shapeFlag&6?Xn[Xn.indexOf(e)]=a:Xn.push(a)),a.patchFlag|=-2,a}if(GA(e)&&(e=e.__vccOpts),t){t=FA(t);let{class:a,style:l}=t;a&&!kt(a)&&(t.class=Rv(a)),dt(l)&&(_0(l)&&!Se(l)&&(l=Ut({},l)),t.style=xv(l))}const o=kt(e)?1:oA(e)?128:OA(e)?64:dt(e)?4:Pe(e)?2:0;return Et(e,t,n,s,i,o,r,!0)}function FA(e){return e?_0(e)||Qc in e?Ut({},e):e:null}function js(e,t,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=e,a=t?ce(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Z0(a),ref:t&&t.ref?n&&i?Se(i)?i.concat(Pu(t)):[i,Pu(t)]:Pu(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Re?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&js(e.ssContent),ssFallback:e.ssFallback&&js(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function Ye(e=" ",t=0){return v(Xc,null,e,t)}function oo(e="",t=!1){return t?(ct(),In(es,null,e)):v(es,null,e)}function ds(e){return e==null||typeof e=="boolean"?v(es):Se(e)?v(Re,null,e.slice()):typeof e=="object"?ci(e):v(Xc,null,String(e))}function ci(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:js(e)}function Zv(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Se(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),Zv(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Qc in t)?t._ctx=Sn:i===3&&Sn&&(Sn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Pe(t)?(t={default:t,_ctx:Sn},n=32):(t=String(t),s&64?(n=16,t=[Ye(t)]):n=8);e.children=t,e.shapeFlag|=n}function ce(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=Rv([t.class,s.class]));else if(i==="style")t.style=xv([t.style,s.style]);else if(Bc(i)){const r=t[i],o=s[i];o&&r!==o&&!(Se(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function cs(e,t,n,s=null){$n(e,t,7,[n,s])}const BA=X0();let UA=0;function jA(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||BA,r={uid:UA++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new a0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:q0(s,i),emitsOptions:N0(s,i),emit:null,emitted:null,propsDefaults:at,inheritAttrs:s.inheritAttrs,ctx:at,data:at,props:at,attrs:at,slots:at,refs:at,setupState:at,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=tA.bind(null,r),e.ce&&e.ce(r),r}let Ft=null;const _l=()=>Ft||Sn,ao=e=>{Ft=e,e.scope.on()},er=()=>{Ft&&Ft.scope.off(),Ft=null};function ew(e){return e.vnode.shapeFlag&4}let Ua=!1;function zA(e,t=!1){Ua=t;const{props:n,children:s}=e.vnode,i=ew(e);SA(e,n,i,t),kA(e,s);const r=i?HA(e,t):void 0;return Ua=!1,r}function HA(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=b0(new Proxy(e.ctx,pA));const{setup:s}=n;if(s){const i=e.setupContext=s.length>1?qA(e):null;ao(e),Eo();const r=pi(s,e,0,[e.props,i]);if(Io(),er(),i0(r)){if(r.then(er,er),t)return r.then(o=>{Tp(e,o,t)}).catch(o=>{Hc(o,e,0)});e.asyncDep=r}else Tp(e,r,t)}else tw(e,t)}function Tp(e,t,n){Pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:dt(t)&&(e.setupState=I0(t)),tw(e,n)}let Ap;function tw(e,t,n){const s=e.type;if(!e.render){if(!t&&Ap&&!s.render){const i=s.template||Xv(e).template;if(i){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=s,u=Ut(Ut({isCustomElement:r,delimiters:a},o),l);s.render=Ap(i,u)}}e.render=s.render||Zn}ao(e),Eo(),yA(e),Io(),er()}function WA(e){return new Proxy(e.attrs,{get(t,n){return An(e,"get","$attrs"),t[n]}})}function qA(e){const t=s=>{e.exposed=s||{}};let n;return{get attrs(){return n||(n=WA(e))},slots:e.slots,emit:e.emit,expose:t}}function Jc(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(I0(b0(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in pa)return pa[n](e)},has(t,n){return n in t||n in pa}}))}function KA(e,t=!0){return Pe(e)?e.displayName||e.name:e.name||t&&e.__name}function GA(e){return Pe(e)&&"__vccOpts"in e}const y=(e,t)=>Y1(e,t,Ua);function Ts(e,t,n){const s=arguments.length;return s===2?dt(t)&&!Se(t)?of(t)?v(e,null,[t]):v(e,t):v(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&of(n)&&(n=[n]),v(e,t,n))}const YA=Symbol(""),XA=()=>Fe(YA),QA="3.2.45",JA="http://www.w3.org/2000/svg",ji=typeof document<"u"?document:null,xp=ji&&ji.createElement("template"),ZA={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t?ji.createElementNS(JA,e):ji.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>ji.createTextNode(e),createComment:e=>ji.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ji.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){const o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{xp.innerHTML=s?`<svg>${e}</svg>`:e;const a=xp.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function ex(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function tx(e,t,n){const s=e.style,i=kt(n);if(n&&!i){for(const r in n)af(s,r,n[r]);if(t&&!kt(t))for(const r in t)n[r]==null&&af(s,r,"")}else{const r=s.display;i?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=r)}}const Rp=/\s*!important$/;function af(e,t,n){if(Se(n))n.forEach(s=>af(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=nx(e,t);Rp.test(n)?e.setProperty(So(s),n.replace(Rp,""),"important"):e[s]=n}}const Np=["Webkit","Moz","ms"],ah={};function nx(e,t){const n=ah[t];if(n)return n;let s=Un(t);if(s!=="filter"&&s in e)return ah[t]=s;s=Qs(s);for(let i=0;i<Np.length;i++){const r=Np[i]+s;if(r in e)return ah[t]=r}return t}const Pp="http://www.w3.org/1999/xlink";function sx(e,t,n,s,i){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Pp,t.slice(6,t.length)):e.setAttributeNS(Pp,t,n);else{const r=d1(t);n==null||r&&!t0(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function ix(e,t,n,s,i,r,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,i,r),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const l=n==null?"":n;(e.value!==l||e.tagName==="OPTION")&&(e.value=l),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=t0(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function Fr(e,t,n,s){e.addEventListener(t,n,s)}function rx(e,t,n,s){e.removeEventListener(t,n,s)}function ox(e,t,n,s,i=null){const r=e._vei||(e._vei={}),o=r[t];if(s&&o)o.value=s;else{const[a,l]=ax(t);if(s){const u=r[t]=cx(s,i);Fr(e,a,u,l)}else o&&(rx(e,a,o,l),r[t]=void 0)}}const Op=/(?:Once|Passive|Capture)$/;function ax(e){let t;if(Op.test(e)){t={};let s;for(;s=e.match(Op);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):So(e.slice(2)),t]}let lh=0;const lx=Promise.resolve(),ux=()=>lh||(lx.then(()=>lh=0),lh=Date.now());function cx(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;$n(dx(s,n.value),t,5,[s])};return n.value=e,n.attached=ux(),n}function dx(e,t){if(Se(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const Dp=/^on[a-z]/,hx=(e,t,n,s,i=!1,r,o,a,l)=>{t==="class"?ex(e,s,i):t==="style"?tx(e,n,s):Bc(t)?Nv(t)||ox(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):fx(e,t,s,i))?ix(e,t,s,r,o,a,l):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),sx(e,t,s,i))};function fx(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&Dp.test(t)&&Pe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Dp.test(t)&&kt(n)?!1:t in e}const oi="transition",Jo="animation",ws=(e,{slots:t})=>Ts(L0,sw(e),t);ws.displayName="Transition";const nw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},vx=ws.props=Ut({},L0.props,nw),Li=(e,t=[])=>{Se(e)?e.forEach(n=>n(...t)):e&&e(...t)},Lp=e=>e?Se(e)?e.some(t=>t.length>1):e.length>1:!1;function sw(e){const t={};for(const N in e)N in nw||(t[N]=e[N]);if(e.css===!1)return t;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,m=mx(i),g=m&&m[0],b=m&&m[1],{onBeforeEnter:_,onEnter:w,onEnterCancelled:p,onLeave:I,onLeaveCancelled:k,onBeforeAppear:T=_,onAppear:C=w,onAppearCancelled:S=p}=t,x=(N,L,F)=>{ui(N,L?c:a),ui(N,L?u:o),F&&F()},A=(N,L)=>{N._isLeaving=!1,ui(N,d),ui(N,f),ui(N,h),L&&L()},O=N=>(L,F)=>{const q=N?C:w,B=()=>x(L,N,F);Li(q,[L,B]),Mp(()=>{ui(L,N?l:r),Os(L,N?c:a),Lp(q)||Vp(L,s,g,B)})};return Ut(t,{onBeforeEnter(N){Li(_,[N]),Os(N,r),Os(N,o)},onBeforeAppear(N){Li(T,[N]),Os(N,l),Os(N,u)},onEnter:O(!1),onAppear:O(!0),onLeave(N,L){N._isLeaving=!0;const F=()=>A(N,L);Os(N,d),rw(),Os(N,h),Mp(()=>{!N._isLeaving||(ui(N,d),Os(N,f),Lp(I)||Vp(N,s,b,F))}),Li(I,[N,F])},onEnterCancelled(N){x(N,!1),Li(p,[N])},onAppearCancelled(N){x(N,!0),Li(S,[N])},onLeaveCancelled(N){A(N),Li(k,[N])}})}function mx(e){if(e==null)return null;if(dt(e))return[uh(e.enter),uh(e.leave)];{const t=uh(e);return[t,t]}}function uh(e){return Da(e)}function Os(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function ui(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Mp(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let gx=0;function Vp(e,t,n,s){const i=e._endId=++gx,r=()=>{i===e._endId&&s()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=iw(e,t);if(!o)return s();const u=o+"end";let c=0;const d=()=>{e.removeEventListener(u,h),r()},h=f=>{f.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),e.addEventListener(u,h)}function iw(e,t){const n=window.getComputedStyle(e),s=m=>(n[m]||"").split(", "),i=s(`${oi}Delay`),r=s(`${oi}Duration`),o=$p(i,r),a=s(`${Jo}Delay`),l=s(`${Jo}Duration`),u=$p(a,l);let c=null,d=0,h=0;t===oi?o>0&&(c=oi,d=o,h=r.length):t===Jo?u>0&&(c=Jo,d=u,h=l.length):(d=Math.max(o,u),c=d>0?o>u?oi:Jo:null,h=c?c===oi?r.length:l.length:0);const f=c===oi&&/\b(transform|all)(,|$)/.test(s(`${oi}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function $p(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Fp(n)+Fp(e[s])))}function Fp(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function rw(){return document.body.offsetHeight}const ow=new WeakMap,aw=new WeakMap,px={name:"TransitionGroup",props:Ut({},vx,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=_l(),s=D0();let i,r;return U0(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!Cx(i[0].el,n.vnode.el,o))return;i.forEach(_x),i.forEach(bx);const a=i.filter(wx);rw(),a.forEach(l=>{const u=l.el,c=u.style;Os(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u._moveCb=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u._moveCb=null,ui(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=qe(e),a=sw(o);let l=o.tag||Re;i=r,r=t.default?qv(t.default()):[];for(let u=0;u<r.length;u++){const c=r[u];c.key!=null&&Fa(c,$a(c,a,s,n))}if(i)for(let u=0;u<i.length;u++){const c=i[u];Fa(c,$a(c,a,s,n)),ow.set(c,c.el.getBoundingClientRect())}return v(l,null,r)}}},yx=px;function _x(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function bx(e){aw.set(e,e.el.getBoundingClientRect())}function wx(e){const t=ow.get(e),n=aw.get(e),s=t.left-n.left,i=t.top-n.top;if(s||i){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",e}}function Cx(e,t,n){const s=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&s.classList.add(o)),s.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(s);const{hasTransform:r}=iw(s);return i.removeChild(s),r}const Bp=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Se(t)?n=>Ru(t,n):t};function Sx(e){e.target.composing=!0}function Up(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ex={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e._assign=Bp(i);const r=s||i.props&&i.props.type==="number";Fr(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=Da(a)),e._assign(a)}),n&&Fr(e,"change",()=>{e.value=e.value.trim()}),t||(Fr(e,"compositionstart",Sx),Fr(e,"compositionend",Up),Fr(e,"change",Up))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:i}},r){if(e._assign=Bp(r),e.composing||document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===t||(i||e.type==="number")&&Da(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},As={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Zo(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Zo(e,!0),s.enter(e)):s.leave(e,()=>{Zo(e,!1)}):Zo(e,t))},beforeUnmount(e,{value:t}){Zo(e,t)}};function Zo(e,t){e.style.display=t?e._vod:"none"}const Ix=Ut({patchProp:hx},ZA);let jp;function kx(){return jp||(jp=RA(Ix))}const Tx=(...e)=>{const t=kx().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=Ax(s);if(!i)return;const r=t._component;!Pe(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function Ax(e){return kt(e)?document.querySelector(e):e}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Br=typeof window<"u";function xx(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Je=Object.assign;function ch(e,t){const n={};for(const s in t){const i=t[s];n[s]=ns(i)?i.map(e):e(i)}return n}const ba=()=>{},ns=Array.isArray,Rx=/\/$/,Nx=e=>e.replace(Rx,"");function dh(e,t,n="/"){let s,i={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),r=t.slice(l+1,a>-1?a:t.length),i=e(r)),a>-1&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=Lx(s!=null?s:t,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:o}}function Px(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function zp(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Ox(e,t,n){const s=t.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&lo(t.matched[s],n.matched[i])&&lw(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function lo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function lw(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Dx(e[n],t[n]))return!1;return!0}function Dx(e,t){return ns(e)?Hp(e,t):ns(t)?Hp(t,e):e===t}function Hp(e,t){return ns(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Lx(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/");let i=n.length-1,r,o;for(r=0;r<s.length;r++)if(o=s[r],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(r-(r===s.length?1:0)).join("/")}var ja;(function(e){e.pop="pop",e.push="push"})(ja||(ja={}));var wa;(function(e){e.back="back",e.forward="forward",e.unknown=""})(wa||(wa={}));function Mx(e){if(!e)if(Br){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Nx(e)}const Vx=/^[^#]+#/;function $x(e,t){return e.replace(Vx,"#")+t}function Fx(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Zc=()=>({left:window.pageXOffset,top:window.pageYOffset});function Bx(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=Fx(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Wp(e,t){return(history.state?history.state.position-t:-1)+e}const lf=new Map;function Ux(e,t){lf.set(e,t)}function jx(e){const t=lf.get(e);return lf.delete(e),t}let zx=()=>location.protocol+"//"+location.host;function uw(e,t){const{pathname:n,search:s,hash:i}=t,r=e.indexOf("#");if(r>-1){let a=i.includes(e.slice(r))?e.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),zp(l,"")}return zp(n,e)+s+i}function Hx(e,t,n,s){let i=[],r=[],o=null;const a=({state:h})=>{const f=uw(e,location),m=n.value,g=t.value;let b=0;if(h){if(n.value=f,t.value=h,o&&o===m){o=null;return}b=g?h.position-g.position:0}else s(f);i.forEach(_=>{_(n.value,m,{delta:b,type:ja.pop,direction:b?b>0?wa.forward:wa.back:wa.unknown})})};function l(){o=n.value}function u(h){i.push(h);const f=()=>{const m=i.indexOf(h);m>-1&&i.splice(m,1)};return r.push(f),f}function c(){const{history:h}=window;!h.state||h.replaceState(Je({},h.state,{scroll:Zc()}),"")}function d(){for(const h of r)h();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:d}}function qp(e,t,n,s=!1,i=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:i?Zc():null}}function Wx(e){const{history:t,location:n}=window,s={value:uw(e,n)},i={value:t.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,u,c){const d=e.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:zx()+e+l;try{t[c?"replaceState":"pushState"](u,"",h),i.value=u}catch(f){console.error(f),n[c?"replace":"assign"](h)}}function o(l,u){const c=Je({},t.state,qp(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});r(l,c,!0),s.value=l}function a(l,u){const c=Je({},i.value,t.state,{forward:l,scroll:Zc()});r(c.current,c,!0);const d=Je({},qp(s.value,l,null),{position:c.position+1},u);r(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function qx(e){e=Mx(e);const t=Wx(e),n=Hx(e,t.state,t.location,t.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Je({location:"",base:e,go:s,createHref:$x.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Kx(e){return typeof e=="string"||e&&typeof e=="object"}function cw(e){return typeof e=="string"||typeof e=="symbol"}const ai={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},dw=Symbol("");var Kp;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Kp||(Kp={}));function uo(e,t){return Je(new Error,{type:e,[dw]:!0},t)}function Ps(e,t){return e instanceof Error&&dw in e&&(t==null||!!(e.type&t))}const Gp="[^/]+?",Gx={sensitive:!1,strict:!1,start:!0,end:!0},Yx=/[.+*?^${}()[\]/\\]/g;function Xx(e,t){const n=Je({},Gx,t),s=[];let i=n.start?"^":"";const r=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(Yx,"\\$&"),f+=40;else if(h.type===1){const{value:m,repeatable:g,optional:b,regexp:_}=h;r.push({name:m,repeatable:g,optional:b});const w=_||Gp;if(w!==Gp){f+=10;try{new RegExp(`(${w})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${m}" (${w}): `+I.message)}}let p=g?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;d||(p=b&&u.length<2?`(?:/${p})`:"/"+p),b&&(p+="?"),i+=p,f+=20,b&&(f+=-8),g&&(f+=-20),w===".*"&&(f+=-50)}c.push(f)}s.push(c)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",m=r[h-1];d[m.name]=f&&m.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:m,repeatable:g,optional:b}=f,_=m in u?u[m]:"";if(ns(_)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const w=ns(_)?_.join("/"):_;if(!w)if(b)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);c+=w}}return c||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function Qx(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Jx(e,t){let n=0;const s=e.score,i=t.score;for(;n<s.length&&n<i.length;){const r=Qx(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(Yp(s))return 1;if(Yp(i))return-1}return i.length-s.length}function Yp(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Zx={type:0,value:""},eR=/[a-zA-Z0-9_]/;function tR(e){if(!e)return[[]];if(e==="/")return[[Zx]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,u="",c="";function d(){!u||(n===0?r.push({type:0,value:u}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=s;break;case 1:l==="("?n=2:eR.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function nR(e,t,n){const s=Xx(tR(e.path),n),i=Je(s,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function sR(e,t){const n=[],s=new Map;t=Jp({strict:!1,end:!0,sensitive:!1},t);function i(c){return s.get(c)}function r(c,d,h){const f=!h,m=iR(c);m.aliasOf=h&&h.record;const g=Jp(t,c),b=[m];if("alias"in c){const p=typeof c.alias=="string"?[c.alias]:c.alias;for(const I of p)b.push(Je({},m,{components:h?h.record.components:m.components,path:I,aliasOf:h?h.record:m}))}let _,w;for(const p of b){const{path:I}=p;if(d&&I[0]!=="/"){const k=d.record.path,T=k[k.length-1]==="/"?"":"/";p.path=d.record.path+(I&&T+I)}if(_=nR(p,d,g),h?h.alias.push(_):(w=w||_,w!==_&&w.alias.push(_),f&&c.name&&!Qp(_)&&o(c.name)),m.children){const k=m.children;for(let T=0;T<k.length;T++)r(k[T],_,h&&h.children[T])}h=h||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&l(_)}return w?()=>{o(w)}:ba}function o(c){if(cw(c)){const d=s.get(c);d&&(s.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&s.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&Jx(c,n[d])>=0&&(c.record.path!==n[d].record.path||!hw(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!Qp(c)&&s.set(c.record.name,c)}function u(c,d){let h,f={},m,g;if("name"in c&&c.name){if(h=s.get(c.name),!h)throw uo(1,{location:c});g=h.record.name,f=Je(Xp(d.params,h.keys.filter(w=>!w.optional).map(w=>w.name)),c.params&&Xp(c.params,h.keys.map(w=>w.name))),m=h.stringify(f)}else if("path"in c)m=c.path,h=n.find(w=>w.re.test(m)),h&&(f=h.parse(m),g=h.record.name);else{if(h=d.name?s.get(d.name):n.find(w=>w.re.test(d.path)),!h)throw uo(1,{location:c,currentLocation:d});g=h.record.name,f=Je({},d.params,c.params),m=h.stringify(f)}const b=[];let _=h;for(;_;)b.unshift(_.record),_=_.parent;return{name:g,path:m,params:f,matched:b,meta:oR(b)}}return e.forEach(c=>r(c)),{addRoute:r,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function Xp(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function iR(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:rR(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function rR(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="boolean"?n:n[s];return t}function Qp(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function oR(e){return e.reduce((t,n)=>Je(t,n.meta),{})}function Jp(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function hw(e,t){return t.children.some(n=>n===e||hw(e,n))}const fw=/#/g,aR=/&/g,lR=/\//g,uR=/=/g,cR=/\?/g,vw=/\+/g,dR=/%5B/g,hR=/%5D/g,mw=/%5E/g,fR=/%60/g,gw=/%7B/g,vR=/%7C/g,pw=/%7D/g,mR=/%20/g;function em(e){return encodeURI(""+e).replace(vR,"|").replace(dR,"[").replace(hR,"]")}function gR(e){return em(e).replace(gw,"{").replace(pw,"}").replace(mw,"^")}function uf(e){return em(e).replace(vw,"%2B").replace(mR,"+").replace(fw,"%23").replace(aR,"%26").replace(fR,"`").replace(gw,"{").replace(pw,"}").replace(mw,"^")}function pR(e){return uf(e).replace(uR,"%3D")}function yR(e){return em(e).replace(fw,"%23").replace(cR,"%3F")}function _R(e){return e==null?"":yR(e).replace(lR,"%2F")}function Ku(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function bR(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(vw," "),o=r.indexOf("="),a=Ku(o<0?r:r.slice(0,o)),l=o<0?null:Ku(r.slice(o+1));if(a in t){let u=t[a];ns(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Zp(e){let t="";for(let n in e){const s=e[n];if(n=pR(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(ns(s)?s.map(r=>r&&uf(r)):[s&&uf(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function wR(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=ns(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return t}const CR=Symbol(""),ey=Symbol(""),tm=Symbol(""),yw=Symbol(""),cf=Symbol("");function ea(){let e=[];function t(s){return e.push(s),()=>{const i=e.indexOf(s);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function di(e,t,n,s,i){const r=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(uo(4,{from:n,to:t})):d instanceof Error?a(d):Kx(d)?a(uo(2,{from:t,to:d})):(r&&s.enterCallbacks[i]===r&&typeof d=="function"&&r.push(d),o())},u=e.call(s&&s.instances[i],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(d=>a(d))})}function hh(e,t,n,s){const i=[];for(const r of e)for(const o in r.components){let a=r.components[o];if(!(t!=="beforeRouteEnter"&&!r.instances[o]))if(SR(a)){const u=(a.__vccOpts||a)[t];u&&i.push(di(u,n,s,r,o))}else{let l=a();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const c=xx(u)?u.default:u;r.components[o]=c;const h=(c.__vccOpts||c)[t];return h&&di(h,n,s,r,o)()}))}}return i}function SR(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ty(e){const t=Fe(tm),n=Fe(yw),s=y(()=>t.resolve(gt(e.to))),i=y(()=>{const{matched:l}=s.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(lo.bind(null,c));if(h>-1)return h;const f=ny(l[u-2]);return u>1&&ny(c)===f&&d[d.length-1].path!==f?d.findIndex(lo.bind(null,l[u-2])):h}),r=y(()=>i.value>-1&&kR(n.params,s.value.params)),o=y(()=>i.value>-1&&i.value===n.matched.length-1&&lw(n.params,s.value.params));function a(l={}){return IR(l)?t[gt(e.replace)?"replace":"push"](gt(e.to)).catch(ba):Promise.resolve()}return{route:s,href:y(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}const ER=qc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ty,setup(e,{slots:t}){const n=Wt(ty(e)),{options:s}=Fe(tm),i=y(()=>({[sy(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[sy(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:Ts("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),Hi=ER;function IR(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function kR(e,t){for(const n in t){const s=t[n],i=e[n];if(typeof s=="string"){if(s!==i)return!1}else if(!ns(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function ny(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const sy=(e,t,n)=>e!=null?e:t!=null?t:n,TR=qc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Fe(cf),i=y(()=>e.route||s.value),r=Fe(ey,0),o=y(()=>{let u=gt(r);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=y(()=>i.value.matched[o.value]);bt(ey,y(()=>o.value+1)),bt(CR,a),bt(cf,i);const l=D();return he(()=>[l.value,a.value,e.name],([u,c,d],[h,f,m])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!lo(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=i.value,c=e.name,d=a.value,h=d&&d.components[c];if(!h)return iy(n.default,{Component:h,route:u});const f=d.props[c],m=f?f===!0?u.params:typeof f=="function"?f(u):f:null,b=Ts(h,Je({},m,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return iy(n.default,{Component:b,route:u})||b}}});function iy(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const _w=TR;function AR(e){const t=sR(e.routes,e),n=e.parseQuery||bR,s=e.stringifyQuery||Zp,i=e.history,r=ea(),o=ea(),a=ea(),l=S0(ai);let u=ai;Br&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ch.bind(null,M=>""+M),d=ch.bind(null,_R),h=ch.bind(null,Ku);function f(M,j){let Z,de;return cw(M)?(Z=t.getRecordMatcher(M),de=j):de=M,t.addRoute(de,Z)}function m(M){const j=t.getRecordMatcher(M);j&&t.removeRoute(j)}function g(){return t.getRoutes().map(M=>M.record)}function b(M){return!!t.getRecordMatcher(M)}function _(M,j){if(j=Je({},j||l.value),typeof M=="string"){const E=dh(n,M,j.path),R=t.resolve({path:E.path},j),V=i.createHref(E.fullPath);return Je(E,R,{params:h(R.params),hash:Ku(E.hash),redirectedFrom:void 0,href:V})}let Z;if("path"in M)Z=Je({},M,{path:dh(n,M.path,j.path).path});else{const E=Je({},M.params);for(const R in E)E[R]==null&&delete E[R];Z=Je({},M,{params:d(M.params)}),j.params=d(j.params)}const de=t.resolve(Z,j),Oe=M.hash||"";de.params=c(h(de.params));const Ge=Px(s,Je({},M,{hash:gR(Oe),path:de.path})),De=i.createHref(Ge);return Je({fullPath:Ge,hash:Oe,query:s===Zp?wR(M.query):M.query||{}},de,{redirectedFrom:void 0,href:De})}function w(M){return typeof M=="string"?dh(n,M,l.value.path):Je({},M)}function p(M,j){if(u!==M)return uo(8,{from:j,to:M})}function I(M){return C(M)}function k(M){return I(Je(w(M),{replace:!0}))}function T(M){const j=M.matched[M.matched.length-1];if(j&&j.redirect){const{redirect:Z}=j;let de=typeof Z=="function"?Z(M):Z;return typeof de=="string"&&(de=de.includes("?")||de.includes("#")?de=w(de):{path:de},de.params={}),Je({query:M.query,hash:M.hash,params:"path"in de?{}:M.params},de)}}function C(M,j){const Z=u=_(M),de=l.value,Oe=M.state,Ge=M.force,De=M.replace===!0,E=T(Z);if(E)return C(Je(w(E),{state:typeof E=="object"?Je({},Oe,E.state):Oe,force:Ge,replace:De}),j||Z);const R=Z;R.redirectedFrom=j;let V;return!Ge&&Ox(s,de,Z)&&(V=uo(16,{to:R,from:de}),K(de,de,!0,!1)),(V?Promise.resolve(V):x(R,de)).catch(U=>Ps(U)?Ps(U,2)?U:J(U):P(U,R,de)).then(U=>{if(U){if(Ps(U,2))return C(Je({replace:De},w(U.to),{state:typeof U.to=="object"?Je({},Oe,U.to.state):Oe,force:Ge}),j||R)}else U=O(R,de,!0,De,Oe);return A(R,de,U),U})}function S(M,j){const Z=p(M,j);return Z?Promise.reject(Z):Promise.resolve()}function x(M,j){let Z;const[de,Oe,Ge]=xR(M,j);Z=hh(de.reverse(),"beforeRouteLeave",M,j);for(const E of de)E.leaveGuards.forEach(R=>{Z.push(di(R,M,j))});const De=S.bind(null,M,j);return Z.push(De),Pr(Z).then(()=>{Z=[];for(const E of r.list())Z.push(di(E,M,j));return Z.push(De),Pr(Z)}).then(()=>{Z=hh(Oe,"beforeRouteUpdate",M,j);for(const E of Oe)E.updateGuards.forEach(R=>{Z.push(di(R,M,j))});return Z.push(De),Pr(Z)}).then(()=>{Z=[];for(const E of M.matched)if(E.beforeEnter&&!j.matched.includes(E))if(ns(E.beforeEnter))for(const R of E.beforeEnter)Z.push(di(R,M,j));else Z.push(di(E.beforeEnter,M,j));return Z.push(De),Pr(Z)}).then(()=>(M.matched.forEach(E=>E.enterCallbacks={}),Z=hh(Ge,"beforeRouteEnter",M,j),Z.push(De),Pr(Z))).then(()=>{Z=[];for(const E of o.list())Z.push(di(E,M,j));return Z.push(De),Pr(Z)}).catch(E=>Ps(E,8)?E:Promise.reject(E))}function A(M,j,Z){for(const de of a.list())de(M,j,Z)}function O(M,j,Z,de,Oe){const Ge=p(M,j);if(Ge)return Ge;const De=j===ai,E=Br?history.state:{};Z&&(de||De?i.replace(M.fullPath,Je({scroll:De&&E&&E.scroll},Oe)):i.push(M.fullPath,Oe)),l.value=M,K(M,j,Z,De),J()}let N;function L(){N||(N=i.listen((M,j,Z)=>{if(!ne.listening)return;const de=_(M),Oe=T(de);if(Oe){C(Je(Oe,{replace:!0}),de).catch(ba);return}u=de;const Ge=l.value;Br&&Ux(Wp(Ge.fullPath,Z.delta),Zc()),x(de,Ge).catch(De=>Ps(De,12)?De:Ps(De,2)?(C(De.to,de).then(E=>{Ps(E,20)&&!Z.delta&&Z.type===ja.pop&&i.go(-1,!1)}).catch(ba),Promise.reject()):(Z.delta&&i.go(-Z.delta,!1),P(De,de,Ge))).then(De=>{De=De||O(de,Ge,!1),De&&(Z.delta&&!Ps(De,8)?i.go(-Z.delta,!1):Z.type===ja.pop&&Ps(De,20)&&i.go(-1,!1)),A(de,Ge,De)}).catch(ba)}))}let F=ea(),q=ea(),B;function P(M,j,Z){J(M);const de=q.list();return de.length?de.forEach(Oe=>Oe(M,j,Z)):console.error(M),Promise.reject(M)}function $(){return B&&l.value!==ai?Promise.resolve():new Promise((M,j)=>{F.add([M,j])})}function J(M){return B||(B=!M,L(),F.list().forEach(([j,Z])=>M?Z(M):j()),F.reset()),M}function K(M,j,Z,de){const{scrollBehavior:Oe}=e;if(!Br||!Oe)return Promise.resolve();const Ge=!Z&&jx(Wp(M.fullPath,0))||(de||!Z)&&history.state&&history.state.scroll||null;return mt().then(()=>Oe(M,j,Ge)).then(De=>De&&Bx(De)).catch(De=>P(De,M,j))}const oe=M=>i.go(M);let re;const Me=new Set,ne={currentRoute:l,listening:!0,addRoute:f,removeRoute:m,hasRoute:b,getRoutes:g,resolve:_,options:e,push:I,replace:k,go:oe,back:()=>oe(-1),forward:()=>oe(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:q.add,isReady:$,install(M){const j=this;M.component("RouterLink",Hi),M.component("RouterView",_w),M.config.globalProperties.$router=j,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>gt(l)}),Br&&!re&&l.value===ai&&(re=!0,I(i.location).catch(Oe=>{}));const Z={};for(const Oe in ai)Z[Oe]=y(()=>l.value[Oe]);M.provide(tm,j),M.provide(yw,Wt(Z)),M.provide(cf,l);const de=M.unmount;Me.add(M),M.unmount=function(){Me.delete(M),Me.size<1&&(u=ai,N&&N(),N=null,l.value=ai,re=!1,B=!1),de()}}};return ne}function Pr(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function xR(e,t){const n=[],s=[],i=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(u=>lo(u,a))?s.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>lo(u,l))||i.push(l))}return[n,s,i]}const RR="/logo.png";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie=function(e,t){if(!e)throw ko(t)},ko=function(e){return new Error("Firebase Database ("+bw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let i=e.charCodeAt(s);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},NR=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const i=e[n++];if(i<128)t[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=e[n++];t[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;t[s++]=String.fromCharCode(55296+(l>>10)),t[s++]=String.fromCharCode(56320+(l&1023))}else{const r=e[n++],o=e[n++];t[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return t.join("")},ed={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<e.length;i+=3){const r=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=r>>2,d=(r&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),s.push(n[c],n[d],n[h],n[f])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ww(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):NR(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<e.length;){const r=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,r==null||a==null||u==null||d==null)throw Error();const h=r<<2|a>>4;if(s.push(h),u!==64){const f=a<<4&240|u>>2;if(s.push(f),d!==64){const m=u<<6&192|d;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Cw=function(e){const t=ww(e);return ed.encodeByteArray(t,!0)},Gu=function(e){return Cw(e).replace(/\./g,"")},Yu=function(e){try{return ed.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(e){return Sw(void 0,e)}function Sw(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!OR(n)||(e[n]=Sw(e[n],t[n]));return e}function OR(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function DR(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Ew(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LR(){const e=on();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Iw(){return bw.NODE_ADMIN===!0}function kw(){return typeof indexedDB=="object"}function MR(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;t(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}function VR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=()=>VR().__FIREBASE_DEFAULTS__,FR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},BR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Yu(e[1]);return t&&JSON.parse(t)},sm=()=>{try{return $R()||FR()||BR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Tw=e=>{var t,n;return(n=(t=sm())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Aw=e=>{const t=Tw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},UR=()=>{var e;return(e=sm())===null||e===void 0?void 0:e.config},xw=e=>{var t;return(t=sm())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Gu(JSON.stringify(n)),Gu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="FirebaseError";class xs extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=jR,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,To.prototype.create)}}class To{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},i=`${this.service}/${t}`,r=this.errors[t],o=r?zR(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new xs(i,a,s)}}function zR(e,t){return e.replace(HR,(n,s)=>{const i=t[s];return i!=null?String(i):`<${s}?>`})}const HR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(e){return JSON.parse(e)}function qt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=function(e){let t={},n={},s={},i="";try{const r=e.split(".");t=Ha(Yu(r[0])||""),n=Ha(Yu(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:s,signature:i}},WR=function(e){const t=Nw(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},qR=function(e){const t=Nw(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function co(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function df(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Xu(e,t,n){const s={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=t.call(n,e[i],i,e));return s}function Qu(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const i of n){if(!s.includes(i))return!1;const r=e[i],o=t[i];if(ry(r)&&ry(o)){if(!Qu(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function ry(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ca(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");t[decodeURIComponent(i)]=decodeURIComponent(r)}}),t}function da(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const s=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)s[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const h=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^r&(o^a),c=1518500249):(u=r^o^a,c=1859775393):d<60?(u=r&o|a&(r|o),c=2400959708):(u=r^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+s[d]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(r[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=t[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)t[s]=this.chain_[i]>>r&255,++s;return t}}function GR(e,t){const n=new YR(e,t);return n.subscribe.bind(n)}class YR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let i;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");XR(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:s},i.next===void 0&&(i.next=fh),i.error===void 0&&(i.error=fh),i.complete===void 0&&(i.complete=fh);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XR(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function fh(){}function QR(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let i=e.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,ie(s<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},td=function(e){let t=0;for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);s<128?t++:s<2048?t+=2:s>=55296&&s<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(e){return e&&e._delegate?e._delegate:e}class ss{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new za;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tN(t))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(t=$i){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$i){return this.instances.has(t)}getOptions(t=$i){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(t,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(!!s)for(const i of s)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eN(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=$i){return this.component?this.component.multipleInstances?t:$i:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eN(e){return e===$i?void 0:e}function tN(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ZR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ke||(Ke={}));const sN={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},iN=Ke.INFO,rN={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},oN=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),i=rN[t];if(i)console[i](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bl{constructor(t){this.name=t,this._logLevel=iN,this._logHandler=oN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ke))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...t),this._logHandler(this,Ke.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...t),this._logHandler(this,Ke.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...t),this._logHandler(this,Ke.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...t),this._logHandler(this,Ke.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...t),this._logHandler(this,Ke.ERROR,...t)}}const aN=(e,t)=>t.some(n=>e instanceof n);let oy,ay;function lN(){return oy||(oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uN(){return ay||(ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pw=new WeakMap,hf=new WeakMap,Ow=new WeakMap,vh=new WeakMap,im=new WeakMap;function cN(e){const t=new Promise((n,s)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(yi(e.result)),i()},o=()=>{s(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Pw.set(n,e)}).catch(()=>{}),im.set(t,e),t}function dN(e){if(hf.has(e))return;const t=new Promise((n,s)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});hf.set(e,t)}let ff={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return hf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Ow.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function hN(e){ff=e(ff)}function fN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(mh(this),t,...n);return Ow.set(s,t.sort?t.sort():[t]),yi(s)}:uN().includes(e)?function(...t){return e.apply(mh(this),t),yi(Pw.get(this))}:function(...t){return yi(e.apply(mh(this),t))}}function vN(e){return typeof e=="function"?fN(e):(e instanceof IDBTransaction&&dN(e),aN(e,lN())?new Proxy(e,ff):e)}function yi(e){if(e instanceof IDBRequest)return cN(e);if(vh.has(e))return vh.get(e);const t=vN(e);return t!==e&&(vh.set(e,t),im.set(t,e)),t}const mh=e=>im.get(e);function mN(e,t,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(e,t),a=yi(o);return s&&o.addEventListener("upgradeneeded",l=>{s(yi(o.result),l.oldVersion,l.newVersion,yi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const gN=["get","getKey","getAll","getAllKeys","count"],pN=["put","add","delete","clear"],gh=new Map;function ly(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gh.get(t))return gh.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,i=pN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||gN.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return s&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return gh.set(t,r),r}hN(e=>({...e,get:(t,n,s)=>ly(t,n)||e.get(t,n,s),has:(t,n)=>!!ly(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_N(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _N(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const vf="@firebase/app",uy="0.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new bl("@firebase/app"),bN="@firebase/app-compat",wN="@firebase/analytics-compat",CN="@firebase/analytics",SN="@firebase/app-check-compat",EN="@firebase/app-check",IN="@firebase/auth",kN="@firebase/auth-compat",TN="@firebase/database",AN="@firebase/database-compat",xN="@firebase/functions",RN="@firebase/functions-compat",NN="@firebase/installations",PN="@firebase/installations-compat",ON="@firebase/messaging",DN="@firebase/messaging-compat",LN="@firebase/performance",MN="@firebase/performance-compat",VN="@firebase/remote-config",$N="@firebase/remote-config-compat",FN="@firebase/storage",BN="@firebase/storage-compat",UN="@firebase/firestore",jN="@firebase/firestore-compat",zN="firebase",HN="9.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="[DEFAULT]",WN={[vf]:"fire-core",[bN]:"fire-core-compat",[CN]:"fire-analytics",[wN]:"fire-analytics-compat",[EN]:"fire-app-check",[SN]:"fire-app-check-compat",[IN]:"fire-auth",[kN]:"fire-auth-compat",[TN]:"fire-rtdb",[AN]:"fire-rtdb-compat",[xN]:"fire-fn",[RN]:"fire-fn-compat",[NN]:"fire-iid",[PN]:"fire-iid-compat",[ON]:"fire-fcm",[DN]:"fire-fcm-compat",[LN]:"fire-perf",[MN]:"fire-perf-compat",[VN]:"fire-rc",[$N]:"fire-rc-compat",[FN]:"fire-gcs",[BN]:"fire-gcs-compat",[UN]:"fire-fst",[jN]:"fire-fst-compat","fire-js":"fire-js",[zN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,gf=new Map;function qN(e,t){try{e.container.addComponent(t)}catch(n){ar.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Cs(e){const t=e.name;if(gf.has(t))return ar.debug(`There were multiple attempts to register component ${t}.`),!1;gf.set(t,e);for(const n of Ju.values())qN(n,e);return!0}function nd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},_i=new To("app","Firebase",KN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=HN;function Dw(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:mf,automaticDataCollectionEnabled:!1},t),i=s.name;if(typeof i!="string"||!i)throw _i.create("bad-app-name",{appName:String(i)});if(n||(n=UR()),!n)throw _i.create("no-options");const r=Ju.get(i);if(r){if(Qu(n,r.options)&&Qu(s,r.config))return r;throw _i.create("duplicate-app",{appName:i})}const o=new nN(i);for(const l of gf.values())o.addComponent(l);const a=new GN(n,s,o);return Ju.set(i,a),a}function sd(e=mf){const t=Ju.get(e);if(!t&&e===mf)return Dw();if(!t)throw _i.create("no-app",{appName:e});return t}function kn(e,t,n){var s;let i=(s=WN[e])!==null&&s!==void 0?s:e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${t}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ar.warn(a.join(" "));return}Cs(new ss(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="firebase-heartbeat-database",XN=1,Wa="firebase-heartbeat-store";let ph=null;function Lw(){return ph||(ph=mN(YN,XN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Wa)}}}).catch(e=>{throw _i.create("idb-open",{originalErrorMessage:e.message})})),ph}async function QN(e){var t;try{return(await Lw()).transaction(Wa).objectStore(Wa).get(Mw(e))}catch(n){if(n instanceof xs)ar.warn(n.message);else{const s=_i.create("idb-get",{originalErrorMessage:(t=n)===null||t===void 0?void 0:t.message});ar.warn(s.message)}}}async function cy(e,t){var n;try{const i=(await Lw()).transaction(Wa,"readwrite");return await i.objectStore(Wa).put(t,Mw(e)),i.done}catch(s){if(s instanceof xs)ar.warn(s.message);else{const i=_i.create("idb-set",{originalErrorMessage:(n=s)===null||n===void 0?void 0:n.message});ar.warn(i.message)}}}function Mw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=1024,ZN=30*24*60*60*1e3;class eP{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nP(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dy();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const r=new Date(i.date).valueOf();return Date.now()-r<=ZN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=dy(),{heartbeatsToSend:n,unsentEntries:s}=tP(this._heartbeatsCache.heartbeats),i=Gu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function dy(){return new Date().toISOString().substring(0,10)}function tP(e,t=JN){const n=[];let s=e.slice();for(const i of e){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),hy(n)>t){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hy(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kw()?MR().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await QN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function hy(e){return Gu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(e){Cs(new ss("platform-logger",t=>new yN(t),"PRIVATE")),Cs(new ss("heartbeat",t=>new eP(t),"PRIVATE")),kn(vf,uy,e),kn(vf,uy,"esm2017"),kn("fire-js","")}sP("");function rm(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function Vw(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iP=Vw,$w=new To("auth","Firebase",Vw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=new bl("@firebase/auth");function Ou(e,...t){fy.logLevel<=Ke.ERROR&&fy.error(`Auth (${gr}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(e,...t){throw om(e,...t)}function ps(e,...t){return om(e,...t)}function rP(e,t,n){const s=Object.assign(Object.assign({},iP()),{[t]:n});return new To("auth","Firebase",s).create(t,{appName:e.name})}function om(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return $w.create(e,...t)}function Ce(e,t,...n){if(!e)throw om(t,...n)}function Ls(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ou(t),new Error(t)}function zs(e,t){e||Ls(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new Map;function Ms(e){zs(e instanceof Function,"Expected a class definition");let t=vy.get(e);return t?(zs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,vy.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(e,t){const n=nd(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(Qu(r,t!=null?t:{}))return i;is(i,"already-initialized")}return n.initialize({options:t})}function aP(e,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ms);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function lP(){return my()==="http:"||my()==="https:"}function my(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lP()||DR()||"connection"in navigator)?navigator.onLine:!0}function cP(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,n){this.shortDelay=t,this.longDelay=n,zs(n>t,"Short delay should be less than long delay!"),this.isMobile=nm()||Ew()}get(){return uP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(e,t){zs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new wl(3e4,6e4);function Cl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Sl(e,t,n,s,i={}){return Bw(e,i,async()=>{let r={},o={};s&&(t==="GET"?o=s:r={body:JSON.stringify(s)});const a=Ao(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),Fw.fetch()(Uw(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},r))})}async function Bw(e,t,n){e._canInitEmulator=!1;const s=Object.assign(Object.assign({},dP),t);try{const i=new fP(e),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw du(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw du(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw du(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw du(e,"user-disabled",o);const c=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw rP(e,c,u);is(e,c)}}catch(i){if(i instanceof xs)throw i;is(e,"network-request-failed")}}async function El(e,t,n,s,i={}){const r=await Sl(e,t,n,s,i);return"mfaPendingCredential"in r&&is(e,"multi-factor-auth-required",{_serverResponse:r}),r}function Uw(e,t,n,s){const i=`${t}${n}?${s}`;return e.config.emulator?am(e.config,i):`${e.config.apiScheme}://${i}`}class fP{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ps(this.auth,"network-request-failed")),hP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function du(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=ps(e,t,s);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(e,t){return Sl(e,"POST","/v1/accounts:delete",t)}async function mP(e,t){return Sl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(e){if(!!e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gP(e,t=!1){const n=an(e),s=await n.getIdToken(t),i=lm(s);Ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Ca(yh(i.auth_time)),issuedAtTime:Ca(yh(i.iat)),expirationTime:Ca(yh(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function yh(e){return Number(e)*1e3}function lm(e){var t;const[n,s,i]=e.split(".");if(n===void 0||s===void 0||i===void 0)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{const r=Yu(s);return r?JSON.parse(r):(Ou("Failed to decode base64 JWT payload"),null)}catch(r){return Ou("Caught error parsing JWT payload as JSON",(t=r)===null||t===void 0?void 0:t.toString()),null}}function pP(e){const t=lm(e);return Ce(t,"internal-error"),Ce(typeof t.exp<"u","internal-error"),Ce(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof xs&&yP(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function yP({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var t;try{await this.user.getIdToken(!0)}catch(n){((t=n)===null||t===void 0?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ca(this.lastLoginAt),this.creationTime=Ca(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(e){var t;const n=e.auth,s=await e.getIdToken(),i=await qa(e,mP(n,{idToken:s}));Ce(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];e._notifyReloadListener(r);const o=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?CP(r.providerUserInfo):[],a=wP(e.providerData,o),l=e.isAnonymous,u=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new jw(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function bP(e){const t=an(e);await Zu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function wP(e,t){return[...e.filter(s=>!t.some(i=>i.providerId===s.providerId)),...t]}function CP(e){return e.map(t=>{var{providerId:n}=t,s=rm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(e,t){const n=await Bw(e,{},async()=>{const s=Ao({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,o=Uw(e,i,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Fw.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ce(t.idToken,"internal-error"),Ce(typeof t.idToken<"u","internal-error"),Ce(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):pP(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Ce(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await SP(t,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new Ka;return s&&(Ce(typeof s=="string","internal-error",{appName:t}),o.refreshToken=s),i&&(Ce(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),r&&(Ce(typeof r=="number","internal-error",{appName:t}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e,t){Ce(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class tr{constructor(t){var{uid:n,auth:s,stsTokenManager:i}=t,r=rm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _P(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new jw(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await qa(this,this.stsTokenManager.getToken(this.auth,t));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return gP(this,t)}reload(){return bP(this)}_assign(t){this!==t&&(Ce(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new tr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Zu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await qa(this,vP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,i,r,o,a,l,u,c;const d=(s=n.displayName)!==null&&s!==void 0?s:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:p,emailVerified:I,isAnonymous:k,providerData:T,stsTokenManager:C}=n;Ce(p&&C,t,"internal-error");const S=Ka.fromJSON(this.name,C);Ce(typeof p=="string",t,"internal-error"),li(d,t.name),li(h,t.name),Ce(typeof I=="boolean",t,"internal-error"),Ce(typeof k=="boolean",t,"internal-error"),li(f,t.name),li(m,t.name),li(g,t.name),li(b,t.name),li(_,t.name),li(w,t.name);const x=new tr({uid:p,auth:t,email:h,emailVerified:I,displayName:d,isAnonymous:k,photoURL:m,phoneNumber:f,tenantId:g,stsTokenManager:S,createdAt:_,lastLoginAt:w});return T&&Array.isArray(T)&&(x.providerData=T.map(A=>Object.assign({},A))),b&&(x._redirectEventId=b),x}static async _fromIdTokenResponse(t,n,s=!1){const i=new Ka;i.updateFromServerResponse(n);const r=new tr({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:s});return await Zu(r),r}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}zw.type="NONE";const gy=zw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(e,t,n){return`firebase:${e}:${t}:${n}`}class Qr{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Du(this.userKey,i.apiKey,r),this.fullPersistenceKey=Du("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?tr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Qr(Ms(gy),t,s);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let r=i[0]||Ms(gy);const o=Du(s,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=tr._fromJSON(t,c);u!==r&&(a=d),r=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Qr(r,t,s):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==r)try{await u._remove(o)}catch{}})),new Qr(r,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Gw(t))return"Blackberry";if(Yw(t))return"Webos";if(um(t))return"Safari";if((t.includes("chrome/")||Ww(t))&&!t.includes("edge/"))return"Chrome";if(Kw(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Hw(e=on()){return/firefox\//i.test(e)}function um(e=on()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ww(e=on()){return/crios\//i.test(e)}function qw(e=on()){return/iemobile/i.test(e)}function Kw(e=on()){return/android/i.test(e)}function Gw(e=on()){return/blackberry/i.test(e)}function Yw(e=on()){return/webos/i.test(e)}function id(e=on()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function EP(e=on()){var t;return id(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function IP(){return LR()&&document.documentMode===10}function Xw(e=on()){return id(e)||Kw(e)||Yw(e)||Gw(e)||/windows phone/i.test(e)||qw(e)}function kP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(e,t=[]){let n;switch(e){case"Browser":n=py(on());break;case"Worker":n=`${py(on())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${gr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=r=>new Promise((o,a)=>{try{const l=t(r);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){var n;if(this.auth.currentUser===t)return;const s=[];try{for(const i of this.queue)await i(t),i.onAbort&&s.push(i.onAbort)}catch(i){s.reverse();for(const r of s)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(t,n,s){this.app=t,this.heartbeatServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yy(this),this.idTokenSubscription=new yy(this),this.beforeStateQueue=new TP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$w,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ms(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await Qr.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l==null?void 0:l.user)&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){var n;try{await Zu(t)}catch(s){if(((n=s)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=cP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?an(t):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ce(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new To("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ms(t)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Qr.create(this,[Ms(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?t.addObserver(n,s,i):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Qw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());return s&&(n["X-Firebase-Client"]=s),n}}function Il(e){return an(e)}class yy{constructor(t){this.auth=t,this.observer=null,this.addObserver=GR(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xP(e,t,n){const s=Il(e);Ce(s._canInitEmulator,s,"emulator-config-failed"),Ce(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),r=Jw(t),{host:o,port:a}=RP(t),l=a===null?"":`:${a}`;s.config.emulator={url:`${r}//${o}${l}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||NP()}function Jw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function RP(e){const t=Jw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:_y(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:_y(o)}}}function _y(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function NP(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ls("not implemented")}_getIdTokenResponse(t){return Ls("not implemented")}_linkToIdToken(t,n){return Ls("not implemented")}_getReauthenticationResolver(t){return Ls("not implemented")}}async function PP(e,t){return Sl(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(e,t){return El(e,"POST","/v1/accounts:signInWithPassword",Cl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(e,t){return El(e,"POST","/v1/accounts:signInWithEmailLink",Cl(e,t))}async function LP(e,t){return El(e,"POST","/v1/accounts:signInWithEmailLink",Cl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends cm{constructor(t,n,s,i=null){super("password",s),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Ga(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Ga(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return OP(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return DP(t,{email:this._email,oobCode:this._password});default:is(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return PP(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return LP(t,{idToken:n,email:this._email,oobCode:this._password});default:is(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jr(e,t){return El(e,"POST","/v1/accounts:signInWithIdp",Cl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="http://localhost";class lr extends cm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new lr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):is("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:i}=n,r=rm(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new lr(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Jr(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Jr(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Jr(t,n)}buildRequest(){const t={requestUri:MP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ao(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $P(e){const t=ca(da(e)).link,n=t?ca(da(t)).deep_link_id:null,s=ca(da(e)).deep_link_id;return(s?ca(da(s)).link:null)||s||n||t||e}class dm{constructor(t){var n,s,i,r,o,a;const l=ca(da(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(s=l.oobCode)!==null&&s!==void 0?s:null,d=VP((i=l.mode)!==null&&i!==void 0?i:null);Ce(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=$P(t);try{return new dm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(t,n){return Ga._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=dm.parseLink(n);return Ce(s,"argument-error"),Ga._fromEmailAndCode(t,s.code,s.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Zw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends kl{constructor(){super("facebook.com")}static credential(t){return lr._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hi.credentialFromTaggedObject(t)}static credentialFromError(t){return hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hi.credential(t.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return lr._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return fi.credentialFromTaggedObject(t)}static credentialFromError(t){return fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return fi.credential(n,s)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends kl{constructor(){super("github.com")}static credential(t){return lr._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vi.credential(t.oauthAccessToken)}catch{return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com";vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends kl{constructor(){super("twitter.com")}static credential(t,n){return lr._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return mi.credentialFromTaggedObject(t)}static credentialFromError(t){return mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return mi.credential(n,s)}catch{return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(e,t){return El(e,"POST","/v1/accounts:signUp",Cl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,i=!1){const r=await tr._fromIdTokenResponse(t,s,i),o=by(s);return new ur({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const i=by(s);return new ur({user:t,providerId:i,_tokenResponse:s,operationType:n})}}function by(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends xs{constructor(t,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,ec.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,i){return new ec(t,n,s,i)}}function eC(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?ec._fromErrorAndOperation(e,r,t,s):r})}async function BP(e,t,n=!1){const s=await qa(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ur._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(e,t,n=!1){var s;const{auth:i}=e,r="reauthenticate";try{const o=await qa(e,eC(i,r,t,e),n);Ce(o.idToken,i,"internal-error");const a=lm(o.idToken);Ce(a,i,"internal-error");const{sub:l}=a;return Ce(e.uid===l,i,"user-mismatch"),ur._forOperation(e,r,o)}catch(o){throw((s=o)===null||s===void 0?void 0:s.code)==="auth/user-not-found"&&is(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(e,t,n=!1){const s="signIn",i=await eC(e,s,t),r=await ur._fromIdTokenResponse(e,s,i);return n||await e._updateCurrentUser(r.user),r}async function jP(e,t){return tC(Il(e),t)}async function zP(e,t,n){const s=Il(e),i=await FP(s,{returnSecureToken:!0,email:t,password:n}),r=await ur._fromIdTokenResponse(s,"signIn",i);return await s._updateCurrentUser(r.user),r}function HP(e,t,n){return jP(an(e),xo.credential(t,n))}function nC(e,t,n,s){return an(e).onIdTokenChanged(t,n,s)}function WP(e,t,n){return an(e).beforeAuthStateChanged(t,n)}function qP(e){return an(e).signOut()}const tc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tc,"1"),this.storage.removeItem(tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(){const e=on();return um(e)||id(e)}const GP=1e3,YP=10;class iC extends sC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=KP()&&kP(),this.fallbackToPolling=Xw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&t(n,i,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(s);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(s,t.newValue):this.storage.removeItem(s);else if(this.localCache[s]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);IP()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,YP):i()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},GP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}iC.type="LOCAL";const XP=iC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends sC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}rC.type="SESSION";const oC=rC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const s=new rd(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,r)),l=await QP(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const u=hm("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(h.data.response);break;default:clearTimeout(c),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return window}function ZP(e){ys().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function eO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tO(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function nO(){return aC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="firebaseLocalStorageDb",sO=1,nc="firebaseLocalStorage",uC="fbase_key";class Tl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function od(e,t){return e.transaction([nc],t?"readwrite":"readonly").objectStore(nc)}function iO(){const e=indexedDB.deleteDatabase(lC);return new Tl(e).toPromise()}function yf(){const e=indexedDB.open(lC,sO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(nc,{keyPath:uC})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(nc)?t(s):(s.close(),await iO(),t(await yf()))})})}async function wy(e,t,n){const s=od(e,!0).put({[uC]:t,value:n});return new Tl(s).toPromise()}async function rO(e,t){const n=od(e,!1).get(t),s=await new Tl(n).toPromise();return s===void 0?null:s.value}function Cy(e,t){const n=od(e,!0).delete(t);return new Tl(n).toPromise()}const oO=800,aO=3;class cC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yf(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>aO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance(nO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await eO(),!this.activeServiceWorker)return;this.sender=new JP(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);!s||((t=s[0])===null||t===void 0?void 0:t.fulfilled)&&((n=s[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||tO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await yf();return await wy(t,tc,"1"),await Cy(t,tc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>wy(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>rO(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cy(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const r=od(i,!1).getAll();return new Tl(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:i,value:r}of t)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cC.type="LOCAL";const lO=cC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function cO(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=i=>{const r=ps("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",uO().appendChild(s)})}function dO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}new wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(e,t){return t?Ms(t):(Ce(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends cm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Jr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Jr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Jr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function fO(e){return tC(e.auth,new fm(e),e.bypassAuthState)}function vO(e){const{auth:t,user:n}=e;return Ce(n,t,"internal-error"),UP(n,new fm(e),e.bypassAuthState)}async function mO(e){const{auth:t,user:n}=e;return Ce(n,t,"internal-error"),BP(n,new fm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,n,s,i,r=!1){this.auth=t,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fO;case"linkViaPopup":case"linkViaRedirect":return mO;case"reauthViaPopup":case"reauthViaRedirect":return vO;default:is(this.auth,"internal-error")}}resolve(t){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new wl(2e3,1e4);class Ur extends dC{constructor(t,n,s,i,r){super(t,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Ur.currentPopupAction&&Ur.currentPopupAction.cancel(),Ur.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ce(t,this.auth,"internal-error"),t}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const t=hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ps(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ur.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ps(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,gO.get())};t()}}Ur.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="pendingRedirect",Lu=new Map;class yO extends dC{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Lu.get(this.auth._key());if(!t){try{const s=await _O(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Lu.set(this.auth._key(),t)}return this.bypassAuthState||Lu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _O(e,t){const n=CO(t),s=wO(e);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function bO(e,t){Lu.set(e._key(),t)}function wO(e){return Ms(e._redirectPersistence)}function CO(e){return Du(pO,e.config.apiKey,e.name)}async function SO(e,t,n=!1){const s=Il(e),i=hO(s,t),o=await new yO(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=10*60*1e3;class IO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!hC(t)){const i=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ps(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sy(t))}saveEventToCache(t){this.cachedEventUids.add(Sy(t)),this.lastProcessedEventTime=Date.now()}}function Sy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function hC({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function kO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hC(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(e,t={}){return Sl(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xO=/^https?/;async function RO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await TO(e);for(const n of t)try{if(NO(n))return}catch{}is(e,"unauthorized-domain")}function NO(e){const t=pf(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!xO.test(n))return!1;if(AO.test(e))return s===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=new wl(3e4,6e4);function Ey(){const e=ys().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function OO(e){return new Promise((t,n)=>{var s,i,r;function o(){Ey(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ey(),n(ps(e,"network-request-failed"))},timeout:PO.get()})}if(!((i=(s=ys().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((r=ys().gapi)===null||r===void 0)&&r.load)o();else{const a=dO("iframefcb");return ys()[a]=()=>{gapi.load?o():n(ps(e,"network-request-failed"))},cO(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Mu=null,t})}let Mu=null;function DO(e){return Mu=Mu||OO(e),Mu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new wl(5e3,15e3),MO="__/auth/iframe",VO="emulator/auth/iframe",$O={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BO(e){const t=e.config;Ce(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?am(t,VO):`https://${e.config.authDomain}/${MO}`,s={apiKey:t.apiKey,appName:e.name,v:gr},i=FO.get(e.config.apiHost);i&&(s.eid=i);const r=e._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Ao(s).slice(1)}`}async function UO(e){const t=await DO(e),n=ys().gapi;return Ce(n,e,"internal-error"),t.open({where:document.body,url:BO(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$O,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=ps(e,"network-request-failed"),a=ys().setTimeout(()=>{r(o)},LO.get());function l(){ys().clearTimeout(a),i(s)}s.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zO=500,HO=600,WO="_blank",qO="http://localhost";class Iy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KO(e,t,n,s=zO,i=HO){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},jO),{width:s.toString(),height:i.toString(),top:r,left:o}),u=on().toLowerCase();n&&(a=Ww(u)?WO:n),Hw(u)&&(t=t||qO,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(EP(u)&&a!=="_self")return GO(t||"",a),new Iy(null);const d=window.open(t||"",a,c);Ce(d,e,"popup-blocked");try{d.focus()}catch{}return new Iy(d)}function GO(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="__/auth/handler",XO="emulator/auth/handler";function ky(e,t,n,s,i,r){Ce(e.config.authDomain,e,"auth-domain-config-required"),Ce(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:gr,eventId:i};if(t instanceof Zw){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",df(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[l,u]of Object.entries(r||{}))o[l]=u}if(t instanceof kl){const l=t.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${QO(e)}?${Ao(a).slice(1)}`}function QO({config:e}){return e.emulator?am(e,XO):`https://${e.authDomain}/${YO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="webStorageSupport";class JO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oC,this._completeRedirectFn=SO,this._overrideRedirectResult=bO}async _openPopup(t,n,s,i){var r;zs((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=ky(t,n,s,pf(),i);return KO(t,o,hm())}async _openRedirect(t,n,s,i){return await this._originValidation(t),ZP(ky(t,n,s,pf(),i)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(zs(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await UO(t),s=new IO(t);return n.register("authEvent",i=>(Ce(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(_h,{type:_h},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[_h];o!==void 0&&n(!!o),is(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Xw()||um()||id()}}const ZO=JO;var Ty="@firebase/auth",Ay="0.20.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{var i;t(((i=s)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);!n||(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function nD(e){Cs(new ss("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),{apiKey:r,authDomain:o}=s.options;return((a,l)=>{Ce(r&&!r.includes(":"),"invalid-api-key",{appName:a.name}),Ce(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:r,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qw(e)},c=new AP(a,l,u);return aP(c,n),c})(s,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Cs(new ss("auth-internal",t=>{const n=Il(t.getProvider("auth").getImmediate());return(s=>new eD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kn(Ty,Ay,tD(e)),kn(Ty,Ay,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=5*60,iD=xw("authIdTokenMaxAge")||sD;let xy=null;const rD=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>iD)return;const i=n==null?void 0:n.token;xy!==i&&(xy=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sc(e=sd()){const t=nd(e,"auth");if(t.isInitialized())return t.getImmediate();const n=oP(e,{popupRedirectResolver:ZO,persistence:[lO,XP,oC]}),s=xw("authTokenSyncURL");if(s){const r=rD(s);WP(n,r,()=>r(n.currentUser)),nC(n,o=>r(o))}const i=Tw("auth");return i&&xP(n,`http://${i}`),n}nD("Browser");var oD="firebase",aD="9.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn(oD,aD,"app");const Ry="@firebase/database",Ny="0.13.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fC="";function lD(e){fC=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),qt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ha(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Zs(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new uD(t)}}catch{}return new cD},Wi=vC("localStorage"),_f=vC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new bl("@firebase/database"),dD=function(){let e=1;return function(){return e++}}(),mC=function(e){const t=JR(e),n=new KR;n.update(t);const s=n.digest();return ed.encodeByteArray(s)},Al=function(...e){let t="";for(let n=0;n<e.length;n++){const s=e[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?t+=Al.apply(null,s):typeof s=="object"?t+=qt(s):t+=s,t+=" "}return t};let nr=null,Py=!0;const hD=function(e,t){ie(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Zr.logLevel=Ke.VERBOSE,nr=Zr.log.bind(Zr),t&&_f.set("logging_enabled",!0)):typeof e=="function"?nr=e:(nr=null,_f.remove("logging_enabled"))},Jt=function(...e){if(Py===!0&&(Py=!1,nr===null&&_f.get("logging_enabled")===!0&&hD(!0)),nr){const t=Al.apply(null,e);nr(t)}},xl=function(e){return function(...t){Jt(e,...t)}},bf=function(...e){const t="FIREBASE INTERNAL ERROR: "+Al(...e);Zr.error(t)},Hs=function(...e){const t=`FIREBASE FATAL ERROR: ${Al(...e)}`;throw Zr.error(t),new Error(t)},Tn=function(...e){const t="FIREBASE WARNING: "+Al(...e);Zr.warn(t)},fD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},gC=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},vD=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ho="[MIN_NAME]",cr="[MAX_NAME]",Ro=function(e,t){if(e===t)return 0;if(e===ho||t===cr)return-1;if(t===ho||e===cr)return 1;{const n=Oy(e),s=Oy(t);return n!==null?s!==null?n-s===0?e.length-t.length:n-s:-1:s!==null?1:e<t?-1:1}},mD=function(e,t){return e===t?0:e<t?-1:1},ta=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+qt(t))},vm=function(e){if(typeof e!="object"||e===null)return qt(e);const t=[];for(const s in e)t.push(s);t.sort();let n="{";for(let s=0;s<t.length;s++)s!==0&&(n+=","),n+=qt(t[s]),n+=":",n+=vm(e[t[s]]);return n+="}",n},pC=function(e,t){const n=e.length;if(n<=t)return[e];const s=[];for(let i=0;i<n;i+=t)i+t>n?s.push(e.substring(i,n)):s.push(e.substring(i,i+t));return s};function zn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const yC=function(e){ie(!gC(e),"Invalid JSON number");const t=11,n=52,s=(1<<t-1)-1;let i,r,o,a,l;e===0?(r=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),s),r=a+s,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(e/Math.pow(2,1-s-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)u.push(r%2?1:0),r=Math.floor(r/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},gD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},yD=new RegExp("^-?(0*)\\d{1,10}$"),_D=-2147483648,bD=2147483647,Oy=function(e){if(yD.test(e)){const t=Number(e);if(t>=_D&&t<=bD)return t}return null},Rl=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Tn("Exception was thrown by user callback.",n),t},Math.floor(0))}},wD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Sa=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,s):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){Tn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,n,s){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Jt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,s):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tn(t)}}class eo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}eo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="5",_C="v",bC="s",wC="r",CC="f",SC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,EC="ls",IC="p",wf="ac",kC="websocket",TC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t,n,s,i,r=!1,o="",a=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Wi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function ED(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function xC(e,t,n){ie(typeof t=="string","typeof type must == string"),ie(typeof n=="object","typeof params must == object");let s;if(t===kC)s=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===TC)s=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);ED(e)&&(n.ns=e.namespace);const i=[];return zn(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.counters_={}}incrementCounter(t,n=1){Zs(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return PR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh={},wh={};function gm(e){const t=e.toString();return bh[t]||(bh[t]=new ID),bh[t]}function kD(e,t){const n=e.toString();return wh[n]||(wh[n]=t()),wh[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&Rl(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="start",AD="close",xD="pLPCommand",RD="pRTLPCB",RC="id",NC="pw",PC="ser",ND="cb",PD="seg",OD="ts",DD="d",LD="dframe",OC=1870,DC=30,MD=OC-DC,VD=25e3,$D=3e4;class jr{constructor(t,n,s,i,r,o,a){this.connId=t,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xl(t),this.stats_=gm(n),this.urlFn=l=>(this.appCheckToken&&(l[wf]=this.appCheckToken),xC(n,TC,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new TD(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($D)),vD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pm((...r)=>{const[o,a,l,u,c]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Dy)this.id=a,this.password=l;else if(o===AD)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[Dy]="t",s[PC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[ND]=this.scriptTagHolder.uniqueCallbackIdentifier),s[_C]=mm,this.transportSessionId&&(s[bC]=this.transportSessionId),this.lastSessionId&&(s[EC]=this.lastSessionId),this.applicationId&&(s[IC]=this.applicationId),this.appCheckToken&&(s[wf]=this.appCheckToken),typeof location<"u"&&location.hostname&&SC.test(location.hostname)&&(s[wC]=CC);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jr.forceAllow_=!0}static forceDisallow(){jr.forceDisallow_=!0}static isAvailable(){return jr.forceAllow_?!0:!jr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!gD()&&!pD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=qt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Cw(n),i=pC(s,MD);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[LD]="t",s[RC]=t,s[NC]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=qt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class pm{constructor(t,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=dD(),window[xD+this.uniqueCallbackIdentifier]=t,window[RD+this.uniqueCallbackIdentifier]=n,this.myIFrame=pm.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Jt("frame writing exception"),a.stack&&Jt(a.stack),Jt(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Jt("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[RC]=this.myID,t[NC]=this.myPW,t[PC]=this.currentSerial;let n=this.urlFn(t),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+DC+s.length<=OC;){const o=this.pendingSegs.shift();s=s+"&"+PD+i+"="+o.seg+"&"+OD+i+"="+o.ts+"&"+DD+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,s){this.pendingSegs.push({seg:t,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(VD)),r=()=>{clearTimeout(i),s()};this.addTag(t,r)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{Jt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=16384,BD=45e3;let ic=null;typeof MozWebSocket<"u"?ic=MozWebSocket:typeof WebSocket<"u"&&(ic=WebSocket);class Yn{constructor(t,n,s,i,r,o,a){this.connId=t,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xl(this.connId),this.stats_=gm(n),this.connURL=Yn.connectionURL_(n,o,a,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,s,i,r){const o={};return o[_C]=mm,typeof location<"u"&&location.hostname&&SC.test(location.hostname)&&(o[wC]=CC),n&&(o[bC]=n),s&&(o[EC]=s),i&&(o[wf]=i),r&&(o[IC]=r),xC(t,kC,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wi.set("previous_websocket_failure",!0);try{let s;Iw(),this.mySock=new ic(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Yn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(t=!0)}return!t&&ic!==null&&!Yn.forceDisallow_}static previouslyFailed(){return Wi.isInMemoryStorage||Wi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Wi.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Ha(n);this.onMessage(s)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ie(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(t){this.resetKeepAlive();const n=qt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=pC(n,FD);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(BD))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yn.responsesRequiredToBeHealthy=2;Yn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[jr,Yn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Yn&&Yn.isAvailable();let s=n&&!Yn.previouslyFailed();if(t.webSocketOnly&&(n||Tn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Yn];else{const i=this.transports_=[];for(const r of Ya.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);Ya.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ya.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=6e4,jD=5e3,zD=10*1024,HD=100*1024,Ch="t",Ly="d",WD="s",My="r",qD="e",Vy="o",$y="a",Fy="n",By="p",KD="h";class GD{constructor(t,n,s,i,r,o,a,l,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xl("c:"+this.id+":"),this.transportManager_=new Ya(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Sa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Ch in t){const n=t[Ch];n===$y?this.upgradeIfSecondaryHealthy_():n===My?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Vy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=ta("t",t),s=ta("d",t);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:By,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$y,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Fy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=ta("t",t),s=ta("d",t);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=ta(Ch,t);if(Ly in t){const s=t[Ly];if(n===KD)this.onHandshake_(s);else if(n===Fy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===WD?this.onConnectionShutdown_(s):n===My?this.onReset_(s):n===qD?bf("Server Error: "+s):n===Vy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bf("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,s=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),mm!==s&&Tn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Sa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UD))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Sa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:By,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{put(t,n,s,i){}merge(t,n,s,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,s){}onDisconnectMerge(t,n,s){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t){this.allowedEvents_=t,this.listeners_={},ie(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(t,n,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:s});const i=this.getInitialEvent(t);i&&n.apply(s,i)}off(t,n,s){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(t){ie(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends MC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!nm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new rc}getInitialEvent(t){return ie(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=32,jy=768;class ht{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function tt(){return new ht("")}function ze(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ei(e){return e.pieces_.length-e.pieceNum_}function lt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ht(e.pieces_,t)}function VC(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function YD(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function $C(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function FC(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ht(t,0)}function Bt(e,t){const n=[];for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);if(t instanceof ht)for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);else{const s=t.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new ht(n,0)}function Be(e){return e.pieceNum_>=e.pieces_.length}function Vn(e,t){const n=ze(e),s=ze(t);if(n===null)return t;if(n===s)return Vn(lt(e),lt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function BC(e,t){if(Ei(e)!==Ei(t))return!1;for(let n=e.pieceNum_,s=t.pieceNum_;n<=e.pieces_.length;n++,s++)if(e.pieces_[n]!==t.pieces_[s])return!1;return!0}function Qn(e,t){let n=e.pieceNum_,s=t.pieceNum_;if(Ei(e)>Ei(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[s])return!1;++n,++s}return!0}class XD{constructor(t,n){this.errorPrefix_=n,this.parts_=$C(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=td(this.parts_[s]);UC(this)}}function QD(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=td(t),UC(e)}function JD(e){const t=e.parts_.pop();e.byteLength_-=td(t),e.parts_.length>0&&(e.byteLength_-=1)}function UC(e){if(e.byteLength_>jy)throw new Error(e.errorPrefix_+"has a key path longer than "+jy+" bytes ("+e.byteLength_+").");if(e.parts_.length>Uy)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Uy+") or object contains a cycle "+Fi(e))}function Fi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends MC{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new ym}getInitialEvent(t){return ie(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=1e3,ZD=60*5*1e3,zy=30*1e3,eL=1.3,tL=3e4,nL="server_kill",Hy=3;class Fs extends LC{constructor(t,n,s,i,r,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Fs.nextPersistentConnectionId_++,this.log_=xl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=na,this.maxReconnectDelay_=ZD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Iw())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ym.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&rc.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,s){const i=++this.requestNumber_,r={r:i,a:t,b:n};this.log_(qt(r)),ie(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(t){this.initConnection_();const n=new za,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(t,n,s,i){this.initConnection_();const r=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),ie(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ie(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:t,tag:s};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(t){const n=t.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";t.tag&&(r.q=n._queryObject,r.t=t.tag),r.h=t.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,u=a.s;Fs.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(i))===t&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(s,i),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Zs(t,"w")){const s=co(t,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();Tn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||qR(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=WR(t)?"auth":"gauth",s={cred:t};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===t&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,s=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(t,n){const s=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),ie(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,t._queryObject,n)}sendUnlisten_(t,n,s,i){this.log_("Unlisten on "+t+" for "+n);const r={p:t},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(t,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:s})}onDisconnectMerge(t,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:s})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,s,i){this.putInternal("p",t,n,s,i)}merge(t,n,s,i){this.putInternal("m",t,n,s,i)}putInternal(t,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,s=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+qt(t));const n=t.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):bf("Unrecognized action received from server: "+qt(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ie(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=na,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=na,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tL&&(this.reconnectDelay_=na),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*eL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Fs.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},u=function(d){ie(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Jt("getToken() completed but was canceled"):(Jt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new GD(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,s,f=>{Tn(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(nL)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Tn(d),l())}}}interrupt(t){Jt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Jt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],df(this.interruptReasons_)&&(this.reconnectDelay_=na,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let s;n?s=n.map(r=>vm(r)).join("$"):s="default";const i=this.removeListen_(t,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const s=new ht(t).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(t,n){Jt("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Hy&&(this.reconnectDelay_=zy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Jt("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Hy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+fC.replace(/\./g,"-")]=1,nm()?t["framework.cordova"]=1:Ew()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=rc.getInstance().currentlyOnline();return df(this.interruptReasons_)&&t}}Fs.nextPersistentConnectionId_=0;Fs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new He(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const s=new He(ho,t),i=new He(ho,n);return this.compare(s,i)!==0}minPost(){return He.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu;class jC extends ad{static get __EMPTY_NODE(){return hu}static set __EMPTY_NODE(t){hu=t}compare(t,n){return Ro(t.name,n.name)}isDefinedOn(t){throw ko("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return He.MIN}maxPost(){return new He(cr,hu)}makePost(t,n){return ie(typeof t=="string","KeyIndex indexValue must always be a string."),new He(t,hu)}toString(){return".key"}}const to=new jC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?s(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class $t{constructor(t,n,s,i,r){this.key=t,this.value=n,this.color=s!=null?s:$t.RED,this.left=i!=null?i:gn.EMPTY_NODE,this.right=r!=null?r:gn.EMPTY_NODE}copy(t,n,s,i,r){return new $t(t!=null?t:this.key,n!=null?n:this.value,s!=null?s:this.color,i!=null?i:this.left,r!=null?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let i=this;const r=s(t,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(t,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return gn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let s,i;if(s=this,n(t,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(t,s.key)===0){if(s.right.isEmpty())return gn.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}$t.RED=!0;$t.BLACK=!1;class sL{copy(t,n,s,i,r){return this}insert(t,n,s){return new $t(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gn{constructor(t,n=gn.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new gn(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,$t.BLACK,null,null))}remove(t){return new gn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,$t.BLACK,null,null))}get(t){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(t,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(t){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(t,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new fu(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new fu(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new fu(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new fu(this.root_,null,this.comparator_,!0,t)}}gn.EMPTY_NODE=new sL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(e,t){return Ro(e.name,t.name)}function _m(e,t){return Ro(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf;function rL(e){Cf=e}const zC=function(e){return typeof e=="number"?"number:"+yC(e):"string:"+e},HC=function(e){if(e.isLeafNode()){const t=e.val();ie(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Zs(t,".sv"),"Priority must be a string or number.")}else ie(e===Cf||e.isEmpty(),"priority of unexpected type.");ie(e===Cf||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wy;class Mt{constructor(t,n=Mt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ie(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),HC(this.priorityNode_)}static set __childrenNodeConstructor(t){Wy=t}static get __childrenNodeConstructor(){return Wy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Mt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Be(t)?this:ze(t)===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Mt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const s=ze(t);return s===null?n:n.isEmpty()&&s!==".priority"?this:(ie(s!==".priority"||Ei(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Mt.__childrenNodeConstructor.EMPTY_NODE.updateChild(lt(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+zC(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=yC(this.value_):t+=this.value_,this.lazyHash_=mC(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Mt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Mt.__childrenNodeConstructor?-1:(ie(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,s=typeof this.value_,i=Mt.VALUE_TYPE_ORDER.indexOf(n),r=Mt.VALUE_TYPE_ORDER.indexOf(s);return ie(i>=0,"Unknown leaf type: "+n),ie(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Mt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WC,qC;function oL(e){WC=e}function aL(e){qC=e}class lL extends ad{compare(t,n){const s=t.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?Ro(t.name,n.name):r}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return He.MIN}maxPost(){return new He(cr,new Mt("[PRIORITY-POST]",qC))}makePost(t,n){const s=WC(t);return new He(n,new Mt("[PRIORITY-POST]",s))}toString(){return".priority"}}const nn=new lL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=Math.log(2);class cL{constructor(t){const n=r=>parseInt(Math.log(r)/uL,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=s(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const oc=function(e,t,n,s){e.sort(t);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=e[l],h=n?n(d):d,new $t(h,d.node,$t.BLACK,null,null);{const f=parseInt(c/2,10)+l,m=i(l,f),g=i(f+1,u);return d=e[f],h=n?n(d):d,new $t(h,d.node,$t.BLACK,m,g)}},r=function(l){let u=null,c=null,d=e.length;const h=function(m,g){const b=d-m,_=d;d-=m;const w=i(b+1,_),p=e[b],I=n?n(p):p;f(new $t(I,p.node,g,null,w))},f=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),b=Math.pow(2,l.count-(m+1));g?h(b,$t.BLACK):(h(b,$t.BLACK),h(b,$t.RED))}return c},o=new cL(e.length),a=r(o);return new gn(s||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh;const Or={};class Vs{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return ie(Or&&nn,"ChildrenNode.ts has not been loaded"),Sh=Sh||new Vs({".priority":Or},{".priority":nn}),Sh}get(t){const n=co(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof gn?n:null}hasIndex(t){return Zs(this.indexSet_,t.toString())}addIndex(t,n){ie(t!==to,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(He.Wrap);let o=r.getNext();for(;o;)i=i||t.isDefinedOn(o.node),s.push(o),o=r.getNext();let a;i?a=oc(s,t.getCompare()):a=Or;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const c=Object.assign({},this.indexes_);return c[l]=a,new Vs(c,u)}addToIndexes(t,n){const s=Xu(this.indexes_,(i,r)=>{const o=co(this.indexSet_,r);if(ie(o,"Missing index implementation for "+r),i===Or)if(o.isDefinedOn(t.node)){const a=[],l=n.getIterator(He.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&a.push(u),u=l.getNext();return a.push(t),oc(a,o.getCompare())}else return Or;else{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new He(t.name,a))),l.insert(t,t.node)}});return new Vs(s,this.indexSet_)}removeFromIndexes(t,n){const s=Xu(this.indexes_,i=>{if(i===Or)return i;{const r=n.get(t.name);return r?i.remove(new He(t.name,r)):i}});return new Vs(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa;class Qe{constructor(t,n,s){this.children_=t,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&HC(this.priorityNode_),this.children_.isEmpty()&&ie(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return sa||(sa=new Qe(new gn(_m),null,Vs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||sa}updatePriority(t){return this.children_.isEmpty()?this:new Qe(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?sa:n}}getChild(t){const n=ze(t);return n===null?this:this.getImmediateChild(n).getChild(lt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(ie(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const s=new He(t,n);let i,r;n.isEmpty()?(i=this.children_.remove(t),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(t,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?sa:this.priorityNode_;return new Qe(i,o,r)}}updateChild(t,n){const s=ze(t);if(s===null)return n;{ie(ze(t)!==".priority"||Ei(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(lt(t),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(nn,(o,a)=>{n[o]=a.val(t),s++,r&&Qe.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!t&&r&&i<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+zC(this.getPriority().val())+":"),this.forEachChild(nn,(n,s)=>{const i=s.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":mC(t)}return this.lazyHash_}getPredecessorChildName(t,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new He(t,n));return r?r.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new He(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new He(n,this.children_.get(n)):null}forEachChild(t,n){const s=this.resolveIndex_(t);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,He.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,t)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,He.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,t)>0;)i.getNext(),r=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Nl?-1:0}withIndex(t){if(t===to||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Qe(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===to||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(nn),i=n.getIterator(nn);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===to?null:this.indexMap_.get(t.toString())}}Qe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class dL extends Qe{constructor(){super(new gn(_m),Qe.EMPTY_NODE,Vs.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Qe.EMPTY_NODE}isEmpty(){return!1}}const Nl=new dL;Object.defineProperties(He,{MIN:{value:new He(ho,Qe.EMPTY_NODE)},MAX:{value:new He(cr,Nl)}});jC.__EMPTY_NODE=Qe.EMPTY_NODE;Mt.__childrenNodeConstructor=Qe;rL(Nl);aL(Nl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=!0;function Zt(e,t=null){if(e===null)return Qe.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),ie(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Mt(n,Zt(t))}if(!(e instanceof Array)&&hL){const n=[];let s=!1;if(zn(e,(o,a)=>{if(o.substring(0,1)!=="."){const l=Zt(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new He(o,l)))}}),n.length===0)return Qe.EMPTY_NODE;const r=oc(n,iL,o=>o.name,_m);if(s){const o=oc(n,nn.getCompare());return new Qe(r,Zt(t),new Vs({".priority":o},{".priority":nn}))}else return new Qe(r,Zt(t),Vs.Default)}else{let n=Qe.EMPTY_NODE;return zn(e,(s,i)=>{if(Zs(e,s)&&s.substring(0,1)!=="."){const r=Zt(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(Zt(t))}}oL(Zt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL extends ad{constructor(t){super(),this.indexPath_=t,ie(!Be(t)&&ze(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const s=this.extractChild(t.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?Ro(t.name,n.name):r}makePost(t,n){const s=Zt(t),i=Qe.EMPTY_NODE.updateChild(this.indexPath_,s);return new He(n,i)}maxPost(){const t=Qe.EMPTY_NODE.updateChild(this.indexPath_,Nl);return new He(cr,t)}toString(){return $C(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL extends ad{compare(t,n){const s=t.node.compareTo(n.node);return s===0?Ro(t.name,n.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return He.MIN}maxPost(){return He.MAX}makePost(t,n){const s=Zt(t);return new He(n,s)}toString(){return".value"}}const mL=new vL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(e){return{type:"value",snapshotNode:e}}function pL(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function yL(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function qy(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function _L(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ie(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ie(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ho}hasEnd(){return this.endSet_}getIndexEndValue(){return ie(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ie(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ie(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nn}copy(){const t=new bm;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Ky(e){const t={};if(e.isDefault())return t;let n;return e.index_===nn?n="$priority":e.index_===mL?n="$value":e.index_===to?n="$key":(ie(e.index_ instanceof fL,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=qt(n),e.startSet_&&(t.startAt=qt(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+qt(e.indexStartName_))),e.endSet_&&(t.endAt=qt(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+qt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Gy(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==nn&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends LC{constructor(t,n,s,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=xl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(ie(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,s,i){const r=t._path.toString();this.log_("Listen called for "+r+" "+t._queryIdentifier);const o=ac.getListenId_(t,s),a={};this.listens_[o]=a;const l=Ky(t._queryParams);this.restRequest_(r+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(r,d,!1,s),co(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(t,n){const s=ac.getListenId_(t,n);delete this.listens_[s]}get(t){const n=Ky(t._queryParams),s=t._path.toString(),i=new za;return this.restRequest_(s+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(s,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ao(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ha(a.responseText)}catch{Tn("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&Tn("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.rootNode_=Qe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(){return{value:null,children:new Map}}function KC(e,t,n){if(Be(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const s=ze(t);e.children.has(s)||e.children.set(s,lc());const i=e.children.get(s);t=lt(t),KC(i,t,n)}}function Sf(e,t,n){e.value!==null?n(t,e.value):wL(e,(s,i)=>{const r=new ht(t.toString()+"/"+s);Sf(i,r,n)})}function wL(e,t){e.children.forEach((n,s)=>{t(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&zn(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=10*1e3,SL=30*1e3,EL=5*60*1e3;class IL{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new CL(t);const s=Yy+(SL-Yy)*Math.random();Sa(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),n={};let s=!1;zn(t,(i,r)=>{r>0&&Zs(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),Sa(this.reportStats_.bind(this),Math.floor(Math.random()*2*EL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ms;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ms||(ms={}));function GC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function YC(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function XC(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(t,n,s){this.path=t,this.affectedTree=n,this.revert=s,this.type=ms.ACK_USER_WRITE,this.source=GC()}operationForChild(t){if(Be(this.path)){if(this.affectedTree.value!=null)return ie(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ht(t));return new uc(tt(),n,this.revert)}}else return ie(ze(this.path)===t,"operationForChild called for unrelated child."),new uc(lt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t,n,s){this.source=t,this.path=n,this.snap=s,this.type=ms.OVERWRITE}operationForChild(t){return Be(this.path)?new dr(this.source,tt(),this.snap.getImmediateChild(t)):new dr(this.source,lt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t,n,s){this.source=t,this.path=n,this.children=s,this.type=ms.MERGE}operationForChild(t){if(Be(this.path)){const n=this.children.subtree(new ht(t));return n.isEmpty()?null:n.value?new dr(this.source,tt(),n.value):new Xa(this.source,tt(),n)}else return ie(ze(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Xa(this.source,lt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,n,s){this.node_=t,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Be(t))return this.isFullyInitialized()&&!this.filtered_;const n=ze(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function kL(e,t,n,s){const i=[],r=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(_L(o.childName,o.snapshotNode))}),ia(e,i,"child_removed",t,s,n),ia(e,i,"child_added",t,s,n),ia(e,i,"child_moved",r,s,n),ia(e,i,"child_changed",t,s,n),ia(e,i,"value",t,s,n),i}function ia(e,t,n,s,i,r){const o=s.filter(a=>a.type===n);o.sort((a,l)=>AL(e,a,l)),o.forEach(a=>{const l=TL(e,a,r);i.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function TL(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function AL(e,t,n){if(t.childName==null||n.childName==null)throw ko("Should only compare child_ events.");const s=new He(t.childName,t.snapshotNode),i=new He(n.childName,n.snapshotNode);return e.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(e,t){return{eventCache:e,serverCache:t}}function Ea(e,t,n,s){return QC(new wm(t,n,s),e.serverCache)}function JC(e,t,n,s){return QC(e.eventCache,new wm(t,n,s))}function Ef(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function hr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh;const xL=()=>(Eh||(Eh=new gn(mD)),Eh);class ot{constructor(t,n=xL()){this.value=t,this.children=n}static fromObject(t){let n=new ot(null);return zn(t,(s,i)=>{n=n.set(new ht(s),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:tt(),value:this.value};if(Be(t))return null;{const s=ze(t),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(lt(t),n);return r!=null?{path:Bt(new ht(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Be(t))return this;{const n=ze(t),s=this.children.get(n);return s!==null?s.subtree(lt(t)):new ot(null)}}set(t,n){if(Be(t))return new ot(n,this.children);{const s=ze(t),r=(this.children.get(s)||new ot(null)).set(lt(t),n),o=this.children.insert(s,r);return new ot(this.value,o)}}remove(t){if(Be(t))return this.children.isEmpty()?new ot(null):new ot(null,this.children);{const n=ze(t),s=this.children.get(n);if(s){const i=s.remove(lt(t));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new ot(null):new ot(this.value,r)}else return this}}get(t){if(Be(t))return this.value;{const n=ze(t),s=this.children.get(n);return s?s.get(lt(t)):null}}setTree(t,n){if(Be(t))return n;{const s=ze(t),r=(this.children.get(s)||new ot(null)).setTree(lt(t),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new ot(this.value,o)}}fold(t){return this.fold_(tt(),t)}fold_(t,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(Bt(t,i),n)}),n(t,this.value,s)}findOnPath(t,n){return this.findOnPath_(t,tt(),n)}findOnPath_(t,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(Be(t))return null;{const r=ze(t),o=this.children.get(r);return o?o.findOnPath_(lt(t),Bt(n,r),s):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,tt(),n)}foreachOnPath_(t,n,s){if(Be(t))return this;{this.value&&s(n,this.value);const i=ze(t),r=this.children.get(i);return r?r.foreachOnPath_(lt(t),Bt(n,i),s):new ot(null)}}foreach(t){this.foreach_(tt(),t)}foreach_(t,n){this.children.inorderTraversal((s,i)=>{i.foreach_(Bt(t,s),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,s)=>{s.value&&t(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this.writeTree_=t}static empty(){return new ts(new ot(null))}}function Ia(e,t,n){if(Be(t))return new ts(new ot(n));{const s=e.writeTree_.findRootMostValueAndPath(t);if(s!=null){const i=s.path;let r=s.value;const o=Vn(i,t);return r=r.updateChild(o,n),new ts(e.writeTree_.set(i,r))}else{const i=new ot(n),r=e.writeTree_.setTree(t,i);return new ts(r)}}}function Xy(e,t,n){let s=e;return zn(n,(i,r)=>{s=Ia(s,Bt(t,i),r)}),s}function Qy(e,t){if(Be(t))return ts.empty();{const n=e.writeTree_.setTree(t,new ot(null));return new ts(n)}}function If(e,t){return pr(e,t)!=null}function pr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Vn(n.path,t)):null}function Jy(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(nn,(s,i)=>{t.push(new He(s,i))}):e.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&t.push(new He(s,i.value))}),t}function bi(e,t){if(Be(t))return e;{const n=pr(e,t);return n!=null?new ts(new ot(n)):new ts(e.writeTree_.subtree(t))}}function kf(e){return e.writeTree_.isEmpty()}function fo(e,t){return ZC(tt(),e.writeTree_,t)}function ZC(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let s=null;return t.children.inorderTraversal((i,r)=>{i===".priority"?(ie(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=ZC(Bt(e,i),r,n)}),!n.getChild(e).isEmpty()&&s!==null&&(n=n.updateChild(Bt(e,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(e,t){return rS(t,e)}function RL(e,t,n,s,i){ie(s>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:s,visible:i}),i&&(e.visibleWrites=Ia(e.visibleWrites,t,n)),e.lastWriteId=s}function NL(e,t){for(let n=0;n<e.allWrites.length;n++){const s=e.allWrites[n];if(s.writeId===t)return s}return null}function PL(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);ie(n>=0,"removeWrite called with nonexistent writeId.");const s=e.allWrites[n];e.allWrites.splice(n,1);let i=s.visible,r=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=n&&OL(a,s.path)?i=!1:Qn(s.path,a.path)&&(r=!0)),o--}if(i){if(r)return DL(e),!0;if(s.snap)e.visibleWrites=Qy(e.visibleWrites,s.path);else{const a=s.children;zn(a,l=>{e.visibleWrites=Qy(e.visibleWrites,Bt(s.path,l))})}return!0}else return!1}function OL(e,t){if(e.snap)return Qn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Qn(Bt(e.path,n),t))return!0;return!1}function DL(e){e.visibleWrites=tS(e.allWrites,LL,tt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function LL(e){return e.visible}function tS(e,t,n){let s=ts.empty();for(let i=0;i<e.length;++i){const r=e[i];if(t(r)){const o=r.path;let a;if(r.snap)Qn(n,o)?(a=Vn(n,o),s=Ia(s,a,r.snap)):Qn(o,n)&&(a=Vn(o,n),s=Ia(s,tt(),r.snap.getChild(a)));else if(r.children){if(Qn(n,o))a=Vn(n,o),s=Xy(s,a,r.children);else if(Qn(o,n))if(a=Vn(o,n),Be(a))s=Xy(s,tt(),r.children);else{const l=co(r.children,ze(a));if(l){const u=l.getChild(lt(a));s=Ia(s,tt(),u)}}}else throw ko("WriteRecord should have .snap or .children")}}return s}function nS(e,t,n,s,i){if(!s&&!i){const r=pr(e.visibleWrites,t);if(r!=null)return r;{const o=bi(e.visibleWrites,t);if(kf(o))return n;if(n==null&&!If(o,tt()))return null;{const a=n||Qe.EMPTY_NODE;return fo(o,a)}}}else{const r=bi(e.visibleWrites,t);if(!i&&kf(r))return n;if(!i&&n==null&&!If(r,tt()))return null;{const o=function(u){return(u.visible||i)&&(!s||!~s.indexOf(u.writeId))&&(Qn(u.path,t)||Qn(t,u.path))},a=tS(e.allWrites,o,t),l=n||Qe.EMPTY_NODE;return fo(a,l)}}}function ML(e,t,n){let s=Qe.EMPTY_NODE;const i=pr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(nn,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=bi(e.visibleWrites,t);return n.forEachChild(nn,(o,a)=>{const l=fo(bi(r,new ht(o)),a);s=s.updateImmediateChild(o,l)}),Jy(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=bi(e.visibleWrites,t);return Jy(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function VL(e,t,n,s,i){ie(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=Bt(t,n);if(If(e.visibleWrites,r))return null;{const o=bi(e.visibleWrites,r);return kf(o)?i.getChild(n):fo(o,i.getChild(n))}}function $L(e,t,n,s){const i=Bt(t,n),r=pr(e.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=bi(e.visibleWrites,i);return fo(o,s.getNode().getImmediateChild(n))}else return null}function FL(e,t){return pr(e.visibleWrites,t)}function BL(e,t,n,s,i,r,o){let a;const l=bi(e.visibleWrites,t),u=pr(l,tt());if(u!=null)a=u;else if(n!=null)a=fo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=r?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let f=h.getNext();for(;f&&c.length<i;)d(f,s)!==0&&c.push(f),f=h.getNext();return c}else return[]}function UL(){return{visibleWrites:ts.empty(),allWrites:[],lastWriteId:-1}}function Tf(e,t,n,s){return nS(e.writeTree,e.treePath,t,n,s)}function sS(e,t){return ML(e.writeTree,e.treePath,t)}function Zy(e,t,n,s){return VL(e.writeTree,e.treePath,t,n,s)}function cc(e,t){return FL(e.writeTree,Bt(e.treePath,t))}function jL(e,t,n,s,i,r){return BL(e.writeTree,e.treePath,t,n,s,i,r)}function Cm(e,t,n){return $L(e.writeTree,e.treePath,t,n)}function iS(e,t){return rS(Bt(e.treePath,t),e.writeTree)}function rS(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,s=t.childName;ie(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ie(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,qy(s,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,yL(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,pL(s,t.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,qy(s,t.snapshotNode,i.oldSnap));else throw ko("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{getCompleteChild(t){return null}getChildAfterChild(t,n,s){return null}}const oS=new HL;class Sm{constructor(t,n,s=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const s=this.optCompleteServerCache_!=null?new wm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cm(this.writes_,t,s)}}getChildAfterChild(t,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:hr(this.viewCache_),r=jL(this.writes_,i,n,1,s,t);return r.length===0?null:r[0]}}function WL(e,t){ie(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),ie(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function qL(e,t,n,s,i){const r=new zL;let o,a;if(n.type===ms.OVERWRITE){const u=n;u.source.fromUser?o=Af(e,t,u.path,u.snap,s,i,r):(ie(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!Be(u.path),o=dc(e,t,u.path,u.snap,s,i,a,r))}else if(n.type===ms.MERGE){const u=n;u.source.fromUser?o=GL(e,t,u.path,u.children,s,i,r):(ie(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),o=xf(e,t,u.path,u.children,s,i,a,r))}else if(n.type===ms.ACK_USER_WRITE){const u=n;u.revert?o=QL(e,t,u.path,s,i,r):o=YL(e,t,u.path,u.affectedTree,s,i,r)}else if(n.type===ms.LISTEN_COMPLETE)o=XL(e,t,n.path,s,r);else throw ko("Unknown operation type: "+n.type);const l=r.getChanges();return KL(t,o,l),{viewCache:o,changes:l}}function KL(e,t,n){const s=t.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=Ef(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(gL(Ef(t)))}}function aS(e,t,n,s,i,r){const o=t.eventCache;if(cc(s,n)!=null)return t;{let a,l;if(Be(n))if(ie(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=hr(t),c=u instanceof Qe?u:Qe.EMPTY_NODE,d=sS(s,c);a=e.filter.updateFullNode(t.eventCache.getNode(),d,r)}else{const u=Tf(s,hr(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,r)}else{const u=ze(n);if(u===".priority"){ie(Ei(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=t.serverCache.getNode();const d=Zy(s,n,c,l);d!=null?a=e.filter.updatePriority(c,d):a=o.getNode()}else{const c=lt(n);let d;if(o.isCompleteForChild(u)){l=t.serverCache.getNode();const h=Zy(s,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=Cm(s,u,t.serverCache);d!=null?a=e.filter.updateChild(o.getNode(),u,d,c,i,r):a=o.getNode()}}return Ea(t,a,o.isFullyInitialized()||Be(n),e.filter.filtersNodes())}}function dc(e,t,n,s,i,r,o,a){const l=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(Be(n))u=c.updateFullNode(l.getNode(),s,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,s);u=c.updateFullNode(l.getNode(),f,null)}else{const f=ze(n);if(!l.isCompleteForPath(n)&&Ei(n)>1)return t;const m=lt(n),b=l.getNode().getImmediateChild(f).updateChild(m,s);f===".priority"?u=c.updatePriority(l.getNode(),b):u=c.updateChild(l.getNode(),f,b,m,oS,null)}const d=JC(t,u,l.isFullyInitialized()||Be(n),c.filtersNodes()),h=new Sm(i,d,r);return aS(e,d,n,i,h,a)}function Af(e,t,n,s,i,r,o){const a=t.eventCache;let l,u;const c=new Sm(i,t,r);if(Be(n))u=e.filter.updateFullNode(t.eventCache.getNode(),s,o),l=Ea(t,u,!0,e.filter.filtersNodes());else{const d=ze(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),s),l=Ea(t,u,a.isFullyInitialized(),a.isFiltered());else{const h=lt(n),f=a.getNode().getImmediateChild(d);let m;if(Be(h))m=s;else{const g=c.getCompleteChild(d);g!=null?VC(h)===".priority"&&g.getChild(FC(h)).isEmpty()?m=g:m=g.updateChild(h,s):m=Qe.EMPTY_NODE}if(f.equals(m))l=t;else{const g=e.filter.updateChild(a.getNode(),d,m,h,c,o);l=Ea(t,g,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function e_(e,t){return e.eventCache.isCompleteForChild(t)}function GL(e,t,n,s,i,r,o){let a=t;return s.foreach((l,u)=>{const c=Bt(n,l);e_(t,ze(c))&&(a=Af(e,a,c,u,i,r,o))}),s.foreach((l,u)=>{const c=Bt(n,l);e_(t,ze(c))||(a=Af(e,a,c,u,i,r,o))}),a}function t_(e,t,n){return n.foreach((s,i)=>{t=t.updateChild(s,i)}),t}function xf(e,t,n,s,i,r,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;Be(n)?u=s:u=new ot(null).setTree(n,s);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=t.serverCache.getNode().getImmediateChild(d),m=t_(e,f,h);l=dc(e,l,new ht(d),m,i,r,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const m=t.serverCache.getNode().getImmediateChild(d),g=t_(e,m,h);l=dc(e,l,new ht(d),g,i,r,o,a)}}),l}function YL(e,t,n,s,i,r,o){if(cc(i,n)!=null)return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(s.value!=null){if(Be(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return dc(e,t,n,l.getNode().getChild(n),i,r,a,o);if(Be(n)){let u=new ot(null);return l.getNode().forEachChild(to,(c,d)=>{u=u.set(new ht(c),d)}),xf(e,t,n,u,i,r,a,o)}else return t}else{let u=new ot(null);return s.foreach((c,d)=>{const h=Bt(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),xf(e,t,n,u,i,r,a,o)}}function XL(e,t,n,s,i){const r=t.serverCache,o=JC(t,r.getNode(),r.isFullyInitialized()||Be(n),r.isFiltered());return aS(e,o,n,s,oS,i)}function QL(e,t,n,s,i,r){let o;if(cc(s,n)!=null)return t;{const a=new Sm(s,t,i),l=t.eventCache.getNode();let u;if(Be(n)||ze(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=Tf(s,hr(t));else{const d=t.serverCache.getNode();ie(d instanceof Qe,"serverChildren would be complete if leaf node"),c=sS(s,d)}c=c,u=e.filter.updateFullNode(l,c,r)}else{const c=ze(n);let d=Cm(s,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=e.filter.updateChild(l,c,d,lt(n),a,r):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(l,c,Qe.EMPTY_NODE,lt(n),a,r):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Tf(s,hr(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,r)))}return o=t.serverCache.isFullyInitialized()||cc(s,tt())!=null,Ea(t,u,o,e.filter.filtersNodes())}}function JL(e,t){const n=hr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Be(t)&&!n.getImmediateChild(ze(t)).isEmpty())?n.getChild(t):null}function n_(e,t,n,s){t.type===ms.MERGE&&t.source.queryId!==null&&(ie(hr(e.viewCache_),"We should always have a full cache before handling merges"),ie(Ef(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,r=qL(e.processor_,i,t,n,s);return WL(e.processor_,r.viewCache),ie(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=r.viewCache,ZL(e,r.changes,r.viewCache.eventCache.getNode(),null)}function ZL(e,t,n,s){const i=s?[s]:e.eventRegistrations_;return kL(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s_;function eM(e){ie(!s_,"__referenceConstructor has already been defined"),s_=e}function Em(e,t,n,s){const i=t.source.queryId;if(i!==null){const r=e.views.get(i);return ie(r!=null,"SyncTree gave us an op for an invalid query."),n_(r,t,n,s)}else{let r=[];for(const o of e.views.values())r=r.concat(n_(o,t,n,s));return r}}function Im(e,t){let n=null;for(const s of e.views.values())n=n||JL(s,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i_;function tM(e){ie(!i_,"__referenceConstructor has already been defined"),i_=e}class r_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ot(null),this.pendingWriteTree_=UL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nM(e,t,n,s,i){return RL(e.pendingWriteTree_,t,n,s,i),i?ud(e,new dr(GC(),t,n)):[]}function zr(e,t,n=!1){const s=NL(e.pendingWriteTree_,t);if(PL(e.pendingWriteTree_,t)){let r=new ot(null);return s.snap!=null?r=r.set(tt(),!0):zn(s.children,o=>{r=r.set(new ht(o),!0)}),ud(e,new uc(s.path,r,n))}else return[]}function ld(e,t,n){return ud(e,new dr(YC(),t,n))}function sM(e,t,n){const s=ot.fromObject(n);return ud(e,new Xa(YC(),t,s))}function iM(e,t,n,s){const i=dS(e,s);if(i!=null){const r=hS(i),o=r.path,a=r.queryId,l=Vn(o,t),u=new dr(XC(a),l,n);return fS(e,o,u)}else return[]}function rM(e,t,n,s){const i=dS(e,s);if(i){const r=hS(i),o=r.path,a=r.queryId,l=Vn(o,t),u=ot.fromObject(n),c=new Xa(XC(a),l,u);return fS(e,o,c)}else return[]}function lS(e,t,n){const i=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,(o,a)=>{const l=Vn(o,t),u=Im(a,l);if(u)return u});return nS(i,t,r,n,!0)}function ud(e,t){return uS(t,e.syncPointTree_,null,eS(e.pendingWriteTree_,tt()))}function uS(e,t,n,s){if(Be(e.path))return cS(e,t,n,s);{const i=t.get(tt());n==null&&i!=null&&(n=Im(i,tt()));let r=[];const o=ze(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=iS(s,o);r=r.concat(uS(a,l,u,c))}return i&&(r=r.concat(Em(i,e,s,n))),r}}function cS(e,t,n,s){const i=t.get(tt());n==null&&i!=null&&(n=Im(i,tt()));let r=[];return t.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=iS(s,o),c=e.operationForChild(o);c&&(r=r.concat(cS(c,a,l,u)))}),i&&(r=r.concat(Em(i,e,s,n))),r}function dS(e,t){return e.tagToQueryMap.get(t)}function hS(e){const t=e.indexOf("$");return ie(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ht(e.substr(0,t))}}function fS(e,t,n){const s=e.syncPointTree_.get(t);ie(s,"Missing sync point for query tag that we're tracking");const i=eS(e.pendingWriteTree_,t);return Em(s,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new km(n)}node(){return this.node_}}class Tm{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Bt(this.path_,t);return new Tm(this.syncTree_,n)}node(){return lS(this.syncTree_,this.path_)}}const oM=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},o_=function(e,t,n){if(!e||typeof e!="object")return e;if(ie(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return aM(e[".sv"],t,n);if(typeof e[".sv"]=="object")return lM(e[".sv"],t);ie(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},aM=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:ie(!1,"Unexpected server value: "+e)}},lM=function(e,t,n){e.hasOwnProperty("increment")||ie(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const s=e.increment;typeof s!="number"&&ie(!1,"Unexpected increment value: "+s);const i=t.node();if(ie(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},uM=function(e,t,n,s){return Am(t,new Tm(n,e),s)},cM=function(e,t,n){return Am(e,new km(t),n)};function Am(e,t,n){const s=e.getPriority().val(),i=o_(s,t.getImmediateChild(".priority"),n);let r;if(e.isLeafNode()){const o=e,a=o_(o.getValue(),t,n);return a!==o.getValue()||i!==o.getPriority().val()?new Mt(a,Zt(i)):e}else{const o=e;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new Mt(i))),o.forEachChild(nn,(a,l)=>{const u=Am(l,t.getImmediateChild(a),n);u!==l&&(r=r.updateImmediateChild(a,u))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t="",n=null,s={children:{},childCount:0}){this.name=t,this.parent=n,this.node=s}}function Rm(e,t){let n=t instanceof ht?t:new ht(t),s=e,i=ze(n);for(;i!==null;){const r=co(s.node.children,i)||{children:{},childCount:0};s=new xm(i,s,r),n=lt(n),i=ze(n)}return s}function No(e){return e.node.value}function vS(e,t){e.node.value=t,Rf(e)}function mS(e){return e.node.childCount>0}function dM(e){return No(e)===void 0&&!mS(e)}function cd(e,t){zn(e.node.children,(n,s)=>{t(new xm(n,e,s))})}function gS(e,t,n,s){n&&!s&&t(e),cd(e,i=>{gS(i,t,!0,s)}),n&&s&&t(e)}function hM(e,t,n){let s=n?e:e.parent;for(;s!==null;){if(t(s))return!0;s=s.parent}return!1}function Pl(e){return new ht(e.parent===null?e.name:Pl(e.parent)+"/"+e.name)}function Rf(e){e.parent!==null&&fM(e.parent,e.name,e)}function fM(e,t,n){const s=dM(n),i=Zs(e.node.children,t);s&&i?(delete e.node.children[t],e.node.childCount--,Rf(e)):!s&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Rf(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=/[\[\].#$\/\u0000-\u001F\u007F]/,mM=/[\[\].#$\u0000-\u001F\u007F]/,Ih=10*1024*1024,pS=function(e){return typeof e=="string"&&e.length!==0&&!vM.test(e)},gM=function(e){return typeof e=="string"&&e.length!==0&&!mM.test(e)},pM=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),gM(e)},yS=function(e,t,n){const s=n instanceof ht?new XD(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Fi(s));if(typeof t=="function")throw new Error(e+"contains a function "+Fi(s)+" with contents = "+t.toString());if(gC(t))throw new Error(e+"contains "+t.toString()+" "+Fi(s));if(typeof t=="string"&&t.length>Ih/3&&td(t)>Ih)throw new Error(e+"contains a string greater than "+Ih+" utf8 bytes "+Fi(s)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,r=!1;if(zn(t,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!pS(o)))throw new Error(e+" contains an invalid key ("+o+") "+Fi(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);QD(s,o),yS(e,a,s),JD(s)}),i&&r)throw new Error(e+' contains ".value" child '+Fi(s)+" in addition to actual children.")}},yM=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!pS(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!pM(n))throw new Error(QR(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bM(e,t){let n=null;for(let s=0;s<t.length;s++){const i=t[s],r=i.getPath();n!==null&&!BC(r,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&e.eventLists_.push(n)}function yr(e,t,n){bM(e,n),wM(e,s=>Qn(s,t)||Qn(t,s))}function wM(e,t){e.recursionDepth_++;let n=!0;for(let s=0;s<e.eventLists_.length;s++){const i=e.eventLists_[s];if(i){const r=i.path;t(r)?(CM(e.eventLists_[s]),e.eventLists_[s]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function CM(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const s=n.getEventRunner();nr&&Jt("event: "+n.toString()),Rl(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="repo_interrupt",EM=25;class IM{constructor(t,n,s,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _M,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lc(),this.transactionQueueTree_=new xm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kM(e,t,n){if(e.stats_=gm(e.repoInfo_),e.forceRestClient_||wD())e.server_=new ac(e.repoInfo_,(s,i,r,o)=>{a_(e,s,i,r,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>l_(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qt(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}e.persistentConnection_=new Fs(e.repoInfo_,t,(s,i,r,o)=>{a_(e,s,i,r,o)},s=>{l_(e,s)},s=>{AM(e,s)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(s=>{e.server_.refreshAuthToken(s)}),e.appCheckProvider_.addTokenChangeListener(s=>{e.server_.refreshAppCheckToken(s.token)}),e.statsReporter_=kD(e.repoInfo_,()=>new IL(e.stats_,e.server_)),e.infoData_=new bL,e.infoSyncTree_=new r_({startListening:(s,i,r,o)=>{let a=[];const l=e.infoData_.getNode(s._path);return l.isEmpty()||(a=ld(e.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Nm(e,"connected",!1),e.serverSyncTree_=new r_({startListening:(s,i,r,o)=>(e.server_.listen(s,r,i,(a,l)=>{const u=o(a,l);yr(e.eventQueue_,s._path,u)}),[]),stopListening:(s,i)=>{e.server_.unlisten(s,i)}})}function TM(e){const n=e.infoData_.getNode(new ht(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function _S(e){return oM({timestamp:TM(e)})}function a_(e,t,n,s,i){e.dataUpdateCount++;const r=new ht(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(s){const l=Xu(n,u=>Zt(u));o=rM(e.serverSyncTree_,r,l,i)}else{const l=Zt(n);o=iM(e.serverSyncTree_,r,l,i)}else if(s){const l=Xu(n,u=>Zt(u));o=sM(e.serverSyncTree_,r,l)}else{const l=Zt(n);o=ld(e.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=Om(e,r)),yr(e.eventQueue_,a,o)}function l_(e,t){Nm(e,"connected",t),t===!1&&RM(e)}function AM(e,t){zn(t,(n,s)=>{Nm(e,n,s)})}function Nm(e,t,n){const s=new ht("/.info/"+t),i=Zt(n);e.infoData_.updateSnapshot(s,i);const r=ld(e.infoSyncTree_,s,i);yr(e.eventQueue_,s,r)}function xM(e){return e.nextWriteId_++}function RM(e){bS(e,"onDisconnectEvents");const t=_S(e),n=lc();Sf(e.onDisconnect_,tt(),(i,r)=>{const o=uM(i,r,e.serverSyncTree_,t);KC(n,i,o)});let s=[];Sf(n,tt(),(i,r)=>{s=s.concat(ld(e.serverSyncTree_,i,r));const o=DM(e,i);Om(e,o)}),e.onDisconnect_=lc(),yr(e.eventQueue_,tt(),s)}function NM(e){e.persistentConnection_&&e.persistentConnection_.interrupt(SM)}function bS(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Jt(n,...t)}function wS(e,t,n){return lS(e.serverSyncTree_,t,n)||Qe.EMPTY_NODE}function Pm(e,t=e.transactionQueueTree_){if(t||dd(e,t),No(t)){const n=SS(e,t);ie(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&PM(e,Pl(t),n)}else mS(t)&&cd(t,n=>{Pm(e,n)})}function PM(e,t,n){const s=n.map(u=>u.currentWriteId),i=wS(e,t,s);let r=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];ie(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Vn(t,c.path);r=r.updateChild(d,c.currentOutputSnapshotRaw)}const a=r.val(!0),l=t;e.server_.put(l.toString(),a,u=>{bS(e,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(zr(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();dd(e,Rm(e.transactionQueueTree_,t)),Pm(e,e.transactionQueueTree_),yr(e.eventQueue_,t,c);for(let h=0;h<d.length;h++)Rl(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Tn("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Om(e,t)}},o)}function Om(e,t){const n=CS(e,t),s=Pl(n),i=SS(e,n);return OM(e,i,s),s}function OM(e,t,n){if(t.length===0)return;const s=[];let i=[];const o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],u=Vn(n,l.path);let c=!1,d;if(ie(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(zr(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=EM)c=!0,d="maxretry",i=i.concat(zr(e.serverSyncTree_,l.currentWriteId,!0));else{const h=wS(e,l.path,o);l.currentInputSnapshot=h;const f=t[a].update(h.val());if(f!==void 0){yS("transaction failed: Data returned ",f,l.path);let m=Zt(f);typeof f=="object"&&f!=null&&Zs(f,".priority")||(m=m.updatePriority(h.getPriority()));const b=l.currentWriteId,_=_S(e),w=cM(m,h,_);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=w,l.currentWriteId=xM(e),o.splice(o.indexOf(b),1),i=i.concat(nM(e.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(zr(e.serverSyncTree_,b,!0))}else c=!0,d="nodata",i=i.concat(zr(e.serverSyncTree_,l.currentWriteId,!0))}yr(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,function(h){setTimeout(h,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?s.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):s.push(()=>t[a].onComplete(new Error(d),!1,null))))}dd(e,e.transactionQueueTree_);for(let a=0;a<s.length;a++)Rl(s[a]);Pm(e,e.transactionQueueTree_)}function CS(e,t){let n,s=e.transactionQueueTree_;for(n=ze(t);n!==null&&No(s)===void 0;)s=Rm(s,n),t=lt(t),n=ze(t);return s}function SS(e,t){const n=[];return ES(e,t,n),n.sort((s,i)=>s.order-i.order),n}function ES(e,t,n){const s=No(t);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);cd(t,i=>{ES(e,i,n)})}function dd(e,t){const n=No(t);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,vS(t,n.length>0?n:void 0)}cd(t,s=>{dd(e,s)})}function DM(e,t){const n=Pl(CS(e,t)),s=Rm(e.transactionQueueTree_,t);return hM(s,i=>{kh(e,i)}),kh(e,s),gS(s,i=>{kh(e,i)}),n}function kh(e,t){const n=No(t);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ie(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(ie(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(zr(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?vS(t,void 0):n.length=r+1,yr(e.eventQueue_,Pl(t),i);for(let o=0;o<s.length;o++)Rl(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(e){let t="";const n=e.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function MM(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Tn(`Invalid query segment '${n}' in query '${e}'`)}return t}const u_=function(e,t){const n=VM(e),s=n.namespace;n.domain==="firebase.com"&&Hs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Hs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fD();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new AC(n.host,n.secure,s,i,t,"",s!==n.subdomain),path:new ht(n.pathString)}},VM=function(e){let t="",n="",s="",i="",r="",o=!0,a="https",l=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=LM(e.substring(c,d)));const h=MM(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const m=t.indexOf(".");s=t.substring(0,m).toLowerCase(),n=t.substring(m+1),r=s}"ns"in h&&(r=h.ns)}return{host:t,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,n,s,i){this._repo=t,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return Be(this._path)?null:VC(this._path)}get ref(){return new Po(this._repo,this._path)}get _queryIdentifier(){const t=Gy(this._queryParams),n=vm(t);return n==="{}"?"default":n}get _queryObject(){return Gy(this._queryParams)}isEqual(t){if(t=an(t),!(t instanceof Dm))return!1;const n=this._repo===t._repo,s=BC(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+YD(this._path)}}class Po extends Dm{constructor(t,n){super(t,n,new bm,!1)}get parent(){const t=FC(this._path);return t===null?null:new Po(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}eM(Po);tM(Po);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="FIREBASE_DATABASE_EMULATOR_HOST",Nf={};let FM=!1;function BM(e,t,n,s){e.repoInfo_=new AC(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),s&&(e.authTokenProvider_=s)}function UM(e,t,n,s,i){let r=s||e.options.databaseURL;r===void 0&&(e.options.projectId||Hs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jt("Using default host for project ",e.options.projectId),r=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=u_(r,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[$M]),u?(l=!0,r=`http://${u}?ns=${a.namespace}`,o=u_(r,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new eo(eo.OWNER):new SD(e.name,e.options,t);yM("Invalid Firebase Database URL",o),Be(o.path)||Hs("Database URL must point to the root of a Firebase Database (not including a child path).");const d=zM(a,e,c,new CD(e.name,n));return new HM(d,e)}function jM(e,t){const n=Nf[t];(!n||n[e.key]!==e)&&Hs(`Database ${t}(${e.repoInfo_}) has already been deleted.`),NM(e),delete n[e.key]}function zM(e,t,n,s){let i=Nf[t.name];i||(i={},Nf[t.name]=i);let r=i[e.toURLString()];return r&&Hs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new IM(e,FM,n,s),i[e.toURLString()]=r,r}class HM{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(kM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Po(this._repo,tt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(jM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Hs("Cannot call "+t+" on a deleted database.")}}function WM(e=sd(),t){const n=nd(e,"database").getImmediate({identifier:t}),s=Aw("database");return s&&qM(n,...s),n}function qM(e,t,n,s={}){e=an(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Hs("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let r;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&Hs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new eo(eo.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:Rw(s.mockUserToken,e.app.options.projectId);r=new eo(o)}BM(i,t,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(e){lD(gr),Cs(new ss("database",(t,{instanceIdentifier:n})=>{const s=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return UM(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),kn(Ry,Ny,e),kn(Ry,Ny,"esm2017")}Fs.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Fs.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};KM();var GM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},me,Lm=Lm||{},Ee=GM||self;function hc(){}function hd(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ol(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function YM(e){return Object.prototype.hasOwnProperty.call(e,Th)&&e[Th]||(e[Th]=++XM)}var Th="closure_uid_"+(1e9*Math.random()>>>0),XM=0;function QM(e,t,n){return e.call.apply(e.bind,arguments)}function JM(e,t,n){if(!e)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,s),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function sn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?sn=QM:sn=JM,sn.apply(null,arguments)}function vu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),e.apply(this,s)}}function Gt(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(s,i,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(s,o)}}function xi(){this.s=this.s,this.o=this.o}var ZM=0;xi.prototype.s=!1;xi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),ZM!=0)&&YM(this)};xi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const IS=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Mm(e){const t=e.length;if(0<t){const n=Array(t);for(let s=0;s<t;s++)n[s]=e[s];return n}return[]}function c_(e,t){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(hd(s)){const i=e.length||0,r=s.length||0;e.length=i+r;for(let o=0;o<r;o++)e[i+o]=s[o]}else e.push(s)}}function rn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var eV=function(){if(!Ee.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ee.addEventListener("test",hc,t),Ee.removeEventListener("test",hc,t)}catch{}return e}();function fc(e){return/^[\s\xa0]*$/.test(e)}var d_=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ah(e,t){return e<t?-1:e>t?1:0}function fd(){var e=Ee.navigator;return e&&(e=e.userAgent)?e:""}function fs(e){return fd().indexOf(e)!=-1}function Vm(e){return Vm[" "](e),e}Vm[" "]=hc;function tV(e){var t=iV;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var nV=fs("Opera"),vo=fs("Trident")||fs("MSIE"),kS=fs("Edge"),Pf=kS||vo,TS=fs("Gecko")&&!(fd().toLowerCase().indexOf("webkit")!=-1&&!fs("Edge"))&&!(fs("Trident")||fs("MSIE"))&&!fs("Edge"),sV=fd().toLowerCase().indexOf("webkit")!=-1&&!fs("Edge");function AS(){var e=Ee.document;return e?e.documentMode:void 0}var vc;e:{var xh="",Rh=function(){var e=fd();if(TS)return/rv:([^\);]+)(\)|;)/.exec(e);if(kS)return/Edge\/([\d\.]+)/.exec(e);if(vo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(sV)return/WebKit\/(\S+)/.exec(e);if(nV)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Rh&&(xh=Rh?Rh[1]:""),vo){var Nh=AS();if(Nh!=null&&Nh>parseFloat(xh)){vc=String(Nh);break e}}vc=xh}var iV={};function rV(){return tV(function(){let e=0;const t=d_(String(vc)).split("."),n=d_("9").split("."),s=Math.max(t.length,n.length);for(let o=0;e==0&&o<s;o++){var i=t[o]||"",r=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i[0].length==0&&r[0].length==0)break;e=Ah(i[1].length==0?0:parseInt(i[1],10),r[1].length==0?0:parseInt(r[1],10))||Ah(i[2].length==0,r[2].length==0)||Ah(i[2],r[2]),i=i[3],r=r[3]}while(e==0)}return 0<=e})}var Of;if(Ee.document&&vo){var h_=AS();Of=h_||parseInt(vc,10)||void 0}else Of=void 0;var oV=Of;function Qa(e,t){if(rn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(TS){e:{try{Vm(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:aV[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Qa.X.h.call(this)}}Gt(Qa,rn);var aV={2:"touch",3:"pen",4:"mouse"};Qa.prototype.h=function(){Qa.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Dl="closure_listenable_"+(1e6*Math.random()|0),lV=0;function uV(e,t,n,s,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!s,this.ha=i,this.key=++lV,this.ba=this.ea=!1}function vd(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $m(e,t,n){for(const s in e)t.call(n,e[s],s,e)}function xS(e){const t={};for(const n in e)t[n]=e[n];return t}const f_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RS(e,t){let n,s;for(let i=1;i<arguments.length;i++){s=arguments[i];for(n in s)e[n]=s[n];for(let r=0;r<f_.length;r++)n=f_[r],Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}}function md(e){this.src=e,this.g={},this.h=0}md.prototype.add=function(e,t,n,s,i){var r=e.toString();e=this.g[r],e||(e=this.g[r]=[],this.h++);var o=Lf(e,t,s,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new uV(t,this.src,r,!!s,i),t.ea=n,e.push(t)),t};function Df(e,t){var n=t.type;if(n in e.g){var s=e.g[n],i=IS(s,t),r;(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(vd(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Lf(e,t,n,s){for(var i=0;i<e.length;++i){var r=e[i];if(!r.ba&&r.listener==t&&r.capture==!!n&&r.ha==s)return i}return-1}var Fm="closure_lm_"+(1e6*Math.random()|0),Ph={};function NS(e,t,n,s,i){if(s&&s.once)return OS(e,t,n,s,i);if(Array.isArray(t)){for(var r=0;r<t.length;r++)NS(e,t[r],n,s,i);return null}return n=jm(n),e&&e[Dl]?e.N(t,n,Ol(s)?!!s.capture:!!s,i):PS(e,t,n,!1,s,i)}function PS(e,t,n,s,i,r){if(!t)throw Error("Invalid event type");var o=Ol(i)?!!i.capture:!!i,a=Um(e);if(a||(e[Fm]=a=new md(e)),n=a.add(t,n,s,o,r),n.proxy)return n;if(s=cV(),n.proxy=s,s.src=e,s.listener=n,e.addEventListener)eV||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),s,i);else if(e.attachEvent)e.attachEvent(LS(t.toString()),s);else if(e.addListener&&e.removeListener)e.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cV(){function e(n){return t.call(e.src,e.listener,n)}const t=dV;return e}function OS(e,t,n,s,i){if(Array.isArray(t)){for(var r=0;r<t.length;r++)OS(e,t[r],n,s,i);return null}return n=jm(n),e&&e[Dl]?e.O(t,n,Ol(s)?!!s.capture:!!s,i):PS(e,t,n,!0,s,i)}function DS(e,t,n,s,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)DS(e,t[r],n,s,i);else s=Ol(s)?!!s.capture:!!s,n=jm(n),e&&e[Dl]?(e=e.i,t=String(t).toString(),t in e.g&&(r=e.g[t],n=Lf(r,n,s,i),-1<n&&(vd(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete e.g[t],e.h--)))):e&&(e=Um(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Lf(t,n,s,i)),(n=-1<e?t[e]:null)&&Bm(n))}function Bm(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[Dl])Df(t.i,e);else{var n=e.type,s=e.proxy;t.removeEventListener?t.removeEventListener(n,s,e.capture):t.detachEvent?t.detachEvent(LS(n),s):t.addListener&&t.removeListener&&t.removeListener(s),(n=Um(t))?(Df(n,e),n.h==0&&(n.src=null,t[Fm]=null)):vd(e)}}}function LS(e){return e in Ph?Ph[e]:Ph[e]="on"+e}function dV(e,t){if(e.ba)e=!0;else{t=new Qa(t,this);var n=e.listener,s=e.ha||e.src;e.ea&&Bm(e),e=n.call(s,t)}return e}function Um(e){return e=e[Fm],e instanceof md?e:null}var Oh="__closure_events_fn_"+(1e9*Math.random()>>>0);function jm(e){return typeof e=="function"?e:(e[Oh]||(e[Oh]=function(t){return e.handleEvent(t)}),e[Oh])}function jt(){xi.call(this),this.i=new md(this),this.P=this,this.I=null}Gt(jt,xi);jt.prototype[Dl]=!0;jt.prototype.removeEventListener=function(e,t,n,s){DS(this,e,t,n,s)};function Kt(e,t){var n,s=e.I;if(s)for(n=[];s;s=s.I)n.push(s);if(e=e.P,s=t.type||t,typeof t=="string")t=new rn(t,e);else if(t instanceof rn)t.target=t.target||e;else{var i=t;t=new rn(s,e),RS(t,i)}if(i=!0,n)for(var r=n.length-1;0<=r;r--){var o=t.g=n[r];i=mu(o,s,!0,t)&&i}if(o=t.g=e,i=mu(o,s,!0,t)&&i,i=mu(o,s,!1,t)&&i,n)for(r=0;r<n.length;r++)o=t.g=n[r],i=mu(o,s,!1,t)&&i}jt.prototype.M=function(){if(jt.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],s=0;s<n.length;s++)vd(n[s]);delete e.g[t],e.h--}}this.I=null};jt.prototype.N=function(e,t,n,s){return this.i.add(String(e),t,!1,n,s)};jt.prototype.O=function(e,t,n,s){return this.i.add(String(e),t,!0,n,s)};function mu(e,t,n,s){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,r=0;r<t.length;++r){var o=t[r];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Df(e.i,o),i=a.call(l,s)!==!1&&i}}return i&&!s.defaultPrevented}var zm=Ee.JSON.stringify;function hV(){var e=$S;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class fV{constructor(){this.h=this.g=null}add(t,n){const s=MS.get();s.set(t,n),this.h?this.h.next=s:this.g=s,this.h=s}}var MS=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new vV,e=>e.reset());class vV{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function mV(e){Ee.setTimeout(()=>{throw e},0)}function VS(e,t){Mf||gV(),Vf||(Mf(),Vf=!0),$S.add(e,t)}var Mf;function gV(){var e=Ee.Promise.resolve(void 0);Mf=function(){e.then(pV)}}var Vf=!1,$S=new fV;function pV(){for(var e;e=hV();){try{e.h.call(e.g)}catch(n){mV(n)}var t=MS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Vf=!1}function gd(e,t){jt.call(this),this.h=e||1,this.g=t||Ee,this.j=sn(this.lb,this),this.l=Date.now()}Gt(gd,jt);me=gd.prototype;me.ca=!1;me.R=null;me.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Kt(this,"tick"),this.ca&&(Hm(this),this.start()))}};me.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Hm(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}me.M=function(){gd.X.M.call(this),Hm(this),delete this.g};function Wm(e,t,n){if(typeof e=="function")n&&(e=sn(e,n));else if(e&&typeof e.handleEvent=="function")e=sn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Ee.setTimeout(e,t||0)}function FS(e){e.g=Wm(()=>{e.g=null,e.i&&(e.i=!1,FS(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class yV extends xi{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:FS(this)}M(){super.M(),this.g&&(Ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ja(e){xi.call(this),this.h=e,this.g={}}Gt(Ja,xi);var v_=[];function BS(e,t,n,s){Array.isArray(n)||(n&&(v_[0]=n.toString()),n=v_);for(var i=0;i<n.length;i++){var r=NS(t,n[i],s||e.handleEvent,!1,e.h||e);if(!r)break;e.g[r.key]=r}}function US(e){$m(e.g,function(t,n){this.g.hasOwnProperty(n)&&Bm(t)},e),e.g={}}Ja.prototype.M=function(){Ja.X.M.call(this),US(this)};Ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function pd(){this.g=!0}pd.prototype.Aa=function(){this.g=!1};function _V(e,t,n,s,i,r){e.info(function(){if(e.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+s+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function bV(e,t,n,s,i,r,o){e.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+i+"]: "+t+`
`+n+`
`+r+" "+o})}function Hr(e,t,n,s){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+CV(e,n)+(s?" "+s:"")})}function wV(e,t){e.info(function(){return"TIMEOUT: "+t})}pd.prototype.info=function(){};function CV(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var s=n[e];if(!(2>s.length)){var i=s[1];if(Array.isArray(i)&&!(1>i.length)){var r=i[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return zm(n)}catch{return t}}var _r={},m_=null;function yd(){return m_=m_||new jt}_r.Pa="serverreachability";function jS(e){rn.call(this,_r.Pa,e)}Gt(jS,rn);function Za(e){const t=yd();Kt(t,new jS(t))}_r.STAT_EVENT="statevent";function zS(e,t){rn.call(this,_r.STAT_EVENT,e),this.stat=t}Gt(zS,rn);function hn(e){const t=yd();Kt(t,new zS(t,e))}_r.Qa="timingevent";function HS(e,t){rn.call(this,_r.Qa,e),this.size=t}Gt(HS,rn);function Ll(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Ee.setTimeout(function(){e()},t)}var _d={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},WS={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function qm(){}qm.prototype.h=null;function g_(e){return e.h||(e.h=e.i())}function qS(){}var Ml={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Km(){rn.call(this,"d")}Gt(Km,rn);function Gm(){rn.call(this,"c")}Gt(Gm,rn);var $f;function bd(){}Gt(bd,qm);bd.prototype.g=function(){return new XMLHttpRequest};bd.prototype.i=function(){return{}};$f=new bd;function Vl(e,t,n,s){this.l=e,this.j=t,this.m=n,this.U=s||1,this.S=new Ja(this),this.O=SV,e=Pf?125:void 0,this.T=new gd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new KS}function KS(){this.i=null,this.g="",this.h=!1}var SV=45e3,Ff={},mc={};me=Vl.prototype;me.setTimeout=function(e){this.O=e};function Bf(e,t,n){e.K=1,e.v=Cd(Ws(t)),e.s=n,e.P=!0,GS(e,null)}function GS(e,t){e.F=Date.now(),$l(e),e.A=Ws(e.v);var n=e.A,s=e.U;Array.isArray(s)||(s=[String(s)]),nE(n.i,"t",s),e.C=0,n=e.l.H,e.h=new KS,e.g=SE(e.l,n?t:null,!e.s),0<e.N&&(e.L=new yV(sn(e.La,e,e.g),e.N)),BS(e.S,e.g,"readystatechange",e.ib),t=e.H?xS(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Za(),_V(e.j,e.u,e.A,e.m,e.U,e.s)}me.ib=function(e){e=e.target;const t=this.L;t&&$s(e)==3?t.l():this.La(e)};me.La=function(e){try{if(e==this.g)e:{const c=$s(this.g);var t=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||Pf||this.g&&(this.h.h||this.g.fa()||b_(this.g)))){this.I||c!=4||t==7||(t==8||0>=d?Za(3):Za(2)),wd(this);var n=this.g.aa();this.Y=n;t:if(YS(this)){var s=b_(this.g);e="";var i=s.length,r=$s(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qi(this),ka(this);var o="";break t}this.h.i=new Ee.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(s[t],{stream:r&&t==i-1});s.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,bV(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fc(a)){var u=a;break t}}u=null}if(n=u)Hr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Uf(this,n);else{this.i=!1,this.o=3,hn(12),qi(this),ka(this);break e}}this.P?(XS(this,c,o),Pf&&this.i&&c==3&&(BS(this.S,this.T,"tick",this.hb),this.T.start())):(Hr(this.j,this.m,o,null),Uf(this,o)),c==4&&qi(this),this.i&&!this.I&&(c==4?_E(this.l,this):(this.i=!1,$l(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,hn(12)):(this.o=0,hn(13)),qi(this),ka(this)}}}catch{}finally{}};function YS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function XS(e,t,n){let s=!0,i;for(;!e.I&&e.C<n.length;)if(i=EV(e,n),i==mc){t==4&&(e.o=4,hn(14),s=!1),Hr(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Ff){e.o=4,hn(15),Hr(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}else Hr(e.j,e.m,i,null),Uf(e,i);YS(e)&&i!=mc&&i!=Ff&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,hn(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),tg(t),t.K=!0,hn(11))):(Hr(e.j,e.m,n,"[Invalid Chunked Response]"),qi(e),ka(e))}me.hb=function(){if(this.g){var e=$s(this.g),t=this.g.fa();this.C<t.length&&(wd(this),XS(this,e,t),this.i&&e!=4&&$l(this))}};function EV(e,t){var n=e.C,s=t.indexOf(`
`,n);return s==-1?mc:(n=Number(t.substring(n,s)),isNaN(n)?Ff:(s+=1,s+n>t.length?mc:(t=t.substr(s,n),e.C=s+n,t)))}me.cancel=function(){this.I=!0,qi(this)};function $l(e){e.V=Date.now()+e.O,QS(e,e.O)}function QS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ll(sn(e.gb,e),t)}function wd(e){e.B&&(Ee.clearTimeout(e.B),e.B=null)}me.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(wV(this.j,this.A),this.K!=2&&(Za(),hn(17)),qi(this),this.o=2,ka(this)):QS(this,this.V-e)};function ka(e){e.l.G==0||e.I||_E(e.l,e)}function qi(e){wd(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Hm(e.T),US(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Uf(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||jf(n.h,e))){if(!e.J&&jf(n.h,e)&&n.G==3){try{var s=n.Fa.g.parse(t)}catch{s=null}if(Array.isArray(s)&&s.length==3){var i=s;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)yc(n),Id(n);else break e;eg(n),hn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Ll(sn(n.cb,n),6e3));if(1>=rE(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ki(n,11)}else if((e.J||n.g==e)&&yc(n),!fc(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(s=1.5*h,n.J=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const f=e.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var r=s.h;r.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(Ym(r,r.h),r.h=null))}if(s.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(s.za=g,vt(s.F,s.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),s=n;var o=e;if(s.sa=CE(s,s.H?s.ka:null,s.V),o.J){oE(s.h,o);var a=o,l=s.J;l&&a.setTimeout(l),a.B&&(wd(a),$l(a)),s.g=o}else pE(s);0<n.i.length&&kd(n)}else u[0]!="stop"&&u[0]!="close"||Ki(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ki(n,7):Zm(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Za(4)}catch{}}function IV(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(hd(e)){for(var t=[],n=e.length,s=0;s<n;s++)t.push(e[s]);return t}t=[],n=0;for(s in e)t[n++]=e[s];return t}function kV(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(hd(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const s in e)t[n++]=s;return t}}}function JS(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(hd(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=kV(e),s=IV(e),i=s.length,r=0;r<i;r++)t.call(void 0,s[r],n&&n[r],e)}var ZS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TV(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var s=e[n].indexOf("="),i=null;if(0<=s){var r=e[n].substring(0,s);i=e[n].substring(s+1)}else r=e[n];t(r,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function sr(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof sr){this.h=t!==void 0?t:e.h,gc(this,e.j),this.s=e.s,this.g=e.g,pc(this,e.m),this.l=e.l,t=e.i;var n=new el;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),p_(this,n),this.o=e.o}else e&&(n=String(e).match(ZS))?(this.h=!!t,gc(this,n[1]||"",!0),this.s=ha(n[2]||""),this.g=ha(n[3]||"",!0),pc(this,n[4]),this.l=ha(n[5]||"",!0),p_(this,n[6]||"",!0),this.o=ha(n[7]||"")):(this.h=!!t,this.i=new el(null,this.h))}sr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(fa(t,y_,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(fa(t,y_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(fa(n,n.charAt(0)=="/"?RV:xV,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",fa(n,PV)),e.join("")};function Ws(e){return new sr(e)}function gc(e,t,n){e.j=n?ha(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function p_(e,t,n){t instanceof el?(e.i=t,OV(e.i,e.h)):(n||(t=fa(t,NV)),e.i=new el(t,e.h))}function vt(e,t,n){e.i.set(t,n)}function Cd(e){return vt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ha(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function fa(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,AV),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function AV(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var y_=/[#\/\?@]/g,xV=/[#\?:]/g,RV=/[#\?]/g,NV=/[#\?@]/g,PV=/#/g;function el(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ri(e){e.g||(e.g=new Map,e.h=0,e.i&&TV(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}me=el.prototype;me.add=function(e,t){Ri(this),this.i=null,e=Oo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function eE(e,t){Ri(e),t=Oo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tE(e,t){return Ri(e),t=Oo(e,t),e.g.has(t)}me.forEach=function(e,t){Ri(this),this.g.forEach(function(n,s){n.forEach(function(i){e.call(t,i,s,this)},this)},this)};me.oa=function(){Ri(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let s=0;s<t.length;s++){const i=e[s];for(let r=0;r<i.length;r++)n.push(t[s])}return n};me.W=function(e){Ri(this);let t=[];if(typeof e=="string")tE(this,e)&&(t=t.concat(this.g.get(Oo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};me.set=function(e,t){return Ri(this),this.i=null,e=Oo(this,e),tE(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};me.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function nE(e,t,n){eE(e,t),0<n.length&&(e.i=null,e.g.set(Oo(e,t),Mm(n)),e.h+=n.length)}me.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var s=t[n];const r=encodeURIComponent(String(s)),o=this.W(s);for(s=0;s<o.length;s++){var i=r;o[s]!==""&&(i+="="+encodeURIComponent(String(o[s]))),e.push(i)}}return this.i=e.join("&")};function Oo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function OV(e,t){t&&!e.j&&(Ri(e),e.i=null,e.g.forEach(function(n,s){var i=s.toLowerCase();s!=i&&(eE(this,s),nE(this,i,n))},e)),e.j=t}var DV=class{constructor(e,t){this.h=e,this.g=t}};function sE(e){this.l=e||LV,Ee.PerformanceNavigationTiming?(e=Ee.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Ee.g&&Ee.g.Ga&&Ee.g.Ga()&&Ee.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var LV=10;function iE(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function rE(e){return e.h?1:e.g?e.g.size:0}function jf(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Ym(e,t){e.g?e.g.add(t):e.h=t}function oE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}sE.prototype.cancel=function(){if(this.i=aE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function aE(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Mm(e.i)}function Xm(){}Xm.prototype.stringify=function(e){return Ee.JSON.stringify(e,void 0)};Xm.prototype.parse=function(e){return Ee.JSON.parse(e,void 0)};function MV(){this.g=new Xm}function VV(e,t,n){const s=n||"";try{JS(e,function(i,r){let o=i;Ol(i)&&(o=zm(i)),t.push(s+r+"="+encodeURIComponent(o))})}catch(i){throw t.push(s+"type="+encodeURIComponent("_badmap")),i}}function $V(e,t){const n=new pd;if(Ee.Image){const s=new Image;s.onload=vu(gu,n,s,"TestLoadImage: loaded",!0,t),s.onerror=vu(gu,n,s,"TestLoadImage: error",!1,t),s.onabort=vu(gu,n,s,"TestLoadImage: abort",!1,t),s.ontimeout=vu(gu,n,s,"TestLoadImage: timeout",!1,t),Ee.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=e}else t(!1)}function gu(e,t,n,s,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(s)}catch{}}function Fl(e){this.l=e.ac||null,this.j=e.jb||!1}Gt(Fl,qm);Fl.prototype.g=function(){return new Sd(this.l,this.j)};Fl.prototype.i=function(e){return function(){return e}}({});function Sd(e,t){jt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Qm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gt(Sd,jt);var Qm=0;me=Sd.prototype;me.open=function(e,t){if(this.readyState!=Qm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,tl(this)};me.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ee).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bl(this)),this.readyState=Qm};me.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tl(this)),this.g&&(this.readyState=3,tl(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ee.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lE(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function lE(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}me.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Bl(this):tl(this),this.readyState==3&&lE(this)}};me.Va=function(e){this.g&&(this.response=this.responseText=e,Bl(this))};me.Ua=function(e){this.g&&(this.response=e,Bl(this))};me.ga=function(){this.g&&Bl(this)};function Bl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,tl(e)}me.setRequestHeader=function(e,t){this.v.append(e,t)};me.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};me.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function tl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Sd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var FV=Ee.JSON.parse;function wt(e){jt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uE,this.K=this.L=!1}Gt(wt,jt);var uE="",BV=/^https?$/i,UV=["POST","PUT"];me=wt.prototype;me.Ka=function(e){this.L=e};me.da=function(e,t,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$f.g(),this.C=this.u?g_(this.u):g_($f),this.g.onreadystatechange=sn(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(r){__(this,r);return}if(e=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var i in s)n.set(i,s[i]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const r of s.keys())n.set(r,s.get(r));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),i=Ee.FormData&&e instanceof Ee.FormData,!(0<=IS(UV,t))||s||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hE(this),0<this.B&&((this.K=jV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sn(this.qa,this)):this.A=Wm(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(r){__(this,r)}};function jV(e){return vo&&rV()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}me.qa=function(){typeof Lm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))};function __(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cE(e),Ed(e)}function cE(e){e.D||(e.D=!0,Kt(e,"complete"),Kt(e,"error"))}me.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Kt(this,"complete"),Kt(this,"abort"),Ed(this))};me.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ed(this,!0)),wt.X.M.call(this)};me.Ha=function(){this.s||(this.F||this.v||this.l?dE(this):this.fb())};me.fb=function(){dE(this)};function dE(e){if(e.h&&typeof Lm<"u"&&(!e.C[1]||$s(e)!=4||e.aa()!=2)){if(e.v&&$s(e)==4)Wm(e.Ha,0,e);else if(Kt(e,"readystatechange"),$s(e)==4){e.h=!1;try{const a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=a===0){var i=String(e.H).match(ZS)[1]||null;if(!i&&Ee.self&&Ee.self.location){var r=Ee.self.location.protocol;i=r.substr(0,r.length-1)}s=!BV.test(i?i.toLowerCase():"")}n=s}if(n)Kt(e,"complete"),Kt(e,"success");else{e.m=6;try{var o=2<$s(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",cE(e)}}finally{Ed(e)}}}}function Ed(e,t){if(e.g){hE(e);const n=e.g,s=e.C[0]?hc:null;e.g=null,e.C=null,t||Kt(e,"ready");try{n.onreadystatechange=s}catch{}}}function hE(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ee.clearTimeout(e.A),e.A=null)}function $s(e){return e.g?e.g.readyState:0}me.aa=function(){try{return 2<$s(this)?this.g.status:-1}catch{return-1}};me.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};me.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),FV(t)}};function b_(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case uE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}me.Ea=function(){return this.m};me.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function fE(e){let t="";return $m(e,function(n,s){t+=s,t+=":",t+=n,t+=`\r
`}),t}function Jm(e,t,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=fE(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):vt(e,t,n))}function ra(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function vE(e){this.Ca=0,this.i=[],this.j=new pd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ra("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ra("baseRetryDelayMs",5e3,e),this.bb=ra("retryDelaySeedMs",1e4,e),this.$a=ra("forwardChannelMaxRetries",2,e),this.ta=ra("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new sE(e&&e.concurrentRequestLimit),this.Fa=new MV,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}me=vE.prototype;me.ma=8;me.G=1;function Zm(e){if(mE(e),e.G==3){var t=e.U++,n=Ws(e.F);vt(n,"SID",e.I),vt(n,"RID",t),vt(n,"TYPE","terminate"),Ul(e,n),t=new Vl(e,e.j,t,void 0),t.K=2,t.v=Cd(Ws(n)),n=!1,Ee.navigator&&Ee.navigator.sendBeacon&&(n=Ee.navigator.sendBeacon(t.v.toString(),"")),!n&&Ee.Image&&(new Image().src=t.v,n=!0),n||(t.g=SE(t.l,null),t.g.da(t.v)),t.F=Date.now(),$l(t)}wE(e)}function Id(e){e.g&&(tg(e),e.g.cancel(),e.g=null)}function mE(e){Id(e),e.u&&(Ee.clearTimeout(e.u),e.u=null),yc(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&Ee.clearTimeout(e.m),e.m=null)}function kd(e){iE(e.h)||e.m||(e.m=!0,VS(e.Ja,e),e.C=0)}function zV(e,t){return rE(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=Ll(sn(e.Ja,e,t),bE(e,e.C)),e.C++,!0)}me.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Vl(this,this.j,e,void 0);let r=this.s;if(this.S&&(r?(r=xS(r),RS(r,this.S)):r=this.S),this.o!==null||this.N||(i.H=r,r=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var s=this.i[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(t+=s,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=gE(this,i,t),n=Ws(this.F),vt(n,"RID",e),vt(n,"CVER",22),this.D&&vt(n,"X-HTTP-Session-Id",this.D),Ul(this,n),r&&(this.N?t="headers="+encodeURIComponent(String(fE(r)))+"&"+t:this.o&&Jm(n,this.o,r)),Ym(this.h,i),this.Ya&&vt(n,"TYPE","init"),this.O?(vt(n,"$req",t),vt(n,"SID","null"),i.Z=!0,Bf(i,n,null)):Bf(i,n,t),this.G=2}}else this.G==3&&(e?w_(this,e):this.i.length==0||iE(this.h)||w_(this))};function w_(e,t){var n;t?n=t.m:n=e.U++;const s=Ws(e.F);vt(s,"SID",e.I),vt(s,"RID",n),vt(s,"AID",e.T),Ul(e,s),e.o&&e.s&&Jm(s,e.o,e.s),n=new Vl(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=gE(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Ym(e.h,n),Bf(n,s,t)}function Ul(e,t){e.ia&&$m(e.ia,function(n,s){vt(t,s,n)}),e.l&&JS({},function(n,s){vt(t,s,n)})}function gE(e,t,n){n=Math.min(e.i.length,n);var s=e.l?sn(e.l.Ra,e.l,e):null;e:{var i=e.i;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=i[0].h,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=r,0>u)r=Math.max(0,i[l].h-100),a=!1;else try{VV(c,o,"req"+u+"_")}catch{s&&s(c)}}if(a){s=o.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,s}function pE(e){e.g||e.u||(e.Z=1,VS(e.Ia,e),e.A=0)}function eg(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=Ll(sn(e.Ia,e),bE(e,e.A)),e.A++,!0)}me.Ia=function(){if(this.u=null,yE(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Ll(sn(this.eb,this),e)}};me.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,hn(10),Id(this),yE(this))};function tg(e){e.B!=null&&(Ee.clearTimeout(e.B),e.B=null)}function yE(e){e.g=new Vl(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=Ws(e.sa);vt(t,"RID","rpc"),vt(t,"SID",e.I),vt(t,"CI",e.L?"0":"1"),vt(t,"AID",e.T),vt(t,"TYPE","xmlhttp"),Ul(e,t),e.o&&e.s&&Jm(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Cd(Ws(t)),n.s=null,n.P=!0,GS(n,e)}me.cb=function(){this.v!=null&&(this.v=null,Id(this),eg(this),hn(19))};function yc(e){e.v!=null&&(Ee.clearTimeout(e.v),e.v=null)}function _E(e,t){var n=null;if(e.g==t){yc(e),tg(e),e.g=null;var s=2}else if(jf(e.h,t))n=t.D,oE(e.h,t),s=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(s==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;s=yd(),Kt(s,new HS(s,n)),kd(e)}else pE(e);else if(i=t.o,i==3||i==0&&0<e.pa||!(s==1&&zV(e,t)||s==2&&eg(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Ki(e,5);break;case 4:Ki(e,10);break;case 3:Ki(e,6);break;default:Ki(e,2)}}}function bE(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Ki(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var s=sn(e.kb,e);n||(n=new sr("//www.google.com/images/cleardot.gif"),Ee.location&&Ee.location.protocol=="http"||gc(n,"https"),Cd(n)),$V(n.toString(),s)}else hn(2);e.G=0,e.l&&e.l.va(t),wE(e),mE(e)}me.kb=function(e){e?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function wE(e){if(e.G=0,e.la=[],e.l){const t=aE(e.h);(t.length!=0||e.i.length!=0)&&(c_(e.la,t),c_(e.la,e.i),e.h.i.length=0,Mm(e.i),e.i.length=0),e.l.ua()}}function CE(e,t,n){var s=n instanceof sr?Ws(n):new sr(n,void 0);if(s.g!="")t&&(s.g=t+"."+s.g),pc(s,s.m);else{var i=Ee.location;s=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var r=new sr(null,void 0);s&&gc(r,s),t&&(r.g=t),i&&pc(r,i),n&&(r.l=n),s=r}return n=e.D,t=e.za,n&&t&&vt(s,n,t),vt(s,"VER",e.ma),Ul(e,s),s}function SE(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new wt(new Fl({jb:!0})):new wt(e.ra),t.Ka(e.H),t}function EE(){}me=EE.prototype;me.xa=function(){};me.wa=function(){};me.va=function(){};me.ua=function(){};me.Ra=function(){};function _c(){if(vo&&!(10<=Number(oV)))throw Error("Environmental error: no available transport.")}_c.prototype.g=function(e,t){return new xn(e,t)};function xn(e,t){jt.call(this),this.g=new vE(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!fc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!fc(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Do(this)}Gt(xn,jt);xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;hn(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=CE(e,null,e.V),kd(e)};xn.prototype.close=function(){Zm(this.g)};xn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=zm(e),e=n);t.i.push(new DV(t.ab++,e)),t.G==3&&kd(t)};xn.prototype.M=function(){this.g.l=null,delete this.j,Zm(this.g),delete this.g,xn.X.M.call(this)};function IE(e){Km.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Gt(IE,Km);function kE(){Gm.call(this),this.status=1}Gt(kE,Gm);function Do(e){this.g=e}Gt(Do,EE);Do.prototype.xa=function(){Kt(this.g,"a")};Do.prototype.wa=function(e){Kt(this.g,new IE(e))};Do.prototype.va=function(e){Kt(this.g,new kE)};Do.prototype.ua=function(){Kt(this.g,"b")};_c.prototype.createWebChannel=_c.prototype.g;xn.prototype.send=xn.prototype.u;xn.prototype.open=xn.prototype.m;xn.prototype.close=xn.prototype.close;_d.NO_ERROR=0;_d.TIMEOUT=8;_d.HTTP_ERROR=6;WS.COMPLETE="complete";qS.EventType=Ml;Ml.OPEN="a";Ml.CLOSE="b";Ml.ERROR="c";Ml.MESSAGE="d";jt.prototype.listen=jt.prototype.N;wt.prototype.listenOnce=wt.prototype.O;wt.prototype.getLastError=wt.prototype.Oa;wt.prototype.getLastErrorCode=wt.prototype.Ea;wt.prototype.getStatus=wt.prototype.aa;wt.prototype.getResponseJson=wt.prototype.Sa;wt.prototype.getResponseText=wt.prototype.fa;wt.prototype.send=wt.prototype.da;wt.prototype.setWithCredentials=wt.prototype.Ka;var HV=function(){return new _c},WV=function(){return yd()},Dh=_d,qV=WS,KV=_r,C_={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},GV=Fl,pu=qS,YV=wt;const S_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="9.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new bl("@firebase/firestore");function E_(){return fr.logLevel}function ge(e,...t){if(fr.logLevel<=Ke.DEBUG){const n=t.map(ng);fr.debug(`Firestore (${Lo}): ${e}`,...n)}}function qs(e,...t){if(fr.logLevel<=Ke.ERROR){const n=t.map(ng);fr.error(`Firestore (${Lo}): ${e}`,...n)}}function zf(e,...t){if(fr.logLevel<=Ke.WARN){const n=t.map(ng);fr.warn(`Firestore (${Lo}): ${e}`,...n)}}function ng(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(e="Unexpected state"){const t=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+e;throw qs(t),new Error(t)}function it(e,t){e||xe()}function Ne(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends xs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class XV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class QV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JV{constructor(t){this.t=t,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let s=this.i;const i=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let r=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new wi,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=r;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new wi)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(it(typeof s.accessToken=="string"),new TE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return it(t===null||typeof t=="string"),new Qt(t)}}class ZV{constructor(t,n,s,i){this.h=t,this.l=n,this.m=s,this.g=i,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(it(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class e${constructor(t,n,s,i){this.h=t,this.l=n,this.m=s,this.g=i}getToken(){return Promise.resolve(new ZV(this.h,this.l,this.m,this.g))}start(t,n){t.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t${constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n${constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,n){const s=r=>{r.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.A;return this.A=r.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>s(r))};const i=r=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.T.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.T.getImmediate({optional:!0});r?i(r):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(it(typeof n.token=="string"),this.A=n.token,new t$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let s="";for(;s.length<20;){const i=s$(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=t.charAt(i[r]%t.length))}return s}}function Xe(e,t){return e<t?-1:e>t?1:0}function mo(e,t,n){return e.length===t.length&&e.every((s,i)=>n(s,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new fe(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new fe(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fe(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Pt.fromMillis(Date.now())}static fromDate(t){return Pt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*n));return new Pt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Xe(this.nanoseconds,t.nanoseconds):Xe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Le(t)}static min(){return new Le(new Pt(0,0))}static max(){return new Le(new Pt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t,n,s){n===void 0?n=0:n>t.length&&xe(),s===void 0?s=t.length-n:s>t.length-n&&xe(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return nl.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof nl?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let i=0;i<s;i++){const r=t.get(i),o=n.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ut extends nl{construct(t,n,s){return new ut(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new fe(H.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const i$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends nl{construct(t,n,s){return new tn(t,n,s)}static isValidIdentifier(t){return i$.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tn(["__name__"])}static fromServerFormat(t){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new fe(H.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new fe(H.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(s+=a,i++):(r(),i++)}if(r(),o)throw new fe(H.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.path=t}static fromPath(t){return new pe(ut.fromString(t))}static fromName(t){return new pe(ut.fromString(t).popFirst(5))}static empty(){return new pe(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ut.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ut.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pe(new ut(t.slice()))}}function r$(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(s===1e9?new Pt(n+1,0):new Pt(n,s));return new Ii(i,pe.empty(),t)}function o$(e){return new Ii(e.readTime,e.key,-1)}class Ii{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ii(Le.min(),pe.empty(),-1)}static max(){return new Ii(Le.max(),pe.empty(),-1)}}function a$(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=pe.comparator(e.documentKey,t.documentKey),n!==0?n:Xe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(e){if(e.code!==H.FAILED_PRECONDITION||e.message!==l$)throw e;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new X((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):X.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):X.reject(n)}static resolve(t){return new X((n,s)=>{n(t)})}static reject(t){return new X((n,s)=>{s(t)})}static waitFor(t){return new X((n,s)=>{let i=0,r=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++r,o&&r===i&&n()},l=>s(l))}),o=!0,r===i&&n()})}static or(t){let n=X.resolve(!1);for(const s of t)n=n.next(i=>i?X.resolve(i):s());return n}static forEach(t,n){const s=[];return t.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(t,n){return new X((s,i)=>{const r=t.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===r&&s(o)},c=>i(c))}})}static doWhile(t,n){return new X((s,i)=>{const r=()=>{t()===!0?n().next(()=>{r()},i):s()};r()})}}function zl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>n.writeSequenceNumber(s))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Mo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sg.at=-1;class Dt{constructor(t,n){this.comparator=t,this.root=n||zt.EMPTY}insert(t,n){return new Dt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(t){return new Dt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(t,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yu(this.root,t,this.comparator,!1)}getReverseIterator(){return new yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yu(this.root,t,this.comparator,!0)}}class yu{constructor(t,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?s(t.key,n):1,n&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class zt{constructor(t,n,s,i,r){this.key=t,this.value=n,this.color=s!=null?s:zt.RED,this.left=i!=null?i:zt.EMPTY,this.right=r!=null?r:zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,i,r){return new zt(t!=null?t:this.key,n!=null?n:this.value,s!=null?s:this.color,i!=null?i:this.left,r!=null?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let i=this;const r=s(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return zt.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const t=this.left.check();if(t!==this.right.check())throw xe();return t+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,n,s,i){return this}insert(e,t,n){return new zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.comparator=t,this.data=new Dt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(t){return new k_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ot)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ot(this.comparator);return n.data=t,n}}class k_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new _s([])}unionWith(t){let n=new Ot(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new _s(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const n=atob(t);return new ln(n)}static fromUint8Array(t){const n=function(s){let i="";for(let r=0;r<s.length;++r)i+=String.fromCharCode(s[r]);return i}(t);return new ln(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const c$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(e){if(it(!!e),typeof e=="string"){let t=0;const n=c$.exec(e);if(it(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:xt(e.seconds),nanos:xt(e.nanos)}}function xt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function go(e){return typeof e=="string"?ln.fromBase64String(e):ln.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function NE(e){const t=e.mapValue.fields.__previous_value__;return RE(t)?NE(t):t}function sl(e){const t=ki(e.mapValue.fields.__local_write_time__.timestampValue);return new Pt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(t,n,s,i,r,o,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class il{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new il("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof il&&t.projectId===this.projectId&&t.database===this.database}}function Td(e){return e==null}function bc(e){return e===0&&1/e==-1/0}function h$(e){return typeof e=="number"&&Number.isInteger(e)&&!bc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?RE(e)?4:f$(e)?9007199254740991:10:xe()}function Ss(e,t){if(e===t)return!0;const n=vr(e);if(n!==vr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sl(e).isEqual(sl(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const r=ki(s.timestampValue),o=ki(i.timestampValue);return r.seconds===o.seconds&&r.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,i){return go(s.bytesValue).isEqual(go(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,i){return xt(s.geoPointValue.latitude)===xt(i.geoPointValue.latitude)&&xt(s.geoPointValue.longitude)===xt(i.geoPointValue.longitude)}(e,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return xt(s.integerValue)===xt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const r=xt(s.doubleValue),o=xt(i.doubleValue);return r===o?bc(r)===bc(o):isNaN(r)&&isNaN(o)}return!1}(e,t);case 9:return mo(e.arrayValue.values||[],t.arrayValue.values||[],Ss);case 10:return function(s,i){const r=s.mapValue.fields||{},o=i.mapValue.fields||{};if(I_(r)!==I_(o))return!1;for(const a in r)if(r.hasOwnProperty(a)&&(o[a]===void 0||!Ss(r[a],o[a])))return!1;return!0}(e,t);default:return xe()}}function rl(e,t){return(e.values||[]).find(n=>Ss(n,t))!==void 0}function po(e,t){if(e===t)return 0;const n=vr(e),s=vr(t);if(n!==s)return Xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(e.booleanValue,t.booleanValue);case 2:return function(i,r){const o=xt(i.integerValue||i.doubleValue),a=xt(r.integerValue||r.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return T_(e.timestampValue,t.timestampValue);case 4:return T_(sl(e),sl(t));case 5:return Xe(e.stringValue,t.stringValue);case 6:return function(i,r){const o=go(i),a=go(r);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,r){const o=i.split("/"),a=r.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Xe(o[l],a[l]);if(u!==0)return u}return Xe(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,r){const o=Xe(xt(i.latitude),xt(r.latitude));return o!==0?o:Xe(xt(i.longitude),xt(r.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,r){const o=i.values||[],a=r.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=po(o[l],a[l]);if(u)return u}return Xe(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,r){if(i===_u.mapValue&&r===_u.mapValue)return 0;if(i===_u.mapValue)return 1;if(r===_u.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=r.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Xe(a[c],u[c]);if(d!==0)return d;const h=po(o[a[c]],l[u[c]]);if(h!==0)return h}return Xe(a.length,u.length)}(e.mapValue,t.mapValue);default:throw xe()}}function T_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Xe(e,t);const n=ki(e),s=ki(t),i=Xe(n.seconds,s.seconds);return i!==0?i:Xe(n.nanos,s.nanos)}function no(e){return Hf(e)}function Hf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(s){const i=ki(s);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?go(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,pe.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(s){let i="[",r=!0;for(const o of s.values||[])r?r=!1:i+=",",i+=Hf(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(s){const i=Object.keys(s.fields||{}).sort();let r="{",o=!0;for(const a of i)o?o=!1:r+=",",r+=`${a}:${Hf(s.fields[a])}`;return r+"}"}(e.mapValue):xe();var t,n}function A_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Wf(e){return!!e&&"integerValue"in e}function ig(e){return!!e&&"arrayValue"in e}function x_(e){return!!e&&"nullValue"in e}function R_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vu(e){return!!e&&"mapValue"in e}function Ta(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Mo(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Ta(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ta(e.arrayValue.values[n]);return t}return Object.assign({},e)}function f$(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Vu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ta(n)}setAll(t){let n=tn.emptyPath(),s={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,i),s={},i=[],n=a.popLast()}o?s[a.lastSegment()]=Ta(o):i.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(t){const n=this.field(t.popLast());Vu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ss(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let i=n.mapValue.fields[t.get(s)];Vu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,s){Mo(n,(i,r)=>t[i]=r);for(const i of s)delete t[i]}clone(){return new Mn(Ta(this.value))}}function PE(e){const t=[];return Mo(e.fields,(n,s)=>{const i=new tn([n]);if(Vu(s)){const r=PE(s.mapValue).fields;if(r.length===0)t.push(i);else for(const o of r)t.push(i.child(o))}else t.push(i)}),new _s(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t,n,s,i,r,o){this.key=t,this.documentType=n,this.version=s,this.readTime=i,this.data=r,this.documentState=o}static newInvalidDocument(t){return new Ht(t,0,Le.min(),Le.min(),Mn.empty(),0)}static newFoundDocument(t,n,s){return new Ht(t,1,n,Le.min(),s,0)}static newNoDocument(t,n){return new Ht(t,2,n,Le.min(),Mn.empty(),0)}static newUnknownDocument(t,n){return new Ht(t,3,n,Le.min(),Mn.empty(),2)}convertToFoundDocument(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ht&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(t,n=null,s=[],i=[],r=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.ht=null}}function N_(e,t=null,n=[],s=[],i=null,r=null,o=null){return new v$(e,t,n,s,i,r,o)}function rg(e){const t=Ne(e);if(t.ht===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>{return(i=s).field.canonicalString()+i.op.toString()+no(i.value);var i}).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),Td(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>no(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>no(s)).join(",")),t.ht=n}return t.ht}function m$(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${no(s.value)}`;var s}).join(", ")}]`),Td(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(n=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(n)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>no(n)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>no(n)).join(",")),`Target(${t})`}function og(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!S$(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],s=t.filters[i],n.op!==s.op||!n.field.isEqual(s.field)||!Ss(n.value,s.value))return!1;var n,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!O_(e.startAt,t.startAt)&&O_(e.endAt,t.endAt)}function qf(e){return pe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class fn extends class{}{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.lt(t,n,s):new g$(t,n,s):n==="array-contains"?new _$(t,s):n==="in"?new b$(t,s):n==="not-in"?new w$(t,s):n==="array-contains-any"?new C$(t,s):new fn(t,n,s)}static lt(t,n,s){return n==="in"?new p$(t,s):new y$(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.ft(po(n,this.value)):n!==null&&vr(this.value)===vr(n)&&this.ft(po(n,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xe()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class g$ extends fn{constructor(t,n,s){super(t,n,s),this.key=pe.fromName(s.referenceValue)}matches(t){const n=pe.comparator(t.key,this.key);return this.ft(n)}}class p$ extends fn{constructor(t,n){super(t,"in",n),this.keys=OE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class y$ extends fn{constructor(t,n){super(t,"not-in",n),this.keys=OE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function OE(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pe.fromName(s.referenceValue))}class _$ extends fn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ig(n)&&rl(n.arrayValue,this.value)}}class b$ extends fn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&rl(this.value.arrayValue,n)}}class w$ extends fn{constructor(t,n){super(t,"not-in",n)}matches(t){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!rl(this.value.arrayValue,n)}}class C$ extends fn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>rl(this.value.arrayValue,s))}}class wc{constructor(t,n){this.position=t,this.inclusive=n}}class Aa{constructor(t,n="asc"){this.field=t,this.dir=n}}function S$(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function P_(e,t,n){let s=0;for(let i=0;i<e.position.length;i++){const r=t[i],o=e.position[i];if(r.field.isKeyField()?s=pe.comparator(pe.fromName(o.referenceValue),n.key):s=po(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function O_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ss(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,n=null,s=[],i=[],r=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function E$(e,t,n,s,i,r,o,a){return new Hl(e,t,n,s,i,r,o,a)}function DE(e){return new Hl(e)}function D_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function LE(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ME(e){for(const t of e.filters)if(t.dt())return t.field;return null}function VE(e){return e.collectionGroup!==null}function ol(e){const t=Ne(e);if(t._t===null){t._t=[];const n=ME(t),s=LE(t);if(n!==null&&s===null)n.isKeyField()||t._t.push(new Aa(n)),t._t.push(new Aa(tn.keyField(),"asc"));else{let i=!1;for(const r of t.explicitOrderBy)t._t.push(r),r.field.isKeyField()&&(i=!0);if(!i){const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Aa(tn.keyField(),r))}}}return t._t}function Ks(e){const t=Ne(e);if(!t.wt)if(t.limitType==="F")t.wt=N_(t.path,t.collectionGroup,ol(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const r of ol(t)){const o=r.dir==="desc"?"asc":"desc";n.push(new Aa(r.field,o))}const s=t.endAt?new wc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new wc(t.startAt.position,t.startAt.inclusive):null;t.wt=N_(t.path,t.collectionGroup,n,t.filters,t.limit,s,i)}return t.wt}function Kf(e,t,n){return new Hl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ad(e,t){return og(Ks(e),Ks(t))&&e.limitType===t.limitType}function $E(e){return`${rg(Ks(e))}|lt:${e.limitType}`}function Gf(e){return`Query(target=${m$(Ks(e))}; limitType=${e.limitType})`}function ag(e,t){return t.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):pe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,s){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(e,t)&&function(n,s){return!(n.startAt&&!function(i,r,o){const a=P_(i,r,o);return i.inclusive?a<=0:a<0}(n.startAt,ol(n),s)||n.endAt&&!function(i,r,o){const a=P_(i,r,o);return i.inclusive?a>=0:a>0}(n.endAt,ol(n),s))}(e,t)}function I$(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function FE(e){return(t,n)=>{let s=!1;for(const i of ol(e)){const r=k$(i,t,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function k$(e,t,n){const s=e.field.isKeyField()?pe.comparator(t.key,n.key):function(i,r,o){const a=r.data.field(i),l=o.data.field(i);return a!==null&&l!==null?po(a,l):xe()}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(t)?"-0":t}}function UE(e){return{integerValue:""+e}}function T$(e,t){return h$(t)?UE(t):BE(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this._=void 0}}function A$(e,t,n){return e instanceof Cc?function(s,i){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&(r.fields.__previous_value__=i),{mapValue:r}}(n,t):e instanceof al?zE(e,t):e instanceof ll?HE(e,t):function(s,i){const r=jE(s,i),o=L_(r)+L_(s.yt);return Wf(r)&&Wf(s.yt)?UE(o):BE(s.It,o)}(e,t)}function x$(e,t,n){return e instanceof al?zE(e,t):e instanceof ll?HE(e,t):n}function jE(e,t){return e instanceof Sc?Wf(n=t)||function(s){return!!s&&"doubleValue"in s}(n)?t:{integerValue:0}:null;var n}class Cc extends xd{}class al extends xd{constructor(t){super(),this.elements=t}}function zE(e,t){const n=WE(t);for(const s of e.elements)n.some(i=>Ss(i,s))||n.push(s);return{arrayValue:{values:n}}}class ll extends xd{constructor(t){super(),this.elements=t}}function HE(e,t){let n=WE(t);for(const s of e.elements)n=n.filter(i=>!Ss(i,s));return{arrayValue:{values:n}}}class Sc extends xd{constructor(t,n){super(),this.It=t,this.yt=n}}function L_(e){return xt(e.integerValue||e.doubleValue)}function WE(e){return ig(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function R$(e,t){return e.field.isEqual(t.field)&&function(n,s){return n instanceof al&&s instanceof al||n instanceof ll&&s instanceof ll?mo(n.elements,s.elements,Ss):n instanceof Sc&&s instanceof Sc?Ss(n.yt,s.yt):n instanceof Cc&&s instanceof Cc}(e.transform,t.transform)}class N${constructor(t,n){this.version=t,this.transformResults=n}}class bs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new bs}static exists(t){return new bs(void 0,t)}static updateTime(t){return new bs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $u(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Rd{}function qE(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new lg(e.key,bs.none()):new Wl(e.key,e.data,bs.none());{const n=e.data,s=Mn.empty();let i=new Ot(tn.comparator);for(let r of t.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new br(e.key,s,new _s(i.toArray()),bs.none())}}function P$(e,t,n){e instanceof Wl?function(s,i,r){const o=s.value.clone(),a=V_(s.fieldTransforms,i,r.transformResults);o.setAll(a),i.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(e,t,n):e instanceof br?function(s,i,r){if(!$u(s.precondition,i))return void i.convertToUnknownDocument(r.version);const o=V_(s.fieldTransforms,i,r.transformResults),a=i.data;a.setAll(KE(s)),a.setAll(o),i.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(e,t,n):function(s,i,r){i.convertToNoDocument(r.version).setHasCommittedMutations()}(0,t,n)}function xa(e,t,n,s){return e instanceof Wl?function(i,r,o,a){if(!$u(i.precondition,r))return o;const l=i.value.clone(),u=$_(i.fieldTransforms,a,r);return l.setAll(u),r.convertToFoundDocument(r.version,l).setHasLocalMutations(),null}(e,t,n,s):e instanceof br?function(i,r,o,a){if(!$u(i.precondition,r))return o;const l=$_(i.fieldTransforms,a,r),u=r.data;return u.setAll(KE(i)),u.setAll(l),r.convertToFoundDocument(r.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,s):function(i,r,o){return $u(i.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):o}(e,t,n)}function O$(e,t){let n=null;for(const s of e.fieldTransforms){const i=t.data.field(s.field),r=jE(s.transform,i||null);r!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,r))}return n||null}function M_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&mo(n,s,(i,r)=>R$(i,r))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wl extends Rd{constructor(t,n,s,i=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class br extends Rd{constructor(t,n,s,i,r=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function KE(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function V_(e,t,n){const s=new Map;it(e.length===n.length);for(let i=0;i<n.length;i++){const r=e[i],o=r.transform,a=t.data.field(r.field);s.set(r.field,x$(o,a,n[i]))}return s}function $_(e,t,n){const s=new Map;for(const i of e){const r=i.transform,o=n.data.field(i.field);s.set(i.field,A$(r,o,t))}return s}class lg extends Rd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D$ extends Rd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,je;function M$(e){switch(e){default:return xe();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function GE(e){if(e===void 0)return qs("GRPC error has no .code"),H.UNKNOWN;switch(e){case At.OK:return H.OK;case At.CANCELLED:return H.CANCELLED;case At.UNKNOWN:return H.UNKNOWN;case At.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case At.INTERNAL:return H.INTERNAL;case At.UNAVAILABLE:return H.UNAVAILABLE;case At.UNAUTHENTICATED:return H.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case At.NOT_FOUND:return H.NOT_FOUND;case At.ALREADY_EXISTS:return H.ALREADY_EXISTS;case At.PERMISSION_DENIED:return H.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case At.ABORTED:return H.ABORTED;case At.OUT_OF_RANGE:return H.OUT_OF_RANGE;case At.UNIMPLEMENTED:return H.UNIMPLEMENTED;case At.DATA_LOSS:return H.DATA_LOSS;default:return xe()}}(je=At||(At={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),i=this.inner[s];if(i===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Mo(this.inner,(n,s)=>{for(const[i,r]of s)t(i,r)})}isEmpty(){return xE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=new Dt(pe.comparator);function Gs(){return V$}const YE=new Dt(pe.comparator);function va(...e){let t=YE;for(const n of e)t=t.insert(n.key,n);return t}function XE(e){let t=YE;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Gi(){return Ra()}function QE(){return Ra()}function Ra(){return new Vo(e=>e.toString(),(e,t)=>e.isEqual(t))}const $$=new Dt(pe.comparator),F$=new Ot(pe.comparator);function $e(...e){let t=F$;for(const n of e)t=t.add(n);return t}const B$=new Ot(Xe);function JE(){return B$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(t,n,s,i,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const i=new Map;return i.set(t,ql.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Nd(Le.min(),i,JE(),Gs(),$e())}}class ql{constructor(t,n,s,i,r){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new ql(s,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t,n,s,i){this.Tt=t,this.removedTargetIds=n,this.key=s,this.Et=i}}class ZE{constructor(t,n){this.targetId=t,this.At=n}}class eI{constructor(t,n,s=ln.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=i}}class F_{constructor(){this.Rt=0,this.bt=U_(),this.Pt=ln.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=$e(),n=$e(),s=$e();return this.bt.forEach((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:xe()}}),new ql(this.Pt,this.vt,t,n,s)}Nt(){this.Vt=!1,this.bt=U_()}kt(t,n){this.Vt=!0,this.bt=this.bt.insert(t,n)}Ot(t){this.Vt=!0,this.bt=this.bt.remove(t)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class U${constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=Gs(),this.qt=B_(),this.Kt=new Ot(Xe)}Gt(t){for(const n of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(n,t.Et):this.jt(n,t.key,t.Et);for(const n of t.removedTargetIds)this.jt(n,t.key,t.Et)}Wt(t){this.forEachTarget(t,n=>{const s=this.zt(n);switch(t.state){case 0:this.Ht(n)&&s.Ct(t.resumeToken);break;case 1:s.Ft(),s.St||s.Nt(),s.Ct(t.resumeToken);break;case 2:s.Ft(),s.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(s.$t(),s.Ct(t.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),s.Ct(t.resumeToken));break;default:xe()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Lt.forEach((s,i)=>{this.Ht(i)&&n(i)})}Yt(t){const n=t.targetId,s=t.At.count,i=this.Xt(n);if(i){const r=i.target;if(qf(r))if(s===0){const o=new pe(r.path);this.jt(n,o,Ht.newNoDocument(o,Le.min()))}else it(s===1);else this.Zt(n)!==s&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(t){const n=new Map;this.Lt.forEach((r,o)=>{const a=this.Xt(o);if(a){if(r.current&&qf(a.target)){const l=new pe(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,Ht.newNoDocument(l,t))}r.Dt&&(n.set(o,r.xt()),r.Nt())}});let s=$e();this.qt.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(s=s.add(r))}),this.Ut.forEach((r,o)=>o.setReadTime(t));const i=new Nd(t,n,this.Kt,this.Ut,s);return this.Ut=Gs(),this.qt=B_(),this.Kt=new Ot(Xe),i}Qt(t,n){if(!this.Ht(t))return;const s=this.ee(t,n.key)?2:0;this.zt(t).kt(n.key,s),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(t))}jt(t,n,s){if(!this.Ht(t))return;const i=this.zt(t);this.ee(t,n)?i.kt(n,1):i.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(t)),s&&(this.Ut=this.Ut.insert(n,s))}removeTarget(t){this.Lt.delete(t)}Zt(t){const n=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Mt(t){this.zt(t).Mt()}zt(t){let n=this.Lt.get(t);return n||(n=new F_,this.Lt.set(t,n)),n}ne(t){let n=this.qt.get(t);return n||(n=new Ot(Xe),this.qt=this.qt.insert(t,n)),n}Ht(t){const n=this.Xt(t)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",t),n}Xt(t){const n=this.Lt.get(t);return n&&n.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new F_),this.Bt.getRemoteKeysForTarget(t).forEach(n=>{this.jt(t,n,null)})}ee(t,n){return this.Bt.getRemoteKeysForTarget(t).has(n)}}function B_(){return new Dt(pe.comparator)}function U_(){return new Dt(pe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),z$=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class H${constructor(t,n){this.databaseId=t,this.gt=n}}function Ec(e,t){return e.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tI(e,t){return e.gt?t.toBase64():t.toUint8Array()}function W$(e,t){return Ec(e,t.toTimestamp())}function Bs(e){return it(!!e),Le.fromTimestamp(function(t){const n=ki(t);return new Pt(n.seconds,n.nanos)}(e))}function ug(e,t){return function(n){return new ut(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function nI(e){const t=ut.fromString(e);return it(rI(t)),t}function Yf(e,t){return ug(e.databaseId,t.path)}function Lh(e,t){const n=nI(t);if(n.get(1)!==e.databaseId.projectId)throw new fe(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new fe(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pe(sI(n))}function Xf(e,t){return ug(e.databaseId,t)}function q$(e){const t=nI(e);return t.length===4?ut.emptyPath():sI(t)}function Qf(e){return new ut(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sI(e){return it(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function j_(e,t,n){return{name:Yf(e,t),fields:n.value.mapValue.fields}}function K$(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:xe()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],r=function(l,u){return l.gt?(it(u===void 0||typeof u=="string"),ln.fromBase64String(u||"")):(it(u===void 0||u instanceof Uint8Array),ln.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const u=l.code===void 0?H.UNKNOWN:GE(l.code);return new fe(u,l.message||"")}(o);n=new eI(s,i,r,a||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const i=Lh(e,s.document.name),r=Bs(s.document.updateTime),o=new Mn({mapValue:{fields:s.document.fields}}),a=Ht.newFoundDocument(i,r,o),l=s.targetIds||[],u=s.removedTargetIds||[];n=new Fu(l,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const i=Lh(e,s.document),r=s.readTime?Bs(s.readTime):Le.min(),o=Ht.newNoDocument(i,r),a=s.removedTargetIds||[];n=new Fu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const i=Lh(e,s.document),r=s.removedTargetIds||[];n=new Fu([],r,i,null)}else{if(!("filter"in t))return xe();{t.filter;const s=t.filter;s.targetId;const i=s.count||0,r=new L$(i),o=s.targetId;n=new ZE(o,r)}}return n}function G$(e,t){let n;if(t instanceof Wl)n={update:j_(e,t.key,t.value)};else if(t instanceof lg)n={delete:Yf(e,t.key)};else if(t instanceof br)n={update:j_(e,t.key,t.data),updateMask:iF(t.fieldMask)};else{if(!(t instanceof D$))return xe();n={verify:Yf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(i,r){const o=r.transform;if(o instanceof Cc)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof al)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ll)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Sc)return{fieldPath:r.field.canonicalString(),increment:o.yt};throw xe()}(0,s))),t.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:W$(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:xe()}(e,t.precondition)),n}function Y$(e,t){return e&&e.length>0?(it(t!==void 0),e.map(n=>function(s,i){let r=s.updateTime?Bs(s.updateTime):Bs(i);return r.isEqual(Le.min())&&(r=Bs(i)),new N$(r,s.transformResults||[])}(n,t))):[]}function X$(e,t){return{documents:[Xf(e,t.path)]}}function Q$(e,t){const n={structuredQuery:{}},s=t.path;t.collectionGroup!==null?(n.parent=Xf(e,s),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Xf(e,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(c=>function(d){if(d.op==="=="){if(R_(d.value))return{unaryFilter:{field:Dr(d.field),op:"IS_NAN"}};if(x_(d.value))return{unaryFilter:{field:Dr(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(R_(d.value))return{unaryFilter:{field:Dr(d.field),op:"IS_NOT_NAN"}};if(x_(d.value))return{unaryFilter:{field:Dr(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dr(d.field),op:tF(d.op),value:d.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(t.filters);i&&(n.structuredQuery.where=i);const r=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Dr(c.field),direction:eF(c.dir)}}(u))}(t.orderBy);r&&(n.structuredQuery.orderBy=r);const o=function(l,u){return l.gt||Td(u)?u:{value:u}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function J$(e){let t=q$(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){it(s===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let r=[];n.where&&(r=iI(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Aa(Wr(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Td(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new wc(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new wc(h,d)}(n.endAt)),E$(t,i,o,r,a,"F",l,u)}function Z$(e,t){const n=function(s,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xe()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function iI(e){return e?e.unaryFilter!==void 0?[sF(e)]:e.fieldFilter!==void 0?[nF(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(t=>iI(t)).reduce((t,n)=>t.concat(n)):xe():[]}function eF(e){return j$[e]}function tF(e){return z$[e]}function Dr(e){return{fieldPath:e.canonicalString()}}function Wr(e){return tn.fromServerFormat(e.fieldPath)}function nF(e){return fn.create(Wr(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(e.fieldFilter.op),e.fieldFilter.value)}function sF(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Wr(e.unaryFilter.field);return fn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Wr(e.unaryFilter.field);return fn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wr(e.unaryFilter.field);return fn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Wr(e.unaryFilter.field);return fn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}function iF(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function rI(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(t,n,s,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(t.key)&&P$(r,t,s[i])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=xa(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=xa(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=QE();return this.mutations.forEach(i=>{const r=t.get(i.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(i.key)?null:a;const l=qE(o,a);l!==null&&s.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Le.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),$e())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,(n,s)=>M_(n,s))&&mo(this.baseMutations,t.baseMutations,(n,s)=>M_(n,s))}}class cg{constructor(t,n,s,i){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(t,n,s){it(t.mutations.length===s.length);let i=$$;const r=t.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new cg(t,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,n,s,i,r=Le.min(),o=Le.min(),a=ln.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(t){this.re=t}}function lF(e){const t=J$({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Kf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this.Ye=new cF}addToCollectionParentIndex(t,n){return this.Ye.add(n),X.resolve()}getCollectionParents(t,n){return X.resolve(this.Ye.getEntries(n))}addFieldIndex(t,n){return X.resolve()}deleteFieldIndex(t,n){return X.resolve()}getDocumentsMatchingTarget(t,n){return X.resolve(null)}getIndexType(t,n){return X.resolve(0)}getFieldIndexes(t,n){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,n){return X.resolve(Ii.min())}getMinOffsetFromCollectionGroup(t,n){return X.resolve(Ii.min())}updateCollectionGroup(t,n,s){return X.resolve()}updateIndexEntries(t,n){return X.resolve()}}class cF{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),i=this.index[n]||new Ot(ut.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(t){const n=t.lastSegment(),s=t.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(t){return(this.index[t]||new Ot(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new yo(0)}static vn(){return new yo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.changes=new Vo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ht.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?X.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(t,n,s,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(s=i,this.getBaseDocument(t,n,s))).next(i=>(s!==null&&xa(s.mutation,i,_s.empty(),Pt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,$e()).next(()=>s))}getLocalViewOfDocuments(t,n,s=$e()){const i=Gi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,s).next(r=>{let o=va();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const s=Gi();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,$e()))}populateOverlays(t,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(t,i).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,s,i){let r=Gs();const o=Ra(),a=Ra();return n.forEach((l,u)=>{const c=s.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof br)?r=r.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),xa(c.mutation,u,c.mutation.getFieldMask(),Pt.now()))}),this.recalculateAndSaveOverlays(t,r).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new hF(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const s=Ra();let i=new Dt((o,a)=>o-a),r=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=s.get(l)||_s.empty();c=a.applyToLocalView(u,c),s.set(l,c);const d=(i.get(a.batchId)||$e()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=QE();c.forEach(h=>{if(!r.has(h)){const f=qE(n.get(h),s.get(h));f!==null&&d.set(h,f),r=r.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return X.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s){return function(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):VE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s):this.getDocumentsMatchingCollectionQuery(t,n,s)}getNextDocuments(t,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,i-r.size):X.resolve(Gi());let a=-1,l=r;return o.next(u=>X.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),r.get(c)?X.resolve():this.getBaseDocument(t,c,d).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,r)).next(()=>this.computeViews(t,l,u,$e())).next(c=>({batchId:a,changes:XE(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pe(n)).next(s=>{let i=va();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,s){const i=n.collectionGroup;let r=va();return this.indexManager.getCollectionParents(t,i).next(o=>X.forEach(o,a=>{const l=function(u,c){return new Hl(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,s).next(u=>{u.forEach((c,d)=>{r=r.insert(c,d)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(t,n,s){let i;return this.remoteDocumentCache.getAllFromCollection(t,n.path,s).next(r=>(i=r,this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId))).next(r=>{r.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,Ht.newInvalidDocument(u)))});let o=va();return i.forEach((a,l)=>{const u=r.get(a);u!==void 0&&xa(u.mutation,l,_s.empty(),Pt.now()),ag(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(t,n,s){return s===null||s.mutation.type===1?this.remoteDocumentCache.getEntry(t,n):X.resolve(Ht.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,n){return X.resolve(this.Zn.get(n))}saveBundleMetadata(t,n){var s;return this.Zn.set(n.id,{id:(s=n).id,version:s.version,createTime:Bs(s.createTime)}),X.resolve()}getNamedQuery(t,n){return X.resolve(this.ts.get(n))}saveNamedQuery(t,n){return this.ts.set(n.name,function(s){return{name:s.name,query:lF(s.bundledQuery),readTime:Bs(s.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(){this.overlays=new Dt(pe.comparator),this.es=new Map}getOverlay(t,n){return X.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Gi();return X.forEach(n,i=>this.getOverlay(t,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((i,r)=>{this.ue(t,n,r)}),X.resolve()}removeOverlaysForBatchId(t,n,s){const i=this.es.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.es.delete(s)),X.resolve()}getOverlaysForCollection(t,n,s){const i=Gi(),r=n.length+1,o=new pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===r&&l.largestBatchId>s&&i.set(l.getKey(),l)}return X.resolve(i)}getOverlaysForCollectionGroup(t,n,s,i){let r=new Dt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let c=r.get(u.largestBatchId);c===null&&(c=Gi(),r=r.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Gi(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return X.resolve(a)}ue(t,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(s.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new oF(n,s));let r=this.es.get(n);r===void 0&&(r=$e(),this.es.set(n,r)),this.es.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.ns=new Ot(Vt.ss),this.rs=new Ot(Vt.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,n){const s=new Vt(t,n);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.cs(new Vt(t,n))}hs(t,n){t.forEach(s=>this.removeReference(s,n))}ls(t){const n=new pe(new ut([])),s=new Vt(n,t),i=new Vt(n,t+1),r=[];return this.rs.forEachInRange([s,i],o=>{this.cs(o),r.push(o.key)}),r}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const n=new pe(new ut([])),s=new Vt(n,t),i=new Vt(n,t+1);let r=$e();return this.rs.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(t){const n=new Vt(t,0),s=this.ns.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Vt{constructor(t,n){this.key=t,this._s=n}static ss(t,n){return pe.comparator(t.key,n.key)||Xe(t._s,n._s)}static os(t,n){return Xe(t._s,n._s)||pe.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Ot(Vt.ss)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,i){const r=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rF(r,n,s,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Vt(a.key,r)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return X.resolve(o)}lookupMutationBatch(t,n){return X.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,i=this.ps(s),r=i<0?0:i;return X.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Vt(n,0),i=new Vt(n,Number.POSITIVE_INFINITY),r=[];return this.gs.forEachInRange([s,i],o=>{const a=this.ys(o._s);r.push(a)}),X.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ot(Xe);return n.forEach(i=>{const r=new Vt(i,0),o=new Vt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([r,o],a=>{s=s.add(a._s)})}),X.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,i=s.length+1;let r=s;pe.isDocumentKey(r)||(r=r.child(""));const o=new Vt(new pe(r),0);let a=new Ot(Xe);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!s.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),X.resolve(this.Is(a))}Is(t){const n=[];return t.forEach(s=>{const i=this.ys(s);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){it(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.gs;return X.forEach(n.mutations,i=>{const r=new Vt(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.gs=s})}An(t){}containsKey(t,n){const s=new Vt(n,0),i=this.gs.firstAfterOrEqual(s);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}Ts(t,n){return this.ps(t)}ps(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ys(t){const n=this.ps(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(t){this.Es=t,this.docs=new Dt(pe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return X.resolve(s?s.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(t,n){let s=Gs();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():Ht.newInvalidDocument(i))}),X.resolve(s)}getAllFromCollection(t,n,s){let i=Gs();const r=new pe(n.child("")),o=this.docs.getIteratorFrom(r);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||a$(o$(l),s)<=0||(i=i.insert(l.key,l.mutableCopy()))}return X.resolve(i)}getAllFromCollectionGroup(t,n,s,i){xe()}As(t,n){return X.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new yF(this)}getSize(t){return X.resolve(this.size)}}class yF extends dF{constructor(t){super(),this.Yn=t}applyChanges(t){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(t,i)):this.Yn.removeEntry(s)}),X.waitFor(n)}getFromCache(t,n){return this.Yn.getEntry(t,n)}getAllFromCache(t,n){return this.Yn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(t){this.persistence=t,this.Rs=new Vo(n=>rg(n),og),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.bs=0,this.Ps=new dg,this.targetCount=0,this.vs=yo.Pn()}forEachTarget(t,n){return this.Rs.forEach((s,i)=>n(i)),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.bs&&(this.bs=n),X.resolve()}Dn(t){this.Rs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.vs=new yo(n),this.highestTargetId=n),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,n){return this.Dn(n),this.targetCount+=1,X.resolve()}updateTargetData(t,n){return this.Dn(n),X.resolve()}removeTargetData(t,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,n,s){let i=0;const r=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.Rs.delete(o),r.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),X.waitFor(r).next(()=>i)}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,n){const s=this.Rs.get(n)||null;return X.resolve(s)}addMatchingKeys(t,n,s){return this.Ps.us(n,s),X.resolve()}removeMatchingKeys(t,n,s){this.Ps.hs(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(t,o))}),X.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.Ps.ls(n),X.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Ps.ds(n);return X.resolve(s)}containsKey(t,n){return X.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(t,n){this.Vs={},this.overlays={},this.Ss=new sg(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new _F(this),this.indexManager=new uF,this.remoteDocumentCache=function(s){return new pF(s)}(s=>this.referenceDelegate.xs(s)),this.It=new aF(n),this.Ns=new vF(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new mF,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Vs[t.toKey()];return s||(s=new gF(n,this.referenceDelegate),this.Vs[t.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,n,s){ge("MemoryPersistence","Starting transaction:",t);const i=new wF(this.Ss.next());return this.referenceDelegate.ks(),s(i).next(r=>this.referenceDelegate.Os(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ms(t,n){return X.or(Object.values(this.Vs).map(s=>()=>s.containsKey(t,n)))}}class wF extends u${constructor(t){super(),this.currentSequenceNumber=t}}class hg{constructor(t){this.persistence=t,this.Fs=new dg,this.$s=null}static Bs(t){return new hg(t)}get Ls(){if(this.$s)return this.$s;throw xe()}addReference(t,n,s){return this.Fs.addReference(s,n),this.Ls.delete(s.toString()),X.resolve()}removeReference(t,n,s){return this.Fs.removeReference(s,n),this.Ls.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,n){return this.Ls.add(n.toString()),X.resolve()}removeTarget(t,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(r=>this.Ls.add(r.toString()))}).next(()=>s.removeTargetData(t,n))}ks(){this.$s=new Set}Os(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Ls,s=>{const i=pe.fromPath(s);return this.Us(t,i).next(r=>{r||n.removeEntry(i,Le.min())})}).next(()=>(this.$s=null,n.apply(t)))}updateLimboDocument(t,n){return this.Us(t,n).next(s=>{s?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(t){return 0}Us(t,n){return X.or([()=>X.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ms(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t,n,s,i){this.targetId=t,this.fromCache=n,this.Si=s,this.Di=i}static Ci(t,n){let s=$e(),i=$e();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new fg(t,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.xi=!1}initialize(t,n){this.Ni=t,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(t,n,s,i){return this.ki(t,n).next(r=>r||this.Oi(t,n,i,s)).next(r=>r||this.Mi(t,n))}ki(t,n){if(D_(n))return X.resolve(null);let s=Ks(n);return this.indexManager.getIndexType(t,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kf(n,null,"F"),s=Ks(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(r=>{const o=$e(...r);return this.Ni.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,s).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(t,Kf(n,null,"F")):this.Bi(t,u,n,l)}))})))}Oi(t,n,s,i){return D_(n)||i.isEqual(Le.min())?this.Mi(t,n):this.Ni.getDocuments(t,s).next(r=>{const o=this.Fi(n,r);return this.$i(n,o,s,i)?this.Mi(t,n):(E_()<=Ke.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gf(n)),this.Bi(t,o,n,r$(i,-1)))})}Fi(t,n){let s=new Ot(FE(t));return n.forEach((i,r)=>{ag(t,r)&&(s=s.add(r))}),s}$i(t,n,s,i){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Mi(t,n){return E_()<=Ke.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Gf(n)),this.Ni.getDocumentsMatchingQuery(t,n,Ii.min())}Bi(t,n,s,i){return this.Ni.getDocumentsMatchingQuery(t,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(t,n,s,i){this.persistence=t,this.Li=n,this.It=i,this.Ui=new Dt(Xe),this.qi=new Vo(r=>rg(r),og),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(s)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fF(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ui))}}function EF(e,t,n,s){return new SF(e,t,n,s)}async function oI(e,t){const n=Ne(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Qi(t),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],a=[];let l=$e();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of r){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(s,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function IF(e,t){const n=Ne(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=t.batch.keys(),r=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=X.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(m=>{const g=l.docVersions.get(f);it(g!==null),m.version.compareTo(g)<0&&(c.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,s,t,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=$e();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(t))).next(()=>n.localDocuments.getDocuments(s,i))})}function aI(e){const t=Ne(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Cs.getLastRemoteSnapshotVersion(n))}function kF(e,t){const n=Ne(e),s=t.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(r,c.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(r,c.addedDocuments,d)));let f=h.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.has(d)?f=f.withResumeToken(ln.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,s)),i=i.insert(d,f),function(m,g,b){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,f,c)&&a.push(n.Cs.updateTargetData(r,f))});let l=Gs(),u=$e();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,c))}),a.push(TF(r,o,t.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!s.isEqual(Le.min())){const c=n.Cs.getLastRemoteSnapshotVersion(r).next(d=>n.Cs.setTargetsMetadata(r,r.currentSequenceNumber,s));a.push(c)}return X.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,u)).next(()=>l)}).then(r=>(n.Ui=i,r))}function TF(e,t,n){let s=$e(),i=$e();return n.forEach(r=>s=s.add(r)),t.getEntries(e,s).next(r=>{let o=Gs();return n.forEach((a,l)=>{const u=r.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Le.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):ge("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function AF(e,t){const n=Ne(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function xF(e,t){const n=Ne(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Cs.getTargetData(s,t).next(r=>r?(i=r,X.resolve(i)):n.Cs.allocateTargetId(s).next(o=>(i=new ir(t,o,0,s.currentSequenceNumber),n.Cs.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.Ui.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(s.targetId,s),n.qi.set(t,s.targetId)),s})}async function Jf(e,t,n){const s=Ne(e),i=s.Ui.get(t),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!zl(o))throw o;ge("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}s.Ui=s.Ui.remove(t),s.qi.delete(i.target)}function z_(e,t,n){const s=Ne(e);let i=Le.min(),r=$e();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=Ne(a),d=c.qi.get(u);return d!==void 0?X.resolve(c.Ui.get(d)):c.Cs.getTargetData(l,u)}(s,o,Ks(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>s.Li.getDocumentsMatchingQuery(o,t,n?i:Le.min(),n?r:$e())).next(a=>(RF(s,I$(t),a),{documents:a,Hi:r})))}function RF(e,t,n){let s=e.Ki.get(t)||Le.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),e.Ki.set(t,s)}class H_{constructor(){this.activeTargetIds=JE()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class NF{constructor(){this.Lr=new H_,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,n,s){this.Ur[t]=n}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new H_,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{qr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,n,s,i,r){const o=this.ho(t,n);ge("RestConnection","Sending: ",o,s);const a={};return this.lo(a,i,r),this.fo(t,o,a,s).then(l=>(ge("RestConnection","Received: ",l),l),l=>{throw zf("RestConnection",`${t} failed with error: `,l,"url: ",o,"request:",s),l})}_o(t,n,s,i,r,o){return this.ao(t,n,s,i,r)}lo(t,n,s){t["X-Goog-Api-Client"]="gl-js/ fire/"+Lo,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>t[r]=i),s&&s.headers.forEach((i,r)=>t[r]=i)}ho(t,n){const s=OF[t];return`${this.oo}/v1/${n}:${s}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,n,s,i){return new Promise((r,o)=>{const a=new YV;a.setWithCredentials(!0),a.listenOnce(qV.COMPLETE,()=>{var u;try{switch(a.getLastErrorCode()){case Dh.NO_ERROR:const c=a.getResponseJson();ge("Connection","XHR received:",JSON.stringify(c)),r(c);break;case Dh.TIMEOUT:ge("Connection",'RPC "'+t+'" timed out'),o(new fe(H.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const d=a.getStatus();if(ge("Connection",'RPC "'+t+'" failed with status:',d,"response text:",a.getResponseText()),d>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=(u=h)===null||u===void 0?void 0:u.error;if(f&&f.status&&f.message){const m=function(g){const b=g.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(b)>=0?b:H.UNKNOWN}(f.status);o(new fe(m,f.message))}else o(new fe(H.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new fe(H.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{ge("Connection",'RPC "'+t+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,s,15)})}wo(t,n,s){const i=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=HV(),o=WV(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new GV({})),this.lo(a.initMessageHeaders,n,s),a.encodeInitMessageHeaders=!0;const l=i.join("");ge("Connection","Creating WebChannel: "+l,a);const u=r.createWebChannel(l,a);let c=!1,d=!1;const h=new DF({Hr:m=>{d?ge("Connection","Not sending because WebChannel is closed:",m):(c||(ge("Connection","Opening WebChannel transport."),u.open(),c=!0),ge("Connection","WebChannel sending:",m),u.send(m))},Jr:()=>u.close()}),f=(m,g,b)=>{m.listen(g,_=>{try{b(_)}catch(w){setTimeout(()=>{throw w},0)}})};return f(u,pu.EventType.OPEN,()=>{d||ge("Connection","WebChannel transport opened.")}),f(u,pu.EventType.CLOSE,()=>{d||(d=!0,ge("Connection","WebChannel transport closed"),h.io())}),f(u,pu.EventType.ERROR,m=>{d||(d=!0,zf("Connection","WebChannel transport errored:",m),h.io(new fe(H.UNAVAILABLE,"The operation could not be completed")))}),f(u,pu.EventType.MESSAGE,m=>{var g;if(!d){const b=m.data[0];it(!!b);const _=b,w=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(w){ge("Connection","WebChannel received error:",w);const p=w.status;let I=function(T){const C=At[T];if(C!==void 0)return GE(C)}(p),k=w.message;I===void 0&&(I=H.INTERNAL,k="Unknown error status: "+p+" with message "+w.message),d=!0,h.io(new fe(I,k)),u.close()}else ge("Connection","WebChannel received:",b),h.ro(b)}}),f(o,KV.STAT_EVENT,m=>{m.stat===C_.PROXY?ge("Connection","Detected buffering proxy"):m.stat===C_.NOPROXY&&ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Mh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(e){return new H$(e,!0)}class lI{constructor(t,n,s=1e3,i=1.5,r=6e4){this.Hs=t,this.timerId=n,this.mo=s,this.yo=i,this.po=r,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const n=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-s);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,n,s,i,r,o,a,l){this.Hs=t,this.vo=s,this.Vo=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new lI(t,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(t,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,t!==4?this.xo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(qs(n.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.So===n&&this.Go(s,i)},s=>{t(()=>{const i=new fe(H.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(i)})})}Go(t,n){const s=this.Ko(this.So);this.stream=this.jo(t,n),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{s(()=>this.Qo(i))}),this.stream.onMessage(i=>{s(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(t){return ge("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return n=>{this.Hs.enqueueAndForget(()=>this.So===t?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MF extends uI{constructor(t,n,s,i,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.It=r}jo(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.xo.reset();const n=K$(this.It,t),s=function(i){if(!("targetChange"in i))return Le.min();const r=i.targetChange;return r.targetIds&&r.targetIds.length?Le.min():r.readTime?Bs(r.readTime):Le.min()}(t);return this.listener.Wo(n,s)}zo(t){const n={};n.database=Qf(this.It),n.addTarget=function(i,r){let o;const a=r.target;return o=qf(a)?{documents:X$(i,a)}:{query:Q$(i,a)},o.targetId=r.targetId,r.resumeToken.approximateByteSize()>0?o.resumeToken=tI(i,r.resumeToken):r.snapshotVersion.compareTo(Le.min())>0&&(o.readTime=Ec(i,r.snapshotVersion.toTimestamp())),o}(this.It,t);const s=Z$(this.It,t);s&&(n.labels=s),this.Bo(n)}Ho(t){const n={};n.database=Qf(this.It),n.removeTarget=t,this.Bo(n)}}class VF extends uI{constructor(t,n,s,i,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.It=r,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(it(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const n=Y$(t.writeResults,t.commitTime),s=Bs(t.commitTime);return this.listener.Zo(s,n)}return it(!t.writeResults||t.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Qf(this.It),this.Bo(t)}Xo(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>G$(this.It,s))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F extends class{}{constructor(t,n,s,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.It=i,this.nu=!1}su(){if(this.nu)throw new fe(H.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,n,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,r])=>this.connection.ao(t,n,s,i,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new fe(H.UNKNOWN,i.toString())})}_o(t,n,s,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection._o(t,n,s,r,o,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new fe(H.UNKNOWN,r.toString())})}terminate(){this.nu=!0}}class FF{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,t==="Online"&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(qs(n),this.ou=!1):ge("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(t,n,s,i,r){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=r,this.mu.qr(o=>{s.enqueueAndForget(async()=>{wr(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Ne(a);l._u.add(4),await Kl(l),l.gu.set("Unknown"),l._u.delete(4),await Od(l)}(this))})}),this.gu=new FF(s,i)}}async function Od(e){if(wr(e))for(const t of e.wu)await t(!0)}async function Kl(e){for(const t of e.wu)await t(!1)}function cI(e,t){const n=Ne(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),gg(n)?mg(n):$o(n).ko()&&vg(n,t))}function dI(e,t){const n=Ne(e),s=$o(n);n.du.delete(t),s.ko()&&hI(n,t),n.du.size===0&&(s.ko()?s.Fo():wr(n)&&n.gu.set("Unknown"))}function vg(e,t){e.yu.Mt(t.targetId),$o(e).zo(t)}function hI(e,t){e.yu.Mt(t),$o(e).Ho(t)}function mg(e){e.yu=new U$({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),se:t=>e.du.get(t)||null}),$o(e).start(),e.gu.uu()}function gg(e){return wr(e)&&!$o(e).No()&&e.du.size>0}function wr(e){return Ne(e)._u.size===0}function fI(e){e.yu=void 0}async function UF(e){e.du.forEach((t,n)=>{vg(e,t)})}async function jF(e,t){fI(e),gg(e)?(e.gu.hu(t),mg(e)):e.gu.set("Unknown")}async function zF(e,t,n){if(e.gu.set("Online"),t instanceof eI&&t.state===2&&t.cause)try{await async function(s,i){const r=i.cause;for(const o of i.targetIds)s.du.has(o)&&(await s.remoteSyncer.rejectListen(o,r),s.du.delete(o),s.yu.removeTarget(o))}(e,t)}catch(s){ge("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Ic(e,s)}else if(t instanceof Fu?e.yu.Gt(t):t instanceof ZE?e.yu.Yt(t):e.yu.Wt(t),!n.isEqual(Le.min()))try{const s=await aI(e.localStore);n.compareTo(s)>=0&&await function(i,r){const o=i.yu.te(r);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,r))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(ln.EMPTY_BYTE_STRING,l.snapshotVersion)),hI(i,a);const u=new ir(l.target,a,1,l.sequenceNumber);vg(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(s){ge("RemoteStore","Failed to raise snapshot:",s),await Ic(e,s)}}async function Ic(e,t,n){if(!zl(t))throw t;e._u.add(1),await Kl(e),e.gu.set("Offline"),n||(n=()=>aI(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),e._u.delete(1),await Od(e)})}function vI(e,t){return t().catch(n=>Ic(e,n,t))}async function Dd(e){const t=Ne(e),n=Ti(t);let s=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;HF(t);)try{const i=await AF(t.localStore,s);if(i===null){t.fu.length===0&&n.Fo();break}s=i.batchId,WF(t,i)}catch(i){await Ic(t,i)}mI(t)&&gI(t)}function HF(e){return wr(e)&&e.fu.length<10}function WF(e,t){e.fu.push(t);const n=Ti(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function mI(e){return wr(e)&&!Ti(e).No()&&e.fu.length>0}function gI(e){Ti(e).start()}async function qF(e){Ti(e).eu()}async function KF(e){const t=Ti(e);for(const n of e.fu)t.Xo(n.mutations)}async function GF(e,t,n){const s=e.fu.shift(),i=cg.from(s,t,n);await vI(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Dd(e)}async function YF(e,t){t&&Ti(e).Yo&&await async function(n,s){if(i=s.code,M$(i)&&i!==H.ABORTED){const r=n.fu.shift();Ti(n).Mo(),await vI(n,()=>n.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Dd(n)}var i}(e,t),mI(e)&&gI(e)}async function q_(e,t){const n=Ne(e);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const s=wr(n);n._u.add(3),await Kl(n),s&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n._u.delete(3),await Od(n)}async function XF(e,t){const n=Ne(e);t?(n._u.delete(2),await Od(n)):t||(n._u.add(2),await Kl(n),n.gu.set("Unknown"))}function $o(e){return e.pu||(e.pu=function(t,n,s){const i=Ne(t);return i.su(),new MF(n,i.connection,i.authCredentials,i.appCheckCredentials,i.It,s)}(e.datastore,e.asyncQueue,{Yr:UF.bind(null,e),Zr:jF.bind(null,e),Wo:zF.bind(null,e)}),e.wu.push(async t=>{t?(e.pu.Mo(),gg(e)?mg(e):e.gu.set("Unknown")):(await e.pu.stop(),fI(e))})),e.pu}function Ti(e){return e.Iu||(e.Iu=function(t,n,s){const i=Ne(t);return i.su(),new VF(n,i.connection,i.authCredentials,i.appCheckCredentials,i.It,s)}(e.datastore,e.asyncQueue,{Yr:qF.bind(null,e),Zr:YF.bind(null,e),tu:KF.bind(null,e),Zo:GF.bind(null,e)}),e.wu.push(async t=>{t?(e.Iu.Mo(),await Dd(e)):(await e.Iu.stop(),e.fu.length>0&&(ge("RemoteStore",`Stopping write stream with ${e.fu.length} pending writes`),e.fu=[]))})),e.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,n,s,i,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,s,i,r){const o=Date.now()+s,a=new pg(t,n,o,i,r);return a.start(s),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(H.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(e,t){if(qs("AsyncQueue",`${t}: ${e}`),zl(e))return new fe(H.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.comparator=t?(n,s)=>t(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=va(),this.sortedSet=new Dt(this.comparator)}static emptySet(t){return new so(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof so)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new so;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.Tu=new Dt(pe.comparator)}track(t){const n=t.doc.key,s=this.Tu.get(n);s?t.type!==0&&s.type===3?this.Tu=this.Tu.insert(n,t):t.type===3&&s.type!==1?this.Tu=this.Tu.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Tu=this.Tu.remove(n):t.type===1&&s.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:t.doc}):xe():this.Tu=this.Tu.insert(n,t)}Eu(){const t=[];return this.Tu.inorderTraversal((n,s)=>{t.push(s)}),t}}class _o{constructor(t,n,s,i,r,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,s,i,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new _o(t,n,so.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ad(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.Au=void 0,this.listeners=[]}}class JF{constructor(){this.queries=new Vo(t=>$E(t),Ad),this.onlineState="Unknown",this.Ru=new Set}}async function ZF(e,t){const n=Ne(e),s=t.query;let i=!1,r=n.queries.get(s);if(r||(i=!0,r=new QF),i)try{r.Au=await n.onListen(s)}catch(o){const a=yg(o,`Initialization of query '${Gf(t.query)}' failed`);return void t.onError(a)}n.queries.set(s,r),r.listeners.push(t),t.bu(n.onlineState),r.Au&&t.Pu(r.Au)&&_g(n)}async function eB(e,t){const n=Ne(e),s=t.query;let i=!1;const r=n.queries.get(s);if(r){const o=r.listeners.indexOf(t);o>=0&&(r.listeners.splice(o,1),i=r.listeners.length===0)}if(i)return n.queries.delete(s),n.onUnlisten(s)}function tB(e,t){const n=Ne(e);let s=!1;for(const i of t){const r=i.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.Pu(i)&&(s=!0);o.Au=i}}s&&_g(n)}function nB(e,t,n){const s=Ne(e),i=s.queries.get(t);if(i)for(const r of i.listeners)r.onError(n);s.queries.delete(t)}function _g(e){e.Ru.forEach(t=>{t.next()})}class sB{constructor(t,n,s){this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(t){if(!this.options.includeMetadataChanges){const s=[];for(const i of t.docChanges)i.type!==3&&s.push(i);t=new _o(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),n=!0):this.Cu(t,this.onlineState)&&(this.xu(t),n=!0),this.Su=t,n}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),n=!0),n}Cu(t,n){if(!t.fromCache)return!0;const s=n!=="Offline";return(!this.options.Nu||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Du(t){if(t.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(t){t=_o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t){this.key=t}}class yI{constructor(t){this.key=t}}class iB{constructor(t,n){this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=$e(),this.mutatedKeys=$e(),this.Gu=FE(t),this.Qu=new so(this.Gu)}get ju(){return this.Uu}Wu(t,n){const s=n?n.zu:new K_,i=n?n.Qu:this.Qu;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),f=ag(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let b=!1;h&&f?h.data.isEqual(f.data)?m!==g&&(s.track({type:3,doc:f}),b=!0):this.Hu(h,f)||(s.track({type:2,doc:f}),b=!0,(l&&this.Gu(f,l)>0||u&&this.Gu(f,u)<0)&&(a=!0)):!h&&f?(s.track({type:0,doc:f}),b=!0):h&&!f&&(s.track({type:1,doc:h}),b=!0,(l||u)&&(a=!0)),b&&(f?(o=o.add(f),r=g?r.add(c):r.delete(c)):(o=o.delete(c),r=r.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),r=r.delete(c.key),s.track({type:1,doc:c})}return{Qu:o,zu:s,$i:a,mutatedKeys:r}}Hu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s){const i=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const r=t.zu.Eu();r.sort((u,c)=>function(d,h){const f=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return f(d)-f(h)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(s);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,r.length!==0||l?{snapshot:new _o(this.query,t.Qu,i,r,t.mutatedKeys,a===0,l,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new K_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=$e(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const n=[];return t.forEach(s=>{this.Ku.has(s)||n.push(new yI(s))}),this.Ku.forEach(s=>{t.has(s)||n.push(new pI(s))}),n}tc(t){this.Uu=t.Hi,this.Ku=$e();const n=this.Wu(t.documents);return this.applyChanges(n,!0)}ec(){return _o.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class rB{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class oB{constructor(t){this.key=t,this.nc=!1}}class aB{constructor(t,n,s,i,r,o){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Vo(a=>$E(a),Ad),this.rc=new Map,this.oc=new Set,this.uc=new Dt(pe.comparator),this.cc=new Map,this.ac=new dg,this.hc={},this.lc=new Map,this.fc=yo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function lB(e,t){const n=yB(e);let s,i;const r=n.ic.get(t);if(r)s=r.targetId,n.sharedClientState.addLocalQueryTarget(s),i=r.view.ec();else{const o=await xF(n.localStore,Ks(t));n.isPrimaryClient&&cI(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,i=await uB(n,t,s,a==="current",o.resumeToken)}return i}async function uB(e,t,n,s,i){e._c=(d,h,f)=>async function(m,g,b,_){let w=g.view.Wu(b);w.$i&&(w=await z_(m.localStore,g.query,!1).then(({documents:k})=>g.view.Wu(k,w)));const p=_&&_.targetChanges.get(g.targetId),I=g.view.applyChanges(w,m.isPrimaryClient,p);return Y_(m,g.targetId,I.Xu),I.snapshot}(e,d,h,f);const r=await z_(e.localStore,t,!0),o=new iB(t,r.Hi),a=o.Wu(r.documents),l=ql.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);Y_(e,n,u.Xu);const c=new rB(t,n,o);return e.ic.set(t,c),e.rc.has(n)?e.rc.get(n).push(t):e.rc.set(n,[t]),u.snapshot}async function cB(e,t){const n=Ne(e),s=n.ic.get(t),i=n.rc.get(s.targetId);if(i.length>1)return n.rc.set(s.targetId,i.filter(r=>!Ad(r,t))),void n.ic.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Jf(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),dI(n.remoteStore,s.targetId),Zf(n,s.targetId)}).catch(jl)):(Zf(n,s.targetId),await Jf(n.localStore,s.targetId,!0))}async function dB(e,t,n){const s=_B(e);try{const i=await function(r,o){const a=Ne(r),l=Pt.now(),u=o.reduce((h,f)=>h.add(f.key),$e());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Gs(),m=$e();return a.Gi.getEntries(h,u).next(g=>{f=g,f.forEach((b,_)=>{_.isValidDocument()||(m=m.add(b))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{c=g;const b=[];for(const _ of o){const w=O$(_,c.get(_.key).overlayedDocument);w!=null&&b.push(new br(_.key,w,PE(w.value.mapValue),bs.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,b,o)}).next(g=>{d=g;const b=g.applyToLocalDocumentSet(c,m);return a.documentOverlayCache.saveOverlays(h,g.batchId,b)})}).then(()=>({batchId:d.batchId,changes:XE(c)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(i.batchId),function(r,o,a){let l=r.hc[r.currentUser.toKey()];l||(l=new Dt(Xe)),l=l.insert(o,a),r.hc[r.currentUser.toKey()]=l}(s,i.batchId,n),await Gl(s,i.changes),await Dd(s.remoteStore)}catch(i){const r=yg(i,"Failed to persist write");n.reject(r)}}async function _I(e,t){const n=Ne(e);try{const s=await kF(n.localStore,t);t.targetChanges.forEach((i,r)=>{const o=n.cc.get(r);o&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?it(o.nc):i.removedDocuments.size>0&&(it(o.nc),o.nc=!1))}),await Gl(n,s,t)}catch(s){await jl(s)}}function G_(e,t,n){const s=Ne(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.ic.forEach((r,o)=>{const a=o.view.bu(t);a.snapshot&&i.push(a.snapshot)}),function(r,o){const a=Ne(r);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.bu(o)&&(l=!0)}),l&&_g(a)}(s.eventManager,t),i.length&&s.sc.Wo(i),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function hB(e,t,n){const s=Ne(e);s.sharedClientState.updateQueryState(t,"rejected",n);const i=s.cc.get(t),r=i&&i.key;if(r){let o=new Dt(pe.comparator);o=o.insert(r,Ht.newNoDocument(r,Le.min()));const a=$e().add(r),l=new Nd(Le.min(),new Map,new Ot(Xe),o,a);await _I(s,l),s.uc=s.uc.remove(r),s.cc.delete(t),bg(s)}else await Jf(s.localStore,t,!1).then(()=>Zf(s,t,n)).catch(jl)}async function fB(e,t){const n=Ne(e),s=t.batch.batchId;try{const i=await IF(n.localStore,t);wI(n,s,null),bI(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Gl(n,i)}catch(i){await jl(i)}}async function vB(e,t,n){const s=Ne(e);try{const i=await function(r,o){const a=Ne(r);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(it(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(s.localStore,t);wI(s,t,n),bI(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Gl(s,i)}catch(i){await jl(i)}}function bI(e,t){(e.lc.get(t)||[]).forEach(n=>{n.resolve()}),e.lc.delete(t)}function wI(e,t,n){const s=Ne(e);let i=s.hc[s.currentUser.toKey()];if(i){const r=i.get(t);r&&(n?r.reject(n):r.resolve(),i=i.remove(t)),s.hc[s.currentUser.toKey()]=i}}function Zf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.rc.get(t))e.ic.delete(s),n&&e.sc.wc(s,n);e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach(s=>{e.ac.containsKey(s)||CI(e,s)})}function CI(e,t){e.oc.delete(t.path.canonicalString());const n=e.uc.get(t);n!==null&&(dI(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),bg(e))}function Y_(e,t,n){for(const s of n)s instanceof pI?(e.ac.addReference(s.key,t),mB(e,s)):s instanceof yI?(ge("SyncEngine","Document no longer in limbo: "+s.key),e.ac.removeReference(s.key,t),e.ac.containsKey(s.key)||CI(e,s.key)):xe()}function mB(e,t){const n=t.key,s=n.path.canonicalString();e.uc.get(n)||e.oc.has(s)||(ge("SyncEngine","New document in limbo: "+n),e.oc.add(s),bg(e))}function bg(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){const t=e.oc.values().next().value;e.oc.delete(t);const n=new pe(ut.fromString(t)),s=e.fc.next();e.cc.set(s,new oB(n)),e.uc=e.uc.insert(n,s),cI(e.remoteStore,new ir(Ks(DE(n.path)),s,2,sg.at))}}async function Gl(e,t,n){const s=Ne(e),i=[],r=[],o=[];s.ic.isEmpty()||(s.ic.forEach((a,l)=>{o.push(s._c(l,t,n).then(u=>{if((u||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=fg.Ci(l.targetId,u);r.push(c)}}))}),await Promise.all(o),s.sc.Wo(i),await async function(a,l){const u=Ne(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>X.forEach(l,d=>X.forEach(d.Si,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>X.forEach(d.Di,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!zl(c))throw c;ge("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ui.get(d),f=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(f);u.Ui=u.Ui.insert(d,m)}}}(s.localStore,r))}async function gB(e,t){const n=Ne(e);if(!n.currentUser.isEqual(t)){ge("SyncEngine","User change. New user:",t.toKey());const s=await oI(n.localStore,t);n.currentUser=t,function(i,r){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new fe(H.CANCELLED,r))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Gl(n,s.ji)}}function pB(e,t){const n=Ne(e),s=n.cc.get(t);if(s&&s.nc)return $e().add(s.key);{let i=$e();const r=n.rc.get(t);if(!r)return i;for(const o of r){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function yB(e){const t=Ne(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_I.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pB.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hB.bind(null,t),t.sc.Wo=tB.bind(null,t.eventManager),t.sc.wc=nB.bind(null,t.eventManager),t}function _B(e){const t=Ne(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fB.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vB.bind(null,t),t}class bB{constructor(){this.synchronizeTabs=!1}async initialize(t){this.It=Pd(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),await this.persistence.start(),this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore)}Tc(t,n){return null}Ec(t,n){return null}Ic(t){return EF(this.persistence,new CF,t.initialUser,this.It)}yc(t){return new bF(hg.Bs,this.It)}gc(t){return new NF}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wB{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>G_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gB.bind(null,this.syncEngine),await XF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new JF}createDatastore(t){const n=Pd(t.databaseInfo.databaseId),s=(i=t.databaseInfo,new LF(i));var i;return function(r,o,a,l){return new $F(r,o,a,l)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return n=this.localStore,s=this.datastore,i=t.asyncQueue,r=a=>G_(this.syncEngine,a,0),o=W_.C()?new W_:new PF,new BF(n,s,i,r,o);var n,s,i,r,o}createSyncEngine(t,n){return function(s,i,r,o,a,l,u){const c=new aB(s,i,r,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=Ne(t);ge("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Kl(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(e,t,n){if(!n)throw new fe(H.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function CB(e,t,n,s){if(t===!0&&s===!0)throw new fe(H.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function X_(e){if(!pe.isDocumentKey(e))throw new fe(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Q_(e){if(pe.isDocumentKey(e))throw new fe(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ld(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":xe()}function ul(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new fe(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ld(e);throw new fe(H.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;class Z_{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new fe(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new fe(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,CB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t,n,s,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new fe(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z_(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new XV;switch(n.type){case"gapi":const s=n.client;return new e$(s,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=J_.get(t);n&&(ge("ComponentProvider","Removing Datastore"),J_.delete(t),n.terminate())}(this),Promise.resolve()}}function SB(e,t,n,s={}){var i;const r=(e=ul(e,Md))._getSettings();if(r.host!=="firestore.googleapis.com"&&r.host!==t&&zf("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},r),{host:`${t}:${n}`,ssl:!1})),s.mockUserToken){let o,a;if(typeof s.mockUserToken=="string")o=s.mockUserToken,a=Qt.MOCK_USER;else{o=Rw(s.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const l=s.mockUserToken.sub||s.mockUserToken.user_id;if(!l)throw new fe(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Qt(l)}e._authCredentials=new QV(new TE(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fn(this.firestore,t,this._key)}}class Yl{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Yl(this.firestore,t,this._query)}}class Ci extends Yl{constructor(t,n,s){super(t,n,DE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fn(this.firestore,null,new pe(t))}withConverter(t){return new Ci(this.firestore,t,this._path)}}function Vh(e,t,...n){if(e=an(e),SI("collection","path",t),e instanceof Md){const s=ut.fromString(t,...n);return Q_(s),new Ci(e,null,s)}{if(!(e instanceof Fn||e instanceof Ci))throw new fe(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ut.fromString(t,...n));return Q_(s),new Ci(e.firestore,null,s)}}function EI(e,t,...n){if(e=an(e),arguments.length===1&&(t=AE.R()),SI("doc","path",t),e instanceof Md){const s=ut.fromString(t,...n);return X_(s),new Fn(e,null,new pe(s))}{if(!(e instanceof Fn||e instanceof Ci))throw new fe(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ut.fromString(t,...n));return X_(s),new Fn(e.firestore,e instanceof Ci?e.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):qs("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(t,n,s,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=AE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async r=>{ge("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(s,r=>(ge("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=yg(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function kB(e,t){e.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async i=>{s.isEqual(i)||(await oI(t.localStore,i),s=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function TB(e,t){e.asyncQueue.verifyOperationInProgress();const n=await AB(e);ge("FirestoreClient","Initializing OnlineComponentProvider");const s=await e.getConfiguration();await t.initialize(n,s),e.setCredentialChangeListener(i=>q_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>q_(t.remoteStore,r)),e.onlineComponents=t}async function AB(e){return e.offlineComponents||(ge("FirestoreClient","Using default OfflineComponentProvider"),await kB(e,new bB)),e.offlineComponents}async function II(e){return e.onlineComponents||(ge("FirestoreClient","Using default OnlineComponentProvider"),await TB(e,new wB)),e.onlineComponents}function xB(e){return II(e).then(t=>t.syncEngine)}async function RB(e){const t=await II(e),n=t.eventManager;return n.onListen=lB.bind(null,t.syncEngine),n.onUnlisten=cB.bind(null,t.syncEngine),n}function NB(e,t,n={}){const s=new wi;return e.asyncQueue.enqueueAndForget(async()=>function(i,r,o,a,l){const u=new EB({next:d=>{r.enqueueAndForget(()=>eB(i,c)),d.fromCache&&a.source==="server"?l.reject(new fe(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new sB(o,u,{includeMetadataChanges:!0,Nu:!0});return ZF(i,c)}(await RB(e),e.asyncQueue,t,n,s)),s.promise}class PB{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new lI(this,"async_queue_retry"),this.Wc=()=>{const n=Mh();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const t=Mh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.Uc){this.Uc=!0,this.Qc=t||!1;const n=Mh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new wi;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(t){if(!zl(t))throw t;ge("AsyncQueue","Operation failed with retryable error: "+t)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(t){const n=this.Bc.then(()=>(this.Gc=!0,t().catch(s=>{this.Kc=s,this.Gc=!1;const i=function(r){let o=r.message||"";return r.stack&&(o=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),o}(s);throw qs("INTERNAL UNHANDLED ERROR: ",i),s}).then(s=>(this.Gc=!1,s))));return this.Bc=n,n}enqueueAfterDelay(t,n,s){this.zc(),this.jc.indexOf(t)>-1&&(n=0);const i=pg.createAndSchedule(this,t,n,s,r=>this.Yc(r));return this.qc.push(i),i}zc(){this.Kc&&xe()}verifyOperationInProgress(){}async Xc(){let t;do t=this.Bc,await t;while(t!==this.Bc)}Zc(t){for(const n of this.qc)if(n.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.qc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const n=this.qc.indexOf(t);this.qc.splice(n,1)}}class Vd extends Md{constructor(t,n,s,i){super(t,n,s,i),this.type="firestore",this._queue=new PB,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||TI(this),this._firestoreClient.terminate()}}function ev(e,t){const n=typeof e=="object"?e:sd(),s=typeof e=="string"?e:t||"(default)",i=nd(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=Aw("firestore");r&&SB(i,...r)}return i}function kI(e){return e._firestoreClient||TI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function TI(e){var t;const n=e._freezeSettings(),s=function(i,r,o,a){return new d$(i,r,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new IB(e._authCredentials,e._appCheckCredentials,e._queue,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bo(ln.fromBase64String(t))}catch(n){throw new fe(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new bo(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new fe(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new fe(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new fe(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Xe(this._lat,t._lat)||Xe(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=/^__.*__$/;class DB{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new br(t,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(t,this.data,n,this.fieldTransforms)}}function xI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class Sg{constructor(t,n,s,i,r,o){this.settings=t,this.databaseId=n,this.It=s,this.ignoreUndefinedProperties=i,r===void 0&&this.na(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new Sg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ia({path:s,oa:!1});return i.ua(t),i}ca(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ia({path:s,oa:!1});return i.na(),i}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return kc(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(t.length===0)throw this.ha("Document fields must not be empty");if(xI(this.sa)&&OB.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class LB{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=s||Pd(t)}da(t,n,s,i=!1){return new Sg({sa:t,methodName:n,fa:s,path:tn.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function RI(e){const t=e._freezeSettings(),n=Pd(e._databaseId);return new LB(e._databaseId,!!t.ignoreUndefinedProperties,n)}function MB(e,t,n,s,i,r={}){const o=e.da(r.merge||r.mergeFields?2:0,t,n,i);OI("Data must be an object, but it was:",o,s);const a=NI(s,o);let l,u;if(r.merge)l=new _s(o.fieldMask),u=o.fieldTransforms;else if(r.mergeFields){const c=[];for(const d of r.mergeFields){const h=$B(t,d,n);if(!o.contains(h))throw new fe(H.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);BB(c,h)||c.push(h)}l=new _s(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new DB(new Mn(a),l,u)}function VB(e,t,n,s=!1){return Eg(n,e.da(s?4:3,t))}function Eg(e,t){if(PI(e=an(e)))return OI("Unsupported field value:",t,e),NI(e,t);if(e instanceof AI)return function(n,s){if(!xI(s.sa))throw s.ha(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&t.sa!==4)throw t.ha("Nested arrays are not supported");return function(n,s){const i=[];let r=0;for(const o of n){let a=Eg(o,s.aa(r));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),r++}return{arrayValue:{values:i}}}(e,t)}return function(n,s){if((n=an(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return T$(s.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Pt.fromDate(n);return{timestampValue:Ec(s.It,i)}}if(n instanceof Pt){const i=new Pt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ec(s.It,i)}}if(n instanceof Cg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof bo)return{bytesValue:tI(s.It,n._byteString)};if(n instanceof Fn){const i=s.databaseId,r=n.firestore._databaseId;if(!r.isEqual(i))throw s.ha(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ug(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.ha(`Unsupported field value: ${Ld(n)}`)}(e,t)}function NI(e,t){const n={};return xE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Mo(e,(s,i)=>{const r=Eg(i,t.ra(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function PI(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Pt||e instanceof Cg||e instanceof bo||e instanceof Fn||e instanceof AI)}function OI(e,t,n){if(!PI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=Ld(n);throw s==="an object"?t.ha(e+" a custom object"):t.ha(e+" "+s)}}function $B(e,t,n){if((t=an(t))instanceof wg)return t._internalPath;if(typeof t=="string")return DI(e,t);throw kc("Field path arguments must be of type string or ",e,!1,void 0,n)}const FB=new RegExp("[~\\*/\\[\\]]");function DI(e,t,n){if(t.search(FB)>=0)throw kc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new wg(...t.split("."))._internalPath}catch{throw kc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function kc(e,t,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${s}`),o&&(l+=` in document ${i}`),l+=")"),new fe(H.INVALID_ARGUMENT,a+e+l)}function BB(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t,n,s,i,r){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ig("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UB extends LI{data(){return super.data()}}function Ig(e,t){return typeof t=="string"?DI(e,t):t instanceof wg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new fe(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zB{}function eb(e,...t){for(const n of t)e=n._apply(e);return e}class HB extends zB{constructor(t,n,s){super(),this.ma=t,this.ga=n,this.ya=s,this.type="where"}_apply(t){const n=RI(t.firestore),s=function(i,r,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new fe(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){sb(c,u);const f=[];for(const m of c)f.push(nb(a,i,m));d={arrayValue:{values:f}}}else d=nb(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||sb(c,u),d=VB(o,r,c,u==="in"||u==="not-in");const h=fn.create(l,u,d);return function(f,m){if(m.dt()){const b=ME(f);if(b!==null&&!b.isEqual(m.field))throw new fe(H.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${b.toString()}' and '${m.field.toString()}'`);const _=LE(f);_!==null&&WB(f,m.field,_)}const g=function(b,_){for(const w of b.filters)if(_.indexOf(w.op)>=0)return w.op;return null}(f,function(b){switch(b){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(m.op));if(g!==null)throw g===m.op?new fe(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${m.op.toString()}' filter.`):new fe(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${m.op.toString()}' filters with '${g.toString()}' filters.`)}(i,h),h}(t._query,"where",n,t.firestore._databaseId,this.ma,this.ga,this.ya);return new Yl(t.firestore,t.converter,function(i,r){const o=i.filters.concat([r]);return new Hl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(t._query,s))}}function tb(e,t,n){const s=t,i=Ig("where",e);return new HB(i,s,n)}function nb(e,t,n){if(typeof(n=an(n))=="string"){if(n==="")throw new fe(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VE(t)&&n.indexOf("/")!==-1)throw new fe(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ut.fromString(n));if(!pe.isDocumentKey(s))throw new fe(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return A_(e,new pe(s))}if(n instanceof Fn)return A_(e,n._key);throw new fe(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ld(n)}.`)}function sb(e,t){if(!Array.isArray(e)||e.length===0)throw new fe(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new fe(H.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function WB(e,t,n){if(!n.isEqual(t))throw new fe(H.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{convertValue(t,n="none"){switch(vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(go(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw xe()}}convertObject(t,n){const s={};return Mo(t.fields,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertGeoPoint(t){return new Cg(xt(t.latitude),xt(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=NE(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(sl(t));default:return null}}convertTimestamp(t){const n=ki(t);return new Pt(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ut.fromString(t);it(rI(s));const i=new il(s.get(1),s.get(3)),r=new pe(s.popFirst(5));return i.isEqual(n)||qs(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class GB extends LI{constructor(t,n,s,i,r,o){super(t,n,s,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Ig("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bu extends GB{data(t={}){return super.data(t)}}class YB{constructor(t,n,s,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new bu(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Bu(this._firestore,this._userDataWriter,s.key,s,new bu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let r=0;return s._snapshot.docChanges.map(o=>{const a=new Bu(s._firestore,s._userDataWriter,o.doc.key,o.doc,new bu(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:r++}})}{let r=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Bu(s._firestore,s._userDataWriter,o.doc.key,o.doc,new bu(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,u=-1;return o.type!==0&&(l=r.indexOf(o.doc.key),r=r.delete(o.doc.key)),o.type!==1&&(r=r.add(o.doc),u=r.indexOf(o.doc.key)),{type:XB(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XB(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}class QB extends qB{constructor(t){super(),this.firestore=t}convertBytes(t){return new bo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function ib(e){e=ul(e,Yl);const t=ul(e.firestore,Vd),n=kI(t),s=new QB(t);return jB(e._query),NB(n,e._query).then(i=>new YB(t,s,e,i))}function JB(e){return MI(ul(e.firestore,Vd),[new lg(e._key,bs.none())])}function ZB(e,t){const n=ul(e.firestore,Vd),s=EI(e),i=KB(e.converter,t);return MI(n,[MB(RI(e.firestore),"addDoc",s._key,i,e.converter!==null,{}).toMutation(s._key,bs.exists(!1))]).then(()=>s)}function MI(e,t){return function(n,s){const i=new wi;return n.asyncQueue.enqueueAndForget(async()=>dB(await xB(n),s,i)),i.promise}(kI(e),t)}(function(e,t=!0){(function(n){Lo=n})(gr),Cs(new ss("firestore",(n,{instanceIdentifier:s,options:i})=>{const r=n.getProvider("app").getImmediate(),o=new Vd(new JV(n.getProvider("auth-internal")),new n$(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new fe(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new il(a.options.projectId,l)}(r,s),r);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),kn(S_,"3.7.3",e),kn(S_,"3.7.3","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=new Map,tU={activated:!1,tokenObservers:[]};function Es(e){return eU.get(e)||Object.assign({},tU)}const rb={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(t,n,s,i,r){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=s,this.lowerBound=i,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=i,i>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new za,await sU(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new za,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function sU(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU={["already-initialized"]:"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.",["use-before-activation"]:"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.",["fetch-network-error"]:"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",["fetch-parse-error"]:"Fetch client could not parse response. Original error: {$originalErrorMessage}.",["fetch-status-error"]:"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["recaptcha-error"]:"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Tc=new To("appCheck","AppCheck",iU);function rU(e){if(!Es(e).activated)throw Tc.create("use-before-activation",{appName:e.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU="firebase-app-check-database",aU=1,tv="firebase-app-check-store";let wu=null;function lU(){return wu||(wu=new Promise((e,t)=>{var n;try{const s=indexedDB.open(oU,aU);s.onsuccess=i=>{e(i.target.result)},s.onerror=i=>{var r;t(Tc.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},s.onupgradeneeded=i=>{const r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(tv,{keyPath:"compositeKey"})}}}catch(s){t(Tc.create("storage-open",{originalErrorMessage:(n=s)===null||n===void 0?void 0:n.message}))}}),wu)}function uU(e,t){return cU(dU(e),t)}async function cU(e,t){const s=(await lU()).transaction(tv,"readwrite"),r=s.objectStore(tv).put({compositeKey:e,value:t});return new Promise((o,a)=>{r.onsuccess=l=>{o()},s.onerror=l=>{var u;a(Tc.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function dU(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=new bl("@firebase/app-check");function ob(e,t){return kw()?uU(e,t).catch(n=>{nv.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU={error:"UNKNOWN_ERROR"};function fU(e){return ed.encodeString(JSON.stringify(e),!1)}async function sv(e,t=!1){const n=e.app;rU(n);const s=Es(n);let i=s.token,r;if(i&&!ma(i)&&(s.token=void 0,i=void 0),!i){const l=await s.cachedTokenPromise;l&&(ma(l)?i=l:await ob(n,void 0))}if(!t&&i&&ma(i))return{token:i.token};let o=!1;try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),o=!0),i=await Es(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?nv.warn(l.message):nv.error(l),r=l}let a;return i?r?ma(i)?a={token:i.token,internalError:r}:a=lb(r):(a={token:i.token},s.token=i,await ob(n,i)):a=lb(r),o&&gU(n,a),a}function vU(e,t,n,s){const{app:i}=e,r=Es(i),o={next:n,error:s,type:t};if(r.tokenObservers=[...r.tokenObservers,o],r.token&&ma(r.token)){const a=r.token;Promise.resolve().then(()=>{n({token:a.token}),ab(e)}).catch(()=>{})}r.cachedTokenPromise.then(()=>ab(e))}function VI(e,t){const n=Es(e),s=n.tokenObservers.filter(i=>i.next!==t);s.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=s}function ab(e){const{app:t}=e,n=Es(t);let s=n.tokenRefresher;s||(s=mU(e),n.tokenRefresher=s),!s.isRunning()&&n.isTokenAutoRefreshEnabled&&s.start()}function mU(e){const{app:t}=e;return new nU(async()=>{const n=Es(t);let s;if(n.token?s=await sv(e,!0):s=await sv(e),s.error)throw s.error;if(s.internalError)throw s.internalError},()=>!0,()=>{const n=Es(t);if(n.token){let s=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return s=Math.min(s,i),Math.max(0,s-Date.now())}else return 0},rb.RETRIAL_MIN_WAIT,rb.RETRIAL_MAX_WAIT)}function gU(e,t){const n=Es(e).tokenObservers;for(const s of n)try{s.type==="EXTERNAL"&&t.error!=null?s.error(t.error):s.next(t)}catch{}}function ma(e){return e.expireTimeMillis-Date.now()>0}function lb(e){return{token:fU(hU),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=Es(this.app);for(const n of t)VI(this.app,n.next);return Promise.resolve()}}function yU(e,t){return new pU(e,t)}function _U(e){return{getToken:t=>sv(e,t),addTokenListener:t=>vU(e,"INTERNAL",t),removeTokenListener:t=>VI(e.app,t)}}const bU="@firebase/app-check",wU="0.5.17",CU="app-check",ub="app-check-internal";function SU(){Cs(new ss(CU,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return yU(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(ub).initialize()})),Cs(new ss(ub,e=>{const t=e.getProvider("app-check").getImmediate();return _U(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),kn(bU,wU)}SU();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="firebasestorage.googleapis.com",EU="storageBucket",IU=2*60*1e3,kU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends xs{constructor(t,n,s=0){super($h(t),`Firebase Storage: ${n} (${$h(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rs.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return $h(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function $h(e){return"storage/"+e}function TU(){const e="An unknown error occurred, please check the error payload for server response.";return new Rs("unknown",e)}function AU(){return new Rs("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function xU(){return new Rs("canceled","User canceled the upload/download.")}function RU(e){return new Rs("invalid-url","Invalid URL '"+e+"'.")}function NU(e){return new Rs("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function cb(e){return new Rs("invalid-argument",e)}function FI(){return new Rs("app-deleted","The Firebase app was deleted.")}function PU(e){return new Rs("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=Jn.makeFromUrl(t,n)}catch{return new Jn(t,"")}if(s.path==="")return s;throw NU(t)}static makeFromUrl(t,n){let s=null;const i="([A-Za-z0-9.\\-_]+)";function r(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=n===$I?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",_=new RegExp(`^https?://${g}/${i}/${b}`,"i"),p=[{regex:a,indices:l,postModify:r},{regex:f,indices:m,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<p.length;I++){const k=p[I],T=k.regex.exec(t);if(T){const C=T[k.indices.bucket];let S=T[k.indices.path];S||(S=""),s=new Jn(C,S),k.postModify(s);break}}if(s==null)throw RU(t);return s}}class OU{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(e,t,n){let s=1,i=null,r=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...b){u||(u=!0,t.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,e(f,l())},b)}function h(){r&&clearTimeout(r)}function f(b,..._){if(u){h();return}if(b){h(),c.call(null,b,..._);return}if(l()||o){h(),c.call(null,b,..._);return}s<64&&(s*=2);let p;a===1?(a=2,p=0):p=(s+Math.random())*1e3,d(p)}let m=!1;function g(b){m||(m=!0,h(),!u&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),r=setTimeout(()=>{o=!0,g(!0)},n),g}function LU(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(e){return e!==void 0}function db(e,t,n,s){if(s<t)throw cb(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>n)throw cb(`Invalid value for '${e}'. Expected ${n} or less.`)}function VU(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){const i=t(s)+"="+t(e[s]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ac;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ac||(Ac={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,r=t.indexOf(e)!==-1;return n||i||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(t,n,s,i,r,o,a,l,u,c,d,h=!0){this.url_=t,this.method_=n,this.headers_=s,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,m)=>{this.resolve_=f,this.reject_=m,this.start_()})}start_(){const t=(s,i)=>{if(i){s(!1,new Cu(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&r.addUploadProgressListener(o),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(o),this.pendingConnection_=null;const a=r.getErrorCode()===Ac.NO_ERROR,l=r.getStatus();if((!a||$U(l,this.additionalRetryCodes_))&&this.retry){const c=r.getErrorCode()===Ac.ABORT;s(!1,new Cu(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;s(!0,new Cu(u,r))})},n=(s,i)=>{const r=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());MU(l)?r(l):r()}catch(l){o(l)}else if(a!==null){const l=TU();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?FI():xU();o(l)}else{const l=AU();o(l)}};this.canceled_?n(!1,new Cu(!1,null,!0)):this.backoffId_=DU(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&LU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cu{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function BU(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function UU(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function jU(e,t){t&&(e["X-Firebase-GMPID"]=t)}function zU(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function HU(e,t,n,s,i,r,o=!0){const a=VU(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return jU(u,t),BU(u,n),UU(u,r),zU(u,s),new FU(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function qU(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n){this._service=t,n instanceof Jn?this._location=n:this._location=Jn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new xc(t,n)}get root(){const t=new Jn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qU(this._location.path)}get storage(){return this._service}get parent(){const t=WU(this._location.path);if(t===null)return null;const n=new Jn(this._location.bucket,t);return new xc(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw PU(t)}}function hb(e,t){const n=t==null?void 0:t[EU];return n==null?null:Jn.makeFromBucketSpec(n,e)}class KU{constructor(t,n,s,i,r){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=$I,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IU,this._maxUploadRetryTime=kU,this._requests=new Set,i!=null?this._bucket=Jn.makeFromBucketSpec(i,this._host):this._bucket=hb(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,t):this._bucket=hb(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){db("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){db("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new xc(this,t)}_makeRequest(t,n,s,i,r=!0){if(this._deleted)return new OU(FI());{const o=HU(t,this._appId,s,i,n,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[s,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,i).getPromise()}}const fb="@firebase/storage",vb="0.9.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU="storage";function YU(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new KU(n,s,i,t,gr)}function XU(){Cs(new ss(GU,YU,"PUBLIC").setMultipleInstances(!0)),kn(fb,vb,""),kn(fb,vb,"esm2017")}XU();const BI=Symbol("firebaseApp");function UI(e){return _l()&&Fe(BI,null)||sd(e)}const Su=new WeakMap;function QU(e,t){if(!Su.has(e)){const n=pl(!0);Su.set(e,n);const{unmount:s}=t;t.unmount=()=>{s.call(t),n.stop(),Su.delete(e)}}return Su.get(e)}const jI=new WeakMap;function zI(e){return jI.get(UI())}const Eu=new WeakMap;function HI(){const e=UI();if(!Eu.has(e)){let t;const s=[new Promise(i=>{t=i}),i=>{Eu.set(e,i),t(i.value)}];Eu.set(e,s)}return Eu.get(e)}function iv(){const e=HI();return Array.isArray(e)?e[0]:Promise.resolve(e.value)}function JU(e,t){const n=sc(t);nC(n,s=>{const i=HI();e.value=s,Array.isArray(i)&&i[1](e)})}function ZU(e){return(t,n)=>{const s=QU(t,n).run(()=>D());jI.set(t,s),JU(s,t)}}function e2(e,{firebaseApp:t,modules:n=[]}){e.provide(BI,t);for(const s of n)e.use(s.bind(null,t))}const t2={class:"elevation-11 py-3 px-4"},n2={class:"container d-flex justify-space-between align-center h-100"},s2=Et("img",{src:RR,alt:"Logo Star Wars"},null,-1),i2={class:"d-flex align-center"},r2={methods:{async logout(){await qP(sc()),await this.$router.push({path:"/login"})}}},o2=Object.assign(r2,{__name:"HeaderComp",setup(e){const t=zI();return(n,s)=>{const i=we("v-btn");return ct(),jn("header",t2,[Et("div",n2,[v(gt(Hi),{to:"/",class:"h-100"},{default:ae(()=>[s2]),_:1}),Et("nav",i2,[Et("ul",null,[Et("li",null,[v(gt(Hi),{to:"/"},{default:ae(()=>[Ye("Accueil")]),_:1})]),Et("li",null,[v(gt(Hi),{to:"/planetes"},{default:ae(()=>[Ye("Plan\xE8tes")]),_:1})]),Et("li",null,[gt(t)?oo("",!0):(ct(),In(gt(Hi),{key:0,to:"/login"},{default:ae(()=>[Ye("Connexion - Inscription")]),_:1})),gt(t)?(ct(),In(i,{key:1,variant:"outlined",color:"primary",onClick:n.logout},{default:ae(()=>[Ye("D\xE9connexion")]),_:1},8,["onClick"])):oo("",!0)])])])])])}}}),a2={class:"bg-yellow py-4 mt-10 p-relative"},l2=Et("strong",null,"Mathis Valdant",-1),u2={data:()=>({menu:["Accueil","Plan\xE8tes"],path:["/","/planetes"]})},c2=Object.assign(u2,{__name:"FooterComp",setup(e){return(t,n)=>{const s=we("v-btn"),i=we("v-col"),r=we("v-row");return ct(),jn("footer",a2,[v(r,{justify:"center","no-gutters":""},{default:ae(()=>[(ct(!0),jn(Re,null,Yv(t.menu,(o,a)=>(ct(),In(gt(Hi),{key:o,to:t.path[a]},{default:ae(()=>[v(s,{color:"black",variant:"text",class:"mx-2",rounded:"xl"},{default:ae(()=>[Ye(wn(o),1)]),_:2},1024)]),_:2},1032,["to"]))),128)),v(i,{class:"text-center mt-4",cols:"12"},{default:ae(()=>[Ye(wn(new Date().getFullYear())+" \u2014 ",1),l2]),_:1})]),_:1})])}}}),d2={__name:"App",setup(e){return(t,n)=>(ct(),jn(Re,null,[v(o2),v(gt(_w)),v(c2)],64))}},kg=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},h2={data(){return{images:["/src/assets/combat.jpg","/src/assets/yoda.jpg","/src/assets/vador.jpg"],model:"Lumineux"}}},f2=Et("h1",{class:"text-h2 mb-1"},"Star Wars",-1),v2=Et("h2",{class:"text-h3 mb-5"},"Et ses plan\xE8tes",-1),m2=Et("p",null," Depuis des g\xE9n\xE9rations, l'univers Star Wars a fascin\xE9 les peuples de la galaxie avec ses mondes fascinants et ses esp\xE8ces uniques. Chacune de ces plan\xE8tes a sa propre histoire, sa propre culture et ses propres enjeux politiques, formant un tapis de diversit\xE9 dans la galaxie. Sur cette page, vous pourrez en apprendre davantage sur les plan\xE8tes les plus importantes de l'univers Star Wars, ainsi que sur leurs habitants et leur r\xF4le dans la saga. Nous esp\xE9rons que vous appr\xE9cierez votre visite et que vous en apprendrez quelque chose de nouveau sur cet univers fascinant. ",-1),g2=Et("p",null," La force peut \xEAtre utilis\xE9e pour le bien ou pour le mal. Quelle voie allez-vous suivre ? Choisissez entre le c\xF4t\xE9 obscur et le c\xF4t\xE9 clair de la force et suivez la voie qui vous convient le mieux. Votre destin est entre vos mains. Faites le bon choix. ",-1);function p2(e,t,n,s,i,r){const o=we("v-carousel-item"),a=we("v-carousel"),l=we("v-col"),u=we("v-row"),c=we("v-switch"),d=we("v-img"),h=we("v-container");return ct(),jn("main",null,[v(a,{"show-arrows":"hover",height:"calc(100vh - 65px)",color:"primary"},{default:ae(()=>[(ct(!0),jn(Re,null,Yv(i.images,f=>(ct(),In(o,{key:f,src:f,cover:""},null,8,["src"]))),128))]),_:1}),v(h,null,{default:ae(()=>[v(u,{class:"justify-center my-6"},{default:ae(()=>[v(l,{xs:"12",md:"8",class:"text-center"},{default:ae(()=>[f2,v2,m2]),_:1})]),_:1}),v(u,null,{default:ae(()=>[v(l,{cols:"12",md:"6",class:"align-self-center text-center"},{default:ae(()=>[g2,v(c,{modelValue:i.model,"onUpdate:modelValue":t[0]||(t[0]=f=>i.model=f),"true-value":"Obscur","false-value":"Lumineux",color:"red","hide-details":"",inset:"",label:`C\xF4t\xE9 ${i.model} de la force`},null,8,["modelValue","label"])]),_:1}),v(l,{cols:"12",md:"6"},{default:ae(()=>[v(d,{src:i.model==="Lumineux"?"/src/assets/x-wing.png":"/src/assets/tie.png"},null,8,["src"])]),_:1})]),_:1})]),_:1})])}const y2=kg(h2,[["render",p2]]);const _2={props:["planets"],data(){return{id:0}},methods:{getId(e){const n=e.split("/")[5];this.id=n}},created(){this.getId(this.planets.url)}},b2=Object.assign(_2,{__name:"PlanetCard",setup(e){return(t,n)=>{const s=we("v-card-title"),i=we("v-card-subtitle"),r=we("v-divider"),o=we("v-card-text"),a=we("v-btn"),l=we("v-card-actions"),u=we("v-card"),c=we("v-hover");return ct(),In(c,null,{default:ae(({isHovering:d,props:h})=>[v(u,ce({loading:"",variant:d?"tonal":"outlined",color:"primary",class:"rounded-lg h-100"},h),{default:ae(()=>[v(s,{class:"pb-0"},{default:ae(()=>[Ye(wn(e.planets.name),1)]),_:1}),v(i,{class:"mb-3"},{default:ae(()=>[Ye("Climat : "+wn(e.planets.climate),1)]),_:1}),v(r,{color:"primary"}),v(o,{class:"text-white"},{default:ae(()=>[Ye(wn(e.planets.name)+" est principalement compos\xE9e de "+wn(e.planets.terrain)+" o\xF9 plus de "+wn(e.planets.population)+" personnes y habitent.",1)]),_:1}),v(l,null,{default:ae(()=>[v(gt(Hi),{to:{name:"planet",params:{nom:e.planets.name,id:t.id}}},{default:ae(()=>[v(a,{color:"primary",variant:"tonal"},{default:ae(()=>[Ye("En savoir plus")]),_:1})]),_:1},8,["to"])]),_:1})]),_:2},1040,["variant"])]),_:1})}}}),w2={class:"ma-2 mb-1"},C2=Et("p",null," L'Univers Star Wars regorge de mondes aussi luxuriants que dangereux. Voici la liste des plan\xE8tes que vous pouvez visiter dans cette galaxie lointaine, tr\xE8s lointaine... ",-1),S2={data(){return{titre:"Plan\xE8tes",infos:[],inProgress:!0,nbPages:1,curPage:parseInt(this.$route.query.page)||1}},methods:{async getPlanets(){try{const e=await fetch(`https://swapi.dev/api/planets?page=${this.curPage}`);this.infos=await e.json(),this.inProgress=await!1,await this.getPagination(this.infos.count)}catch(e){console.error(e),this.inProgress=!1}},getPagination(e){const t=Math.ceil(e/10);this.nbPages=t},changePage(e){this.inProgress=!0,this.$router.push({query:{...this.$route.query,page:e}}),this.getPlanets()}},created(){this.getPlanets()}},E2=Object.assign(S2,{__name:"PlanetListView",setup(e){return(t,n)=>{const s=we("v-progress-circular"),i=we("v-col"),r=we("v-row"),o=we("v-pagination"),a=we("v-container");return ct(),jn("main",null,[v(a,null,{default:ae(()=>[Et("h1",w2,wn(t.titre),1),C2,t.inProgress?(ct(),In(r,{key:0},{default:ae(()=>[v(i,{cols:"12",class:"my-5 text-center"},{default:ae(()=>[v(s,{class:"",color:"primary",indeterminate:"",size:80,width:9})]),_:1})]),_:1})):oo("",!0),v(r,{class:"my-3 align-items-stretch justify-center"},{default:ae(()=>[(ct(!0),jn(Re,null,Yv(t.infos.results,(l,u)=>(ct(),In(i,{key:u,xs:"12",sm:"6",md:"4",lg:"3"},{default:ae(()=>[v(b2,{planets:l},null,8,["planets"])]),_:2},1024))),128))]),_:1}),v(r,{justify:"center"},{default:ae(()=>[v(i,{cols:"12"},{default:ae(()=>[v(a,{class:"max-width"},{default:ae(()=>[v(o,{modelValue:t.curPage,"onUpdate:modelValue":n[0]||(n[0]=l=>t.curPage=l),class:"my-4",length:t.nbPages,color:"white","active-color":"primary",variant:"outlined",onClick:n[1]||(n[1]=l=>t.changePage(t.curPage))},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1})])}}}),I2={props:["infos"]},k2=Et("br",null,null,-1);function T2(e,t,n,s,i,r){const o=we("v-list-subheader"),a=we("v-icon"),l=we("v-avatar"),u=we("v-list-item-title"),c=we("v-list-item"),d=we("v-list");return ct(),In(d,{lines:"one",class:"bg-secondary"},{default:ae(()=>[v(o,{class:"text-primary"},{default:ae(()=>[Ye("Caract\xE9ristiques")]),_:1}),v(c,null,{prepend:ae(()=>[v(l,null,{default:ae(()=>[v(a,{color:"primary"},{default:ae(()=>[Ye("mdi-earth")]),_:1})]),_:1})]),default:ae(()=>[v(u,null,{default:ae(()=>[Ye("Climat : "+wn(n.infos.climate),1)]),_:1})]),_:1}),v(c,null,{prepend:ae(()=>[v(l,null,{default:ae(()=>[v(a,{color:"primary"},{default:ae(()=>[Ye("mdi-arrow-down-circle")]),_:1})]),_:1})]),default:ae(()=>[v(u,null,{default:ae(()=>[Ye("Gravit\xE9 : "+wn(n.infos.gravity),1)]),_:1})]),_:1}),v(c,null,{prepend:ae(()=>[v(l,null,{default:ae(()=>[v(a,{color:"primary"},{default:ae(()=>[Ye("mdi-water")]),_:1})]),_:1})]),default:ae(()=>[n.infos.surface_water?(ct(),In(u,{key:0},{default:ae(()=>[Ye("Eau pr\xE9sente : Oui")]),_:1})):(ct(),In(u,{key:1},{default:ae(()=>[Ye("Eau pr\xE9sente : Non")]),_:1}))]),_:1}),v(c,null,{prepend:ae(()=>[v(l,null,{default:ae(()=>[v(a,{color:"primary"},{default:ae(()=>[Ye("mdi-calendar")]),_:1})]),_:1})]),default:ae(()=>[v(u,null,{default:ae(()=>[Ye("Dur\xE9e d'une journ\xE9e : "+wn(n.infos.rotation_period)+"h ",1),k2,Ye(" Dur\xE9e d'une ann\xE9e : "+wn(n.infos.orbital_period)+" jours",1)]),_:1})]),_:1})]),_:1})}const A2=kg(I2,[["render",T2]]),x2={class:"py-10"},R2={class:"d-inline-block"},N2={props:["id"],data(){return{infos:[],inProgress:!0}},methods:{async getPlanet(e){try{let t=await fetch(`https://swapi.dev/api/planets/${e}/`);this.infos=await t.json(),this.infos.isFavorite=await this.isFavorite(this.infos),this.inProgress=!1}catch(t){console.error(t)}},async isFavorite(e){const t=ev(),s=`planets-${(await iv()).uid}`,i=eb(Vh(t,s),tb("uri","==",e.url));return!(await ib(i)).empty},async toggleFavorite(e){const t=ev(),s=`planets-${(await iv()).uid}`;if(!e.isFavorite)await ZB(Vh(t,s),{uri:e.url});else{const i=eb(Vh(t,s),tb("uri","==",e.url));(await ib(i)).forEach(async o=>{await JB(EI(t,s,o.id))})}e.isFavorite=!e.isFavorite}},created(){this.getPlanet(this.id)}},P2=Object.assign(N2,{__name:"PlanetView",setup(e){const t=zI();return(n,s)=>{const i=we("v-breadcrumbs"),r=we("v-img"),o=we("v-col"),a=we("v-btn"),l=we("v-progress-circular"),u=we("v-row"),c=we("v-card"),d=we("v-container");return ct(),jn("main",x2,[v(d,{class:"my-5"},{default:ae(()=>[v(i,{items:["Accueil","Plan\xE8tes",n.infos.name]},null,8,["items"]),v(c,{variant:"outlined",color:"primary",class:"py-5 bg-dark rounded-xl bg-secondary elevation-11"},{default:ae(()=>[v(u,{class:"mx-1"},{default:ae(()=>[v(o,{cols:"12",md:"4",lg:"4",class:"align-self-center"},{default:ae(()=>[v(r,{src:"/src/assets/planet.png"})]),_:1}),v(o,{cols:"12",md:"8",lg:"8",class:"align-self-center"},{default:ae(()=>[Et("h1",R2,wn(n.infos.name),1),gt(t)?(ct(),In(a,{key:0,icon:n.infos.isFavorite?"mdi-heart-off":"mdi-heart",color:"primary",class:"float-right",onClick:s[0]||(s[0]=h=>n.toggleFavorite(n.infos))},null,8,["icon"])):oo("",!0),n.inProgress?(ct(),In(l,{key:1,class:"",color:"primary",indeterminate:"",size:80,width:9})):oo("",!0),v(A2,{infos:n.infos},null,8,["infos"])]),_:1})]),_:1})]),_:1})]),_:1})])}}}),O2={class:"py-15"},D2=Et("h1",null,"Connexion / Inscription",-1),L2=Et("p",{class:"pb-5"},"Rejoignez le c\xF4t\xE9 obscur de la Force...",-1),M2={key:0},V2={data(){return{email:"",password:"",failed:!1}},methods:{async register(){this.failed=!1;try{await zP(sc(),this.email,this.password),console.log("register success"),this.$router.push("/")}catch(e){this.failed=!0,console.error("register failed",e.message,"info",this.email,this.password)}},async login(){this.failed=!1;try{await HP(sc(),this.email,this.password),this.$router.push("/")}catch(e){this.failed=!0,console.error("register failed",e.message)}}}},$2=Object.assign(V2,{__name:"LoginView",setup(e){return(t,n)=>{const s=we("v-text-field"),i=we("v-alert"),r=we("v-btn"),o=we("v-col"),a=we("v-row"),l=we("v-container");return ct(),jn("main",O2,[v(l,null,{default:ae(()=>[v(a,{class:"justify-center"},{default:ae(()=>[v(o,{xs:"12",sm:"8",md:"8",lg:"6",class:"bg-primary"},{default:ae(()=>[D2,L2,v(s,{type:"email",label:"Email :",modelValue:t.email,"onUpdate:modelValue":n[0]||(n[0]=u=>t.email=u)},null,8,["modelValue"]),v(s,{type:"password",label:"Mot de passe :",modelValue:t.password,"onUpdate:modelValue":n[1]||(n[1]=u=>t.password=u)},null,8,["modelValue"]),t.failed?(ct(),jn("div",M2,[v(i,{type:"error"},{default:ae(()=>[Ye("Cet email ou ce mot de passe n'existe pas")]),_:1})])):oo("",!0),v(r,{onClick:t.login,class:"mr-3",color:"primary"},{default:ae(()=>[Ye("Connexion")]),_:1},8,["onClick"]),v(r,{onClick:t.register,variant:"outlined",class:"mr-3",color:"primary"},{default:ae(()=>[Ye("Inscription")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})])}}}),F2={},B2={class:"py-15"},U2=Et("h1",{class:"text-h2 mb-10"},"404 Page Introuvable",-1);function j2(e,t){const n=we("v-btn"),s=we("v-col"),i=we("v-row"),r=we("v-container");return ct(),jn("main",B2,[v(r,null,{default:ae(()=>[v(i,null,{default:ae(()=>[v(s,{xs:"12",lg:"6"},{default:ae(()=>[U2,v(n,{color:"primary"},{default:ae(()=>[Ye(" Retourner \xE0 la navigation ")]),_:1})]),_:1})]),_:1})]),_:1})])}const z2=kg(F2,[["render",j2]]),WI=AR({history:qx("/"),routes:[{path:"/",name:"accueil",component:y2},{path:"/planetes",query:"page",name:"planetes",component:E2},{path:"/login",name:"login",component:$2},{path:"/planetes/:nom/:id",name:"planet",props:!0,component:P2},{path:"/404",component:z2},{path:"/:pathMatch(.*)*",redirect:"/404"}]});WI.beforeEach(async e=>{const t=await iv();if(e.name==="login"&&t)return{name:"accueil"}});function mb(e,t,n){H2(e,t),t.set(e,n)}function H2(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function W2(e,t,n){var s=qI(e,t,"set");return q2(e,s,n),n}function q2(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function Mi(e,t){var n=qI(e,t,"get");return K2(e,n)}function qI(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function K2(e,t){return t.get?t.get.call(e):t.value}function KI(e,t,n){const s=t.length-1;if(s<0)return e===void 0?n:e;for(let i=0;i<s;i++){if(e==null)return n;e=e[t[i]]}return e==null||e[t[s]]===void 0?n:e[t[s]]}function Xl(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(s=>Xl(e[s],t[s]))}function rv(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),KI(e,t.split("."),n))}function vs(e,t,n){if(t==null)return e===void 0?n:e;if(e!==Object(e)){if(typeof t!="function")return n;const i=t(e,n);return typeof i>"u"?n:i}if(typeof t=="string")return rv(e,t,n);if(Array.isArray(t))return KI(e,t,n);if(typeof t!="function")return n;const s=t(e,n);return typeof s>"u"?n:s}function Yi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,s)=>t+s)}function le(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function ov(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function G2(e){return e==null?void 0:e.$el}const gb=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),av=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function GI(e){return Object.keys(e)}function Nn(e,t){const n=Object.create(null),s=Object.create(null);for(const i in e)t.some(r=>r instanceof RegExp?r.test(i):r===i)?n[i]=e[i]:s[i]=e[i];return[n,s]}function Cr(e,t){const n={...e};return t.forEach(s=>delete n[s]),n}function Sr(e){return Nn(e,["class","style","id",/^data-/])}function Bn(e){return e==null?[]:Array.isArray(e)?e:[e]}function En(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function Fh(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function Y2(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let s=0;for(;s<e.length;)n.push(e.substr(s,t)),s+=t;return n}function pb(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let s=-1;for(;Math.abs(e)>=t&&s<n.length-1;)e/=t,++s;return`${e.toFixed(1)} ${n[s]}B`}function Ys(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const s={};for(const i in e)s[i]=e[i];for(const i in t){const r=e[i],o=t[i];if(ov(r)&&ov(o)){s[i]=Ys(r,o,n);continue}if(Array.isArray(r)&&Array.isArray(o)&&n){s[i]=n(r,o);continue}s[i]=o}return s}function YI(e){return e.map(t=>t.type===Re?YI(t.children):t).flat()}function $d(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase()}function Na(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>Na(e,n)).flat(1);if(Array.isArray(t.children))return t.children.map(n=>Na(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return Na(e,t.component.subTree).flat(1)}return[]}var Iu=new WeakMap,Lr=new WeakMap;class X2{constructor(t){mb(this,Iu,{writable:!0,value:[]}),mb(this,Lr,{writable:!0,value:0}),this.size=t}push(t){Mi(this,Iu)[Mi(this,Lr)]=t,W2(this,Lr,(Mi(this,Lr)+1)%this.size)}values(){return Mi(this,Iu).slice(Mi(this,Lr)).concat(Mi(this,Iu).slice(0,Mi(this,Lr)))}}function Q2(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function Tg(e){const t=Wt({}),n=y(e);return ks(()=>{for(const s in n.value)t[s]=n.value[s]},{flush:"sync"}),jv(t)}function Rc(e,t){return e.includes(t)}const J2=/^on[^a-z]/,XI=e=>J2.test(e),rr=[Function,Array];function yb(e,t){return t="on"+Qs(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function Nc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(Array.isArray(e))for(const i of e)i(...n);else typeof e=="function"&&e(...n)}const QI=["top","bottom"],Z2=["start","end","left","right"];function lv(e,t){let[n,s]=e.split(" ");return s||(s=Rc(QI,n)?"start":Rc(Z2,n)?"top":"center"),{side:uv(n,t),align:uv(s,t)}}function uv(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function Bh(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function Uh(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function _b(e){return{side:e.align,align:e.side}}function bb(e){return Rc(QI,e.side)?"y":"x"}class io{constructor(t){let{x:n,y:s,width:i,height:r}=t;this.x=n,this.y=s,this.width=i,this.height=r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function wb(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function Ag(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),s=n.transform;if(s){let i,r,o,a,l;if(s.startsWith("matrix3d("))i=s.slice(9,-1).split(/, /),r=+i[0],o=+i[5],a=+i[12],l=+i[13];else if(s.startsWith("matrix("))i=s.slice(7,-1).split(/, /),r=+i[0],o=+i[3],a=+i[4],l=+i[5];else return new io(t);const u=n.transformOrigin,c=t.x-a-(1-r)*parseFloat(u),d=t.y-l-(1-o)*parseFloat(u.slice(u.indexOf(" ")+1)),h=r?t.width/r:e.offsetWidth+1,f=o?t.height/o:e.offsetHeight+1;return new io({x:c,y:d,width:h,height:f})}else return new io(t)}function Xi(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};const s=e.animate(t,n);return typeof s.finished>"u"&&(s.finished=new Promise(i=>{s.onfinish=()=>{i(s)}})),s}function JI(e,t,n){if(n&&(t={_isVue:!0,$parent:n,$options:t}),t){if(t.$_alreadyWarned=t.$_alreadyWarned||[],t.$_alreadyWarned.includes(e))return;t.$_alreadyWarned.push(e)}return`[Vuetify] ${e}`+(t?nj(t):"")}function or(e,t,n){const s=JI(e,t,n);s!=null&&console.warn(s)}function cv(e,t,n){const s=JI(e,t,n);s!=null&&console.error(s)}const ej=/(?:^|[-_])(\w)/g,tj=e=>e.replace(ej,t=>t.toUpperCase()).replace(/[-_]/g,"");function jh(e,t){if(e.$root===e)return"<Root>";const n=typeof e=="function"&&e.cid!=null?e.options:e._isVue?e.$options||e.constructor.options:e||{};let s=n.name||n._componentTag;const i=n.__file;if(!s&&i){const r=i.match(/([^/\\]+)\.vue$/);s=r==null?void 0:r[1]}return(s?`<${tj(s)}>`:"<Anonymous>")+(i&&t!==!1?` at ${i}`:"")}function nj(e){if(e._isVue&&e.$parent){const t=[];let n=0;for(;e;){if(t.length>0){const s=t[t.length-1];if(s.constructor===e.constructor){n++,e=e.$parent;continue}else n>0&&(t[t.length-1]=[s,n],n=0)}t.push(e),e=e.$parent}return`

found in

`+t.map((s,i)=>`${i===0?"---> ":" ".repeat(5+i*2)}${Array.isArray(s)?`${jh(s[0])}... (${s[1]} recursive calls)`:jh(s)}`).join(`
`)}else return`

(found in ${jh(e)})`}const sj=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],ij=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,rj=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],oj=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function ZI(e){const t=Array(3),n=ij,s=sj;for(let i=0;i<3;++i)t[i]=Math.round(En(n(s[i][0]*e[0]+s[i][1]*e[1]+s[i][2]*e[2]))*255);return(t[0]<<16)+(t[1]<<8)+(t[2]<<0)}function xg(e){const t=[0,0,0],n=oj,s=rj,i=n((e>>16&255)/255),r=n((e>>8&255)/255),o=n((e>>0&255)/255);for(let a=0;a<3;++a)t[a]=s[a][0]*i+s[a][1]*r+s[a][2]*o;return t}const Pc=.20689655172413793,aj=e=>e>Pc**3?Math.cbrt(e):e/(3*Pc**2)+4/29,lj=e=>e>Pc?e**3:3*Pc**2*(e-4/29);function ek(e){const t=aj,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function tk(e){const t=lj,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}function Cb(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function Oc(e){let t;if(typeof e=="number")t=e;else if(typeof e=="string"){let n=e.startsWith("#")?e.substring(1):e;n.length===3&&(n=n.split("").map(s=>s+s).join("")),n.length!==6&&n.length!==8&&or(`'${e}' is not a valid rgb color`),t=parseInt(n,16)}else throw new TypeError(`Colors can only be numbers or strings, recieved ${e==null?e:e.constructor.name} instead`);return t<0?(or(`Colors cannot be negative: '${e}'`),t=0):(t>4294967295||isNaN(t))&&(or(`'${e}' is not a valid rgb color`),t=16777215),t}function uj(e){let t=e.toString(16);return t.length<6&&(t="0".repeat(6-t.length)+t),"#"+t}function Fd(e){const{h:t,s:n,v:s,a:i}=e,r=a=>{const l=(a+t/60)%6;return s-s*n*Math.max(Math.min(l,4-l,1),0)},o=[r(5),r(3),r(1)].map(a=>Math.round(a*255));return{r:o[0],g:o[1],b:o[2],a:i}}function Rg(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,n=e.g/255,s=e.b/255,i=Math.max(t,n,s),r=Math.min(t,n,s);let o=0;i!==r&&(i===t?o=60*(0+(n-s)/(i-r)):i===n?o=60*(2+(s-t)/(i-r)):i===s&&(o=60*(4+(t-n)/(i-r)))),o<0&&(o=o+360);const a=i===0?0:(i-r)/i,l=[o,a,i];return{h:l[0],s:l[1],v:l[2],a:e.a}}function nk(e){const{h:t,s:n,v:s,a:i}=e,r=s-s*n/2,o=r===1||r===0?0:(s-r)/Math.min(r,1-r);return{h:t,s:o,l:r,a:i}}function sk(e){const{h:t,s:n,l:s,a:i}=e,r=s+n*Math.min(s,1-s),o=r===0?0:2-2*s/r;return{h:t,s:o,v:r,a:i}}function cj(e){return`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`}function ik(e){return cj(Fd(e))}function dj(e){const t=n=>{const s=Math.round(n).toString(16);return("00".substr(0,2-s.length)+s).toUpperCase()};return`#${[t(e.r),t(e.g),t(e.b),t(Math.round(e.a*255))].join("")}`}function hj(e){const t=Y2(e.slice(1),2).map(n=>parseInt(n,16));return{r:t[0],g:t[1],b:t[2],a:Math.round(t[3]/255*100)/100}}function rk(e){const t=hj(e);return Rg(t)}function ok(e){return dj(Fd(e))}function fj(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length===6?e=Fh(e,8,"F"):e=Fh(Fh(e,6),8,"F"),`#${e}`.toUpperCase().substr(0,9)}function ak(e){const t=Oc(e);return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255}}function vj(e,t){const n=ek(xg(e));return n[0]=n[0]+t*10,ZI(tk(n))}function mj(e,t){const n=ek(xg(e));return n[0]=n[0]-t*10,ZI(tk(n))}function dv(e){const t=Oc(e);return xg(t)[1]}function gj(e,t){const n=dv(e),s=dv(t),i=Math.max(n,s),r=Math.min(n,s);return(i+.05)/(r+.05)}function Yt(e,t){const n=_l();if(!n)throw new Error(`[Vuetify] ${e} ${t||"must be called from inside a setup function"}`);return n}function ei(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Yt(e).type;return $d((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let lk=0,Uu=new WeakMap;function un(){const e=Yt("getUid");if(Uu.has(e))return Uu.get(e);{const t=lk++;return Uu.set(e,t),t}}un.reset=()=>{lk=0,Uu=new WeakMap};function pj(e){const{provides:t}=Yt("injectSelf");if(t&&e in t)return t[e]}function wo(e,t){let n;he(e,s=>{if(s&&!n)n=pl(),n.run(t);else if(!s){var i;(i=n)==null||i.stop(),n=void 0}},{immediate:!0}),Is(()=>{var s;(s=n)==null||s.stop()})}function ke(e,t){return n=>Object.keys(e).reduce((s,i)=>{const o=typeof e[i]=="object"&&e[i]!=null&&!Array.isArray(e[i])?e[i]:{type:e[i]};return n&&i in n?s[i]={...o,default:n[i]}:s[i]=o,t&&!s[i].source&&(s[i].source=t),s},{})}function yj(e,t){var n,s;return((n=e.props)==null?void 0:n.hasOwnProperty(t))||((s=e.props)==null?void 0:s.hasOwnProperty($d(t)))}const Q=function(t){var n,s;return t._setup=(n=t._setup)!=null?n:t.setup,t.name?(t._setup&&(t.props=(s=t.props)!=null?s:{},t.props=ke(t.props,$d(t.name))(),t.props._as=String,t.setup=function(r,o){const a=_l(),l=dk(),u=S0(),c=y0({...qe(r)});ks(()=>{var m,g,b;const h=l.value.global,f=l.value[(m=r._as)!=null?m:t.name];if(f){const _=Object.entries(f).filter(w=>{let[p]=w;return p.startsWith(p[0].toUpperCase())});_.length&&(u.value=Object.fromEntries(_))}for(const _ of Object.keys(r)){let w=r[_];yj(a.vnode,_)||(w=(b=(g=f==null?void 0:f[_])!=null?g:h==null?void 0:h[_])!=null?b:r[_]),c[_]!==w&&(c[_]=w)}});const d=t._setup(c,o);return wo(u,()=>{var f;var h;Rt(Ys((f=(h=pj(dl))==null?void 0:h.value)!=null?f:{},u.value))}),d}),t):(or("The component is missing an explicit name, unable to generate default prop value"),t)};function rt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?Q:qc)(t)}function Hn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return Q({name:n!=null?n:Qs(Un(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t}},setup(s,i){let{slots:r}=i;return()=>{var o;return Ts(s.tag,{class:e},(o=r.default)==null?void 0:o.call(r))}}})}function uk(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const cl="cubic-bezier(0.4, 0, 0.2, 1)",_j="cubic-bezier(0.0, 0, 0.2, 1)",bj="cubic-bezier(0.4, 0, 1, 1)";function ck(e){for(;e;){if(Ng(e))return e;e=e.parentElement}return document.scrollingElement}function Dc(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(Ng(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function Ng(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}const yt=typeof window<"u",Pg=yt&&"IntersectionObserver"in window,wj=yt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),hv=yt&&typeof CSS<"u"&&CSS.supports("selector(:focus-visible)");function Cj(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function Y(e){const t=Yt("useRender");t.render=e}const dl=Symbol.for("vuetify:defaults");function Sj(e){return D(e!=null?e:{})}function dk(){const e=Fe(dl);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function Rt(e,t){const n=dk(),s=D(e),i=y(()=>{const r=gt(t==null?void 0:t.scoped),o=gt(t==null?void 0:t.reset),a=gt(t==null?void 0:t.root);let l=Ys(s.value,{prev:n.value});if(r)return l;if(o||a){const u=Number(o||1/0);for(let c=0;c<=u&&l.prev;c++)l=l.prev;return l}return Ys(l.prev,l)});return bt(dl,i),i}const fv=Symbol.for("vuetify:display"),Sb={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},Ej=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sb;return Ys(Sb,e)};function Eb(e){return yt&&!e?window.innerWidth:0}function Ib(e){return yt&&!e?window.innerHeight:0}function Ij(){const e=yt?window.navigator.userAgent:"ssr";function t(m){return Boolean(e.match(m))}const n=t(/android/i),s=t(/iphone|ipad|ipod/i),i=t(/cordova/i),r=t(/electron/i),o=t(/chrome/i),a=t(/edge/i),l=t(/firefox/i),u=t(/opera/i),c=t(/win/i),d=t(/mac/i),h=t(/linux/i),f=t(/ssr/i);return{android:n,ios:s,cordova:i,electron:r,chrome:o,edge:a,firefox:l,opera:u,win:c,mac:d,linux:h,touch:wj,ssr:f}}function kj(e,t){const{thresholds:n,mobileBreakpoint:s}=Ej(e),i=D(Ib(t)),r=Ij(),o=Wt({}),a=D(Eb(t));function l(){i.value=Ib(),a.value=Eb()}return ks(()=>{const u=a.value<n.sm,c=a.value<n.md&&!u,d=a.value<n.lg&&!(c||u),h=a.value<n.xl&&!(d||c||u),f=a.value<n.xxl&&!(h||d||c||u),m=a.value>=n.xxl,g=u?"xs":c?"sm":d?"md":h?"lg":f?"xl":"xxl",b=typeof s=="number"?s:n[s],_=r.ssr?r.android||r.ios||r.opera:a.value<b;o.xs=u,o.sm=c,o.md=d,o.lg=h,o.xl=f,o.xxl=m,o.smAndUp=!u,o.mdAndUp=!(u||c),o.lgAndUp=!(u||c||d),o.xlAndUp=!(u||c||d||h),o.smAndDown=!(d||h||f||m),o.mdAndDown=!(h||f||m),o.lgAndDown=!(f||m),o.xlAndDown=!m,o.name=g,o.height=i.value,o.width=a.value,o.mobile=_,o.mobileBreakpoint=s,o.platform=r,o.thresholds=n}),yt&&window.addEventListener("resize",l,{passive:!0}),{...jv(o),update:l}}function Bd(){const e=Fe(fv);if(!e)throw new Error("Could not find Vuetify display injection");return e}const Tj={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},Aj={component:e=>Ts(Og,{...e,class:"mdi"})},be=[String,Function,Object],vv=Symbol.for("vuetify:icons"),Ud=ke({icon:{type:be,required:!0},tag:{type:String,required:!0}},"icon"),hk=Q({name:"VComponentIcon",props:Ud(),setup(e){return()=>v(e.tag,null,{default:()=>[v(e.icon,null,null)]})}}),fk=Q({name:"VSvgIcon",inheritAttrs:!1,props:Ud(),setup(e,t){let{attrs:n}=t;return()=>v(e.tag,ce(n,{style:null}),{default:()=>[v("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[v("path",{d:e.icon},null)])]})}}),xj=Q({name:"VLigatureIcon",props:Ud(),setup(e){return()=>v(e.tag,null,{default:()=>[e.icon]})}}),Og=Q({name:"VClassIcon",props:Ud(),setup(e){return()=>v(e.tag,{class:e.icon},null)}}),Rj={svg:{component:fk},class:{component:Og}};function Nj(e){return Ys({defaultSet:"mdi",sets:{...Rj,mdi:Aj},aliases:Tj},e)}const Pj=e=>{const t=Fe(vv);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:y(()=>{const s=pt(e)?e.value:e.icon;if(!s)throw new Error("Icon value is undefined or null");let i=s;if(typeof i=="string"&&(i=i.trim(),i.startsWith("$"))){var r;i=(r=t.aliases)==null?void 0:r[i.slice(1)]}if(!i)throw new Error(`Could not find aliased icon "${s}"`);if(typeof i!="string")return{component:hk,icon:i};const o=Object.keys(t.sets).find(u=>typeof i=="string"&&i.startsWith(`${u}:`)),a=o?i.slice(o.length+1):i;return{component:t.sets[o!=null?o:t.defaultSet].component,icon:a}})}};function Ie(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const r=Yt("useProxiedModel"),o=D(e[t]!==void 0?e[t]:n),a=$d(t),u=y(a!==t?()=>{var d,h,f,m;return e[t],!!(((d=r.vnode.props)!=null&&d.hasOwnProperty(t)||(h=r.vnode.props)!=null&&h.hasOwnProperty(a))&&((f=r.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${t}`)||(m=r.vnode.props)!=null&&m.hasOwnProperty(`onUpdate:${a}`)))}:()=>{var d,h;return e[t],!!((d=r.vnode.props)!=null&&d.hasOwnProperty(t)&&(h=r.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${t}`))});wo(()=>!u.value,()=>{he(()=>e[t],d=>{o.value=d})});const c=y({get(){return s(u.value?e[t]:o.value)},set(d){const h=i(d);(u.value?e[t]:o.value)===h||s(u.value?e[t]:o.value)===d||(o.value=h,r==null||r.emit(`update:${t}`,h))}});return Object.defineProperty(c,"externalValue",{get:()=>u.value?e[t]:o.value}),c}const Oj={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Page {0}, Current Page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}}},kb="$vuetify.",Tb=(e,t)=>e.replace(/\{(\d+)\}/g,(n,s)=>String(t[+s])),vk=(e,t,n)=>function(s){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(!s.startsWith(kb))return Tb(s,r);const a=s.replace(kb,""),l=e.value&&n.value[e.value],u=t.value&&n.value[t.value];let c=rv(l,a,null);return c||(or(`Translation key "${s}" not found in "${e.value}", trying fallback locale`),c=rv(u,a,null)),c||(cv(`Translation key "${s}" not found in fallback`),c=s),typeof c!="string"&&(cv(`Translation key "${s}" has a non-string value`),c=s),Tb(c,r)};function mk(e,t){return(n,s)=>new Intl.NumberFormat([e.value,t.value],s).format(n)}function zh(e,t,n){var i,r;const s=Ie(e,t,(i=e[t])!=null?i:n.value);return s.value=(r=e[t])!=null?r:n.value,he(n,o=>{e[t]==null&&(s.value=n.value)}),s}function gk(e){return t=>{const n=zh(t,"locale",e.current),s=zh(t,"fallback",e.fallback),i=zh(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:s,messages:i,t:vk(n,s,i),n:mk(n,s),provide:gk({current:n,fallback:s,messages:i})}}}function Dj(e){var i,r;const t=D((i=e==null?void 0:e.locale)!=null?i:"en"),n=D((r=e==null?void 0:e.fallback)!=null?r:"en"),s=D({en:Oj,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:s,t:vk(t,n,s),n:mk(t,n),provide:gk({current:t,fallback:n,messages:s})}}const Lj={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!1,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1},Co=Symbol.for("vuetify:locale");function Mj(e){return e.name!=null}function Vj(e){const t=e!=null&&e.adapter&&Mj(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:Dj(e),n=Fj(t,e);return{...t,...n}}function rs(){const e=Fe(Co);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function $j(e){const t=Fe(Co);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const n=t.provide(e),s=Bj(n,t.rtl,e),i={...n,...s};return bt(Co,i),i}function Fj(e,t){var i;const n=D((i=t==null?void 0:t.rtl)!=null?i:Lj),s=y(()=>{var r;return(r=n.value[e.current.value])!=null?r:!1});return{isRtl:s,rtl:n,rtlClasses:y(()=>`v-locale--is-${s.value?"rtl":"ltr"}`)}}function Bj(e,t,n){const s=y(()=>{var i,r;return(r=(i=n.rtl)!=null?i:t.value[e.current.value])!=null?r:!1});return{isRtl:s,rtl:t,rtlClasses:y(()=>`v-locale--is-${s.value?"rtl":"ltr"}`)}}function ti(){const e=Fe(Co);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const Mr=2.4,Ab=.2126729,xb=.7151522,Rb=.072175,Uj=.55,jj=.58,zj=.57,Hj=.62,ku=.03,Nb=1.45,Wj=5e-4,qj=1.25,Kj=1.25,Pb=.078,Ob=12.82051282051282,Tu=.06,Db=.001;function Lb(e,t){const n=((e>>16&255)/255)**Mr,s=((e>>8&255)/255)**Mr,i=((e>>0&255)/255)**Mr,r=((t>>16&255)/255)**Mr,o=((t>>8&255)/255)**Mr,a=((t>>0&255)/255)**Mr;let l=n*Ab+s*xb+i*Rb,u=r*Ab+o*xb+a*Rb;if(l<=ku&&(l+=(ku-l)**Nb),u<=ku&&(u+=(ku-u)**Nb),Math.abs(u-l)<Wj)return 0;let c;if(u>l){const d=(u**Uj-l**jj)*qj;c=d<Db?0:d<Pb?d-d*Ob*Tu:d-Tu}else{const d=(u**Hj-l**zj)*Kj;c=d>-Db?0:d>-Pb?d-d*Ob*Tu:d+Tu}return c*100}const hl=Symbol.for("vuetify:theme"),Ue=ke({theme:String},"theme"),oa={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function Gj(){var i;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oa;if(!e)return{...oa,isDisabled:!0};const t={};for(const[r,o]of Object.entries((i=e.themes)!=null?i:{})){var n,s;const a=o.dark||r==="dark"?(n=oa.themes)==null?void 0:n.dark:(s=oa.themes)==null?void 0:s.light;t[r]=Ys(a,o)}return Ys(oa,{...e,themes:t})}function Yj(e){const t=Wt(Gj(e)),n=D(t.defaultTheme),s=D(t.themes),i=y(()=>{const u={};for(const[c,d]of Object.entries(s.value)){const h=u[c]={...d,colors:{...d.colors}};if(t.variations)for(const f of t.variations.colors){const m=h.colors[f];if(!!m)for(const g of["lighten","darken"]){const b=g==="lighten"?vj:mj;for(const _ of Yi(t.variations[g],1))h.colors[`${f}-${g}-${_}`]=uj(b(Oc(m),_))}}for(const f of Object.keys(h.colors)){if(/^on-[a-z]/.test(f)||h.colors[`on-${f}`])continue;const m=`on-${f}`,g=Oc(h.colors[f]),b=Math.abs(Lb(0,g)),_=Math.abs(Lb(16777215,g));h.colors[m]=_>Math.min(b,50)?"#fff":"#000"}}return u}),r=y(()=>i.value[n.value]),o=y(()=>{const u=[];r.value.dark&&Vr(u,":root",["color-scheme: dark"]);for(const[f,m]of Object.entries(i.value)){const{variables:g,dark:b}=m;Vr(u,`.v-theme--${f}`,[`color-scheme: ${b?"dark":"normal"}`,...Xj(m),...Object.keys(g).map(_=>{const w=g[_],p=typeof w=="string"&&w.startsWith("#")?ak(w):void 0,I=p?`${p.r}, ${p.g}, ${p.b}`:void 0;return`--v-${_}: ${I!=null?I:w}`})])}const c=[],d=[],h=new Set(Object.values(i.value).flatMap(f=>Object.keys(f.colors)));for(const f of h)/^on-[a-z]/.test(f)?Vr(d,`.${f}`,[`color: rgb(var(--v-theme-${f})) !important`]):(Vr(c,`.bg-${f}`,[`--v-theme-overlay-multiplier: var(--v-theme-${f}-overlay-multiplier)`,`background: rgb(var(--v-theme-${f})) !important`,`color: rgb(var(--v-theme-on-${f})) !important`]),Vr(d,`.text-${f}`,[`color: rgb(var(--v-theme-${f})) !important`]),Vr(d,`.border-${f}`,[`--v-border-color: var(--v-theme-${f})`]));return u.push(...c,...d),u.map((f,m)=>m===0?f:`    ${f}`).join("")});function a(u){const c=u._context.provides.usehead;if(c)c.addHeadObjs(y(()=>{const h={children:o.value,type:"text/css",id:"vuetify-theme-stylesheet"};return t.cspNonce&&(h.nonce=t.cspNonce),{style:[h]}})),yt&&ks(()=>c.updateDOM());else{let f=function(){if(!t.isDisabled){if(typeof document<"u"&&!h){const m=document.createElement("style");m.type="text/css",m.id="vuetify-theme-stylesheet",t.cspNonce&&m.setAttribute("nonce",t.cspNonce),h=m,document.head.appendChild(h)}h&&(h.innerHTML=o.value)}};var d=f;let h=yt?document.getElementById("vuetify-theme-stylesheet"):null;he(o,f,{immediate:!0})}}const l=y(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:a,isDisabled:t.isDisabled,name:n,themes:s,current:r,computedThemes:i,themeClasses:l,styles:o,global:{name:n,current:r}}}function Ze(e){Yt("provideTheme");const t=Fe(hl,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=y(()=>{var r;return(r=e.theme)!=null?r:t==null?void 0:t.name.value}),s=y(()=>t.isDisabled?void 0:`v-theme--${n.value}`),i={...t,name:n,themeClasses:s};return bt(hl,i),i}function pk(){Yt("useTheme");const e=Fe(hl,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function Vr(e,t,n){e.push(`${t} {
`,...n.map(s=>`  ${s};
`),`}
`)}function Xj(e){const t=e.dark?2:1,n=e.dark?1:2,s=[];for(const[i,r]of Object.entries(e.colors)){const o=ak(r);s.push(`--v-theme-${i}: ${o.r},${o.g},${o.b}`),i.startsWith("on-")||s.push(`--v-theme-${i}-overlay-multiplier: ${dv(r)>.18?t:n}`)}return s}function mr(e){const t=D(),n=D();if(yt){const s=new ResizeObserver(i=>{e==null||e(i,s),i.length&&(n.value=i[0].contentRect)});_n(()=>{s.disconnect()}),he(t,(i,r)=>{r&&(s.unobserve(r),n.value=void 0),i&&s.observe(i)},{flush:"post"})}return{resizeRef:t,contentRect:yl(n)}}const Lc=Symbol.for("vuetify:layout"),yk=Symbol.for("vuetify:layout-item"),Mb=1e3,_k=ke({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Fo=ke({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Qj(){const e=Fe(Lc);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Bo(e){var a;const t=Fe(Lc);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=(a=e.id)!=null?a:`layout-item-${un()}`,s=Yt("useLayoutItem");bt(yk,{id:n});const i=D(!1);$0(()=>i.value=!0),V0(()=>i.value=!1);const{layoutItemStyles:r,layoutItemScrimStyles:o}=t.register(s,{...e,active:y(()=>i.value?!1:e.active.value),id:n});return _n(()=>t.unregister(n)),{layoutItemStyles:r,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const Jj=(e,t,n,s)=>{let i={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...i}}];for(const o of e){const a=t.get(o),l=n.get(o),u=s.get(o);if(!a||!l||!u)continue;const c={...i,[a.value]:parseInt(i[a.value],10)+(u.value?parseInt(l.value,10):0)};r.push({id:o,layer:c}),i=c}return r};function bk(e){const t=Fe(Lc,null),n=y(()=>t?t.rootZIndex.value-100:Mb),s=D([]),i=Wt(new Map),r=Wt(new Map),o=Wt(new Map),a=Wt(new Map),l=Wt(new Map),{resizeRef:u,contentRect:c}=mr(),d=y(()=>{var S;const T=new Map,C=(S=e.overlaps)!=null?S:[];for(const x of C.filter(A=>A.includes(":"))){const[A,O]=x.split(":");if(!s.value.includes(A)||!s.value.includes(O))continue;const N=i.get(A),L=i.get(O),F=r.get(A),q=r.get(O);!N||!L||!F||!q||(T.set(O,{position:N.value,amount:parseInt(F.value,10)}),T.set(A,{position:L.value,amount:-parseInt(q.value,10)}))}return T}),h=y(()=>{const T=[...new Set([...o.values()].map(S=>S.value))].sort((S,x)=>S-x),C=[];for(const S of T){const x=s.value.filter(A=>{var O;return((O=o.get(A))==null?void 0:O.value)===S});C.push(...x)}return Jj(C,i,r,a)}),f=y(()=>!Array.from(l.values()).some(T=>T.value)),m=y(()=>h.value[h.value.length-1].layer),g=y(()=>({"--v-layout-left":le(m.value.left),"--v-layout-right":le(m.value.right),"--v-layout-top":le(m.value.top),"--v-layout-bottom":le(m.value.bottom),...f.value?void 0:{transition:"none"}})),b=y(()=>h.value.slice(1).map((T,C)=>{let{id:S}=T;const{layer:x}=h.value[C],A=r.get(S),O=i.get(S);return{id:S,...x,size:Number(A.value),position:O.value}})),_=T=>b.value.find(C=>C.id===T),w=Yt("createLayout"),p=D(!1);yn(()=>{p.value=!0}),bt(Lc,{register:(T,C)=>{let{id:S,order:x,position:A,layoutSize:O,elementSize:N,active:L,disableTransitions:F,absolute:q}=C;o.set(S,x),i.set(S,A),r.set(S,O),a.set(S,L),F&&l.set(S,F);const P=Na(yk,w==null?void 0:w.vnode).indexOf(T);P>-1?s.value.splice(P,0,S):s.value.push(S);const $=y(()=>b.value.findIndex(re=>re.id===S)),J=y(()=>n.value+h.value.length*2-$.value*2),K=y(()=>{const re=A.value==="left"||A.value==="right",Me=A.value==="right",ne=A.value==="bottom",M={[A.value]:0,zIndex:J.value,transform:`translate${re?"X":"Y"}(${(L.value?0:-110)*(Me||ne?-1:1)}%)`,position:q.value||n.value!==Mb?"absolute":"fixed",...f.value?void 0:{transition:"none"}};if(!p.value)return M;const j=b.value[$.value];if(!j)throw new Error(`[Vuetify] Could not find layout item "${S}"`);const Z=d.value.get(S);return Z&&(j[Z.position]+=Z.amount),{...M,height:re?`calc(100% - ${j.top}px - ${j.bottom}px)`:N.value?`${N.value}px`:void 0,left:Me?void 0:`${j.left}px`,right:Me?`${j.right}px`:void 0,top:A.value!=="bottom"?`${j.top}px`:void 0,bottom:A.value!=="top"?`${j.bottom}px`:void 0,width:re?N.value?`${N.value}px`:void 0:`calc(100% - ${j.left}px - ${j.right}px)`}}),oe=y(()=>({zIndex:J.value-1}));return{layoutItemStyles:K,layoutItemScrimStyles:oe,zIndex:J}},unregister:T=>{o.delete(T),i.delete(T),r.delete(T),a.delete(T),l.delete(T),s.value=s.value.filter(C=>C!==T)},mainRect:m,mainStyles:g,getLayoutItem:_,items:b,layoutRect:c,rootZIndex:n});const I=y(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),k=y(()=>({zIndex:n.value,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:I,layoutStyles:k,getLayoutItem:_,items:b,layoutRect:c,layoutRef:u}}function wk(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,s=Ys(t,n),{aliases:i={},components:r={},directives:o={}}=s,a=Sj(s.defaults),l=kj(s.display,s.ssr),u=Yj(s.theme),c=Nj(s.icons),d=Vj(s.locale);return{install:f=>{for(const m in o)f.directive(m,o[m]);for(const m in r)f.component(m,r[m]);for(const m in i)f.component(m,Q({...i[m],name:m,aliasName:i[m].name}));if(u.install(f),f.provide(dl,a),f.provide(fv,l),f.provide(hl,u),f.provide(vv,c),f.provide(Co,d),yt&&s.ssr)if(f.$nuxt)f.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:m}=f;f.mount=function(){const g=m(...arguments);return mt(()=>l.update()),f.mount=m,g}}un.reset(),f.mixin({computed:{$vuetify(){return Wt({defaults:aa.call(this,dl),display:aa.call(this,fv),theme:aa.call(this,hl),icons:aa.call(this,vv),locale:aa.call(this,Co)})}}})},defaults:a,display:l,theme:u,icons:c,locale:d}}const Zj="3.0.3";wk.version=Zj;function aa(e){var r;var t,n;const s=this.$,i=(r=(t=s.parent)==null?void 0:t.provides)!=null?r:(n=s.vnode.appContext)==null?void 0:n.provides;if(i&&e in i)return i[e]}const ez=Q({name:"VApp",props:{..._k({fullHeight:!0}),...Ue()},setup(e,t){let{slots:n}=t;const s=Ze(e),{layoutClasses:i,layoutStyles:r,getLayoutItem:o,items:a,layoutRef:l}=bk(e),{rtlClasses:u}=ti();return Y(()=>{var c;return v("div",{ref:l,class:["v-application",s.themeClasses.value,i.value,u.value],style:r.value},[v("div",{class:"v-application__wrap"},[(c=n.default)==null?void 0:c.call(n)])])}),{getLayoutItem:o,items:a,theme:s}}});const st=qc({name:"VDefaultsProvider",props:{defaults:Object,reset:[Number,String],root:Boolean,scoped:Boolean},setup(e,t){let{slots:n}=t;const{defaults:s,reset:i,root:r,scoped:o}=jv(e);return Rt(s,{reset:i,root:r,scoped:o}),()=>{var a;return(a=n.default)==null?void 0:a.call(n)}}});function Pn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top center 0",n=arguments.length>2?arguments[2]:void 0;return Q({name:e,props:{group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:{type:String,default:n},origin:{type:String,default:t}},setup(s,i){let{slots:r}=i;return()=>{const o=s.group?yx:ws;return Ts(o,{name:e,mode:s.mode,onBeforeEnter(a){a.style.transformOrigin=s.origin},onLeave(a){if(s.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:c,offsetHeight:d}=a;a._transitionInitialStyles={position:a.style.position,top:a.style.top,left:a.style.left,width:a.style.width,height:a.style.height},a.style.position="absolute",a.style.top=`${l}px`,a.style.left=`${u}px`,a.style.width=`${c}px`,a.style.height=`${d}px`}s.hideOnLeave&&a.style.setProperty("display","none","important")},onAfterLeave(a){if(s.leaveAbsolute&&a!=null&&a._transitionInitialStyles){const{position:l,top:u,left:c,width:d,height:h}=a._transitionInitialStyles;delete a._transitionInitialStyles,a.style.position=l||"",a.style.top=u||"",a.style.left=c||"",a.style.width=d||"",a.style.height=h||""}}},r.default)}}})}function Ck(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Q({name:e,props:{mode:{type:String,default:n}},setup(s,i){let{slots:r}=i;return()=>Ts(ws,{name:e,...t},r.default)}})}function Sk(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",s=Un(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const a=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[s]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=a.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=l})},onAfterEnter:r,onEnterCancelled:r,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[s]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:i,onLeaveCancelled:i};function i(o){e&&o._parent&&o._parent.classList.remove(e),r(o)}function r(o){const a=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,a!=null&&(o.style[n]=a),delete o._initialStyle}}const jd=Q({name:"VDialogTransition",props:{target:Object},setup(e,t){let{slots:n}=t;const s={onBeforeEnter(i){i.style.pointerEvents="none",i.style.visibility="hidden"},async onEnter(i,r){var o;await new Promise(f=>requestAnimationFrame(f)),await new Promise(f=>requestAnimationFrame(f)),i.style.visibility="";const{x:a,y:l,sx:u,sy:c,speed:d}=$b(e.target,i),h=Xi(i,[{transform:`translate(${a}px, ${l}px) scale(${u}, ${c})`,opacity:0},{transform:""}],{duration:225*d,easing:_j});(o=Vb(i))==null||o.forEach(f=>{Xi(f,[{opacity:0},{opacity:0,offset:.33},{opacity:1}],{duration:225*2*d,easing:cl})}),h.finished.then(()=>r())},onAfterEnter(i){i.style.removeProperty("pointer-events")},onBeforeLeave(i){i.style.pointerEvents="none"},async onLeave(i,r){var o;await new Promise(f=>requestAnimationFrame(f));const{x:a,y:l,sx:u,sy:c,speed:d}=$b(e.target,i);Xi(i,[{transform:""},{transform:`translate(${a}px, ${l}px) scale(${u}, ${c})`,opacity:0}],{duration:125*d,easing:bj}).finished.then(()=>r()),(o=Vb(i))==null||o.forEach(f=>{Xi(f,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*d,easing:cl})})},onAfterLeave(i){i.style.removeProperty("pointer-events")}};return()=>e.target?v(ws,ce({name:"dialog-transition"},s,{css:!1}),n):v(ws,{name:"dialog-transition"},n)}});function Vb(e){var t;const n=(t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:t.children;return n&&[...n]}function $b(e,t){const n=e.getBoundingClientRect(),s=Ag(t),[i,r]=getComputedStyle(t).transformOrigin.split(" ").map(_=>parseFloat(_)),[o,a]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;o==="left"||a==="left"?l-=n.width/2:(o==="right"||a==="right")&&(l+=n.width/2);let u=n.top+n.height/2;o==="top"||a==="top"?u-=n.height/2:(o==="bottom"||a==="bottom")&&(u+=n.height/2);const c=n.width/s.width,d=n.height/s.height,h=Math.max(1,c,d),f=c/h||0,m=d/h||0,g=s.width*s.height/(window.innerWidth*window.innerHeight),b=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:l-(i+s.left),y:u-(r+s.top),sx:f,sy:m,speed:b}}const tz=Pn("fab-transition","center center","out-in"),nz=Pn("dialog-bottom-transition"),sz=Pn("dialog-top-transition"),mv=Pn("fade-transition"),Ek=Pn("scale-transition"),iz=Pn("scroll-x-transition"),rz=Pn("scroll-x-reverse-transition"),oz=Pn("scroll-y-transition"),az=Pn("scroll-y-reverse-transition"),lz=Pn("slide-x-transition"),uz=Pn("slide-x-reverse-transition"),Dg=Pn("slide-y-transition"),cz=Pn("slide-y-reverse-transition"),zd=Ck("expand-transition",Sk()),Lg=Ck("expand-x-transition",Sk("",!0));const os=ke({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function as(e){return{dimensionStyles:y(()=>({height:le(e.height),maxHeight:le(e.maxHeight),maxWidth:le(e.maxWidth),minHeight:le(e.minHeight),minWidth:le(e.minWidth),width:le(e.width)}))}}function dz(e){return{aspectStyles:y(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const Ik=Q({name:"VResponsive",props:{aspectRatio:[String,Number],contentClass:String,...os()},setup(e,t){let{slots:n}=t;const{aspectStyles:s}=dz(e),{dimensionStyles:i}=as(e);return Y(()=>{var r;return v("div",{class:"v-responsive",style:i.value},[v("div",{class:"v-responsive__sizer",style:s.value},null),(r=n.additional)==null?void 0:r.call(n),n.default&&v("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function hz(e,t){if(!Pg)return;const n=t.modifiers||{},s=t.value,{handler:i,options:r}=typeof s=="object"?s:{handler:s,options:{}},o=new IntersectionObserver(function(){var a;let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=arguments.length>1?arguments[1]:void 0;const c=(a=e._observe)==null?void 0:a[t.instance.$.uid];if(!c)return;const d=l.some(h=>h.isIntersecting);i&&(!n.quiet||c.init)&&(!n.once||d||c.init)&&i(d,l,u),d&&n.once?kk(e,t):c.init=!0},r);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function kk(e,t){var n;const s=(n=e._observe)==null?void 0:n[t.instance.$.uid];!s||(s.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Ql={mounted:hz,unmounted:kk},ni=ke({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),gs=(e,t)=>{let{slots:n}=t;const{transition:s,...i}=e,{component:r=ws,...o}=typeof s=="object"?s:{};return Ts(r,ce(typeof s=="string"?{name:s}:o,i),n)},Uo=Q({name:"VImg",directives:{intersect:Ql},props:{aspectRatio:[String,Number],alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,width:[String,Number],...ni()},emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:s}=t;const i=D(""),r=D(),o=D(e.eager?"loading":"idle"),a=D(),l=D(),u=y(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),c=y(()=>u.value.aspect||a.value/l.value||0);he(()=>e.src,()=>{d(o.value!=="idle")}),Yc(()=>d());function d(C){if(!(e.eager&&C)&&!(Pg&&!C&&!e.eager)){if(o.value="loading",u.value.lazySrc){const S=new Image;S.src=u.value.lazySrc,g(S,null)}!u.value.src||mt(()=>{var S,x;if(n("loadstart",((S=r.value)==null?void 0:S.currentSrc)||u.value.src),(x=r.value)!=null&&x.complete){if(r.value.naturalWidth||f(),o.value==="error")return;c.value||g(r.value,null),h()}else c.value||g(r.value),m()})}}function h(){var C;m(),o.value="loaded",n("load",((C=r.value)==null?void 0:C.currentSrc)||u.value.src)}function f(){var C;o.value="error",n("error",((C=r.value)==null?void 0:C.currentSrc)||u.value.src)}function m(){const C=r.value;C&&(i.value=C.currentSrc||C.src)}function g(C){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const x=()=>{const{naturalHeight:A,naturalWidth:O}=C;A||O?(a.value=O,l.value=A):!C.complete&&o.value==="loading"&&S!=null?setTimeout(x,S):(C.currentSrc.endsWith(".svg")||C.currentSrc.startsWith("data:image/svg+xml"))&&(a.value=1,l.value=1)};x()}const b=y(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),_=()=>{var C;if(!u.value.src||o.value==="idle")return null;const S=v("img",{class:["v-img__img",b.value],src:u.value.src,srcset:u.value.srcset,alt:"",sizes:e.sizes,ref:r,onLoad:h,onError:f},null),x=(C=s.sources)==null?void 0:C.call(s);return v(gs,{transition:e.transition,appear:!0},{default:()=>[_t(x?v("picture",{class:"v-img__picture"},[x,S]):S,[[As,o.value==="loaded"]])]})},w=()=>v(gs,{transition:e.transition},{default:()=>[u.value.lazySrc&&o.value!=="loaded"&&v("img",{class:["v-img__img","v-img__img--preload",b.value],src:u.value.lazySrc,alt:""},null)]}),p=()=>s.placeholder?v(gs,{transition:e.transition,appear:!0},{default:()=>[(o.value==="loading"||o.value==="error"&&!s.error)&&v("div",{class:"v-img__placeholder"},[s.placeholder()])]}):null,I=()=>s.error?v(gs,{transition:e.transition,appear:!0},{default:()=>[o.value==="error"&&v("div",{class:"v-img__error"},[s.error()])]}):null,k=()=>e.gradient?v("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,T=D(!1);{const C=he(c,S=>{S&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{T.value=!0})}),C())})}return Y(()=>_t(v(Ik,{class:["v-img",{"v-img--booting":!T.value}],style:{width:le(e.width==="auto"?a.value:e.width)},aspectRatio:c.value,"aria-label":e.alt,role:e.alt?"img":void 0},{additional:()=>v(Re,null,[v(_,null,null),v(w,null,null),v(k,null,null),v(p,null,null),v(I,null,null)]),default:s.default}),[[Rn("intersect"),{handler:d,options:e.options},null,{once:!0}]])),{currentSrc:i,image:r,state:o,naturalWidth:a,naturalHeight:l}}}),Te=ke({tag:{type:String,default:"div"}},"tag"),Mc=rt()({name:"VToolbarTitle",props:{text:String,...Te()},setup(e,t){let{slots:n}=t;return Y(()=>{var s;const i=!!(n.default||n.text||e.text);return v(e.tag,{class:"v-toolbar-title"},{default:()=>[i&&v("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(s=n.default)==null?void 0:s.call(n)])]})}),{}}}),On=ke({border:[Boolean,Number,String]},"border");function Wn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ei();return{borderClasses:y(()=>{const s=pt(e)?e.value:e.border,i=[];if(s===!0||s==="")i.push(`${t}--border`);else if(typeof s=="string"||s===0)for(const r of String(s).split(" "))i.push(`border-${r}`);return i})}}const Nt=ke({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Xt(e){return{elevationClasses:y(()=>{const n=pt(e)?e.value:e.elevation,s=[];return n==null||s.push(`elevation-${n}`),s})}}const ft=ke({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function St(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ei();return{roundedClasses:y(()=>{const s=pt(e)?e.value:e.rounded,i=[];if(s===!0||s==="")i.push(`${t}--rounded`);else if(typeof s=="string"||s===0)for(const r of String(s).split(" "))i.push(`rounded-${r}`);return i})}}function Mg(e){return Tg(()=>{const t=[],n={};return e.value.background&&(Cb(e.value.background)?n.backgroundColor=e.value.background:t.push(`bg-${e.value.background}`)),e.value.text&&(Cb(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function pn(e,t){const n=y(()=>({text:pt(e)?e.value:t?e[t]:null})),{colorClasses:s,colorStyles:i}=Mg(n);return{textColorClasses:s,textColorStyles:i}}function Ct(e,t){const n=y(()=>({background:pt(e)?e.value:t?e[t]:null})),{colorClasses:s,colorStyles:i}=Mg(n);return{backgroundColorClasses:s,backgroundColorStyles:i}}const fz=[null,"prominent","default","comfortable","compact"],Tk=ke({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>fz.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...On(),...Nt(),...ft(),...Te({tag:"header"}),...Ue()},"v-toolbar"),Vc=rt()({name:"VToolbar",props:Tk(),setup(e,t){var n;let{slots:s}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Ct(z(e,"color")),{borderClasses:o}=Wn(e),{elevationClasses:a}=Xt(e),{roundedClasses:l}=St(e),{themeClasses:u}=Ze(e),c=D(!!(e.extended||(n=s.extension)!=null&&n.call(s))),d=y(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),h=y(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Rt({VBtn:{variant:"text"}}),Y(()=>{var f,m,g,b,_;const w=!!(e.title||s.title),p=!!(s.image||e.image),I=(f=s.extension)==null?void 0:f.call(s);return c.value=!!(e.extended||I),v(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},i.value,o.value,a.value,l.value,u.value],style:[r.value]},{default:()=>[p&&v("div",{key:"image",class:"v-toolbar__image"},[v(st,{defaults:{VImg:{cover:!0,src:e.image}}},{default:()=>[s.image?(m=s.image)==null?void 0:m.call(s):v(Uo,null,null)]})]),v("div",{class:"v-toolbar__content",style:{height:le(d.value)}},[s.prepend&&v("div",{class:"v-toolbar__prepend"},[(g=s.prepend)==null?void 0:g.call(s)]),w&&v(Mc,{key:"title",text:e.title},{text:s.title}),(b=s.default)==null?void 0:b.call(s),s.append&&v("div",{class:"v-toolbar__append"},[(_=s.append)==null?void 0:_.call(s)])]),v(zd,null,{default:()=>[c.value&&v("div",{class:"v-toolbar__extension",style:{height:le(h.value)}},[I])]})]})}),{contentHeight:d,extensionHeight:h}}});function vz(e){var t;return Nn(e,Object.keys((t=Vc==null?void 0:Vc.props)!=null?t:{}))}const mz=rt()({name:"VAppBar",props:{modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Tk(),...Fo(),height:{type:[Number,String],default:64}},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=D(),i=Ie(e,"modelValue"),r=y(()=>{var d,h;var a,l;const u=(d=(a=s.value)==null?void 0:a.contentHeight)!=null?d:0,c=(h=(l=s.value)==null?void 0:l.extensionHeight)!=null?h:0;return u+c}),{layoutItemStyles:o}=Bo({id:e.name,order:y(()=>parseInt(e.order,10)),position:z(e,"location"),layoutSize:r,elementSize:r,active:i,absolute:z(e,"absolute")});return Y(()=>{const[a]=vz(e);return v(Vc,ce({ref:s,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"}],style:{...o.value,height:void 0}},a),n)}),{}}});const gz=[null,"default","comfortable","compact"],Lt=ke({density:{type:String,default:"default",validator:e=>gz.includes(e)}},"density");function cn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ei();return{densityClasses:y(()=>`${t}--density-${e.density}`)}}const pz=["elevated","flat","tonal","outlined","text","plain"];function Er(e,t){return v(Re,null,[e&&v("span",{key:"overlay",class:`${t}__overlay`},null),v("span",{key:"underlay",class:`${t}__underlay`},null)])}const qn=ke({color:String,variant:{type:String,default:"elevated",validator:e=>pz.includes(e)}},"variant");function Ir(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ei();const n=y(()=>{const{variant:r}=gt(e);return`${t}--variant-${r}`}),{colorClasses:s,colorStyles:i}=Mg(y(()=>{const{variant:r,color:o}=gt(e);return{[["elevated","flat"].includes(r)?"background":"text"]:o}}));return{colorClasses:s,colorStyles:i,variantClasses:n}}const Ak=Q({name:"VBtnGroup",props:{divided:Boolean,...On(),...Lt(),...Nt(),...ft(),...Te(),...Ue(),...qn()},setup(e,t){let{slots:n}=t;const{themeClasses:s}=Ze(e),{densityClasses:i}=cn(e),{borderClasses:r}=Wn(e),{elevationClasses:o}=Xt(e),{roundedClasses:a}=St(e);Rt({VBtn:{height:"auto",color:z(e,"color"),density:z(e,"density"),flat:!0,variant:z(e,"variant")}}),Y(()=>v(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},s.value,r.value,i.value,o.value,a.value]},n))}}),jo=ke({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),kr=ke({value:null,disabled:Boolean,selectedClass:String},"group-item");function zo(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const s=Yt("useGroupItem");if(!s)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const i=un();bt(Symbol.for(`${t.description}:id`),i);const r=Fe(t,null);if(!r){if(!n)return r;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=z(e,"value"),a=y(()=>r.disabled.value||e.disabled);r.register({id:i,value:o,disabled:a},s),_n(()=>{r.unregister(i)});const l=y(()=>r.isSelected(i)),u=y(()=>l.value&&[r.selectedClass.value,e.selectedClass]);return he(l,c=>{s.emit("group:selected",{value:c})}),{id:i,isSelected:l,toggle:()=>r.select(i,!l.value),select:c=>r.select(i,c),selectedClass:u,value:o,disabled:a,group:r}}function Tr(e,t){let n=!1;const s=Wt([]),i=Ie(e,"modelValue",[],h=>h==null?[]:xk(s,Bn(h)),h=>{const f=_z(s,h);return e.multiple?f:f[0]}),r=Yt("useGroup");function o(h,f){const m=h,g=Symbol.for(`${t.description}:id`),_=Na(g,r==null?void 0:r.vnode).indexOf(f);_>-1?s.splice(_,0,m):s.push(m)}function a(h){if(n)return;l();const f=s.findIndex(m=>m.id===h);s.splice(f,1)}function l(){const h=s.find(f=>!f.disabled);h&&e.mandatory==="force"&&!i.value.length&&(i.value=[h.id])}yn(()=>{l()}),_n(()=>{n=!0});function u(h,f){const m=s.find(g=>g.id===h);if(!(f&&m!=null&&m.disabled))if(e.multiple){const g=i.value.slice(),b=g.findIndex(w=>w===h),_=~b;if(f=f!=null?f:!_,_&&e.mandatory&&g.length<=1||!_&&e.max!=null&&g.length+1>e.max)return;b<0&&f?g.push(h):b>=0&&!f&&g.splice(b,1),i.value=g}else{const g=i.value.includes(h);if(e.mandatory&&g)return;i.value=(f!=null?f:!g)?[h]:[]}}function c(h){if(e.multiple&&or('This method is not supported when using "multiple" prop'),i.value.length){const f=i.value[0],m=s.findIndex(_=>_.id===f);let g=(m+h)%s.length,b=s[g];for(;b.disabled&&g!==m;)g=(g+h)%s.length,b=s[g];if(b.disabled)return;i.value=[s[g].id]}else{const f=s.find(m=>!m.disabled);f&&(i.value=[f.id])}}const d={register:o,unregister:a,selected:i,select:u,disabled:z(e,"disabled"),prev:()=>c(s.length-1),next:()=>c(1),isSelected:h=>i.value.includes(h),selectedClass:y(()=>e.selectedClass),items:y(()=>s),getItemIndex:h=>yz(s,h)};return bt(t,d),d}function yz(e,t){const n=xk(e,[t]);return n.length?e.findIndex(s=>s.id===n[0]):-1}function xk(e,t){const n=[];for(let s=0;s<e.length;s++){const i=e[s];i.value!=null?t.find(r=>Xl(r,i.value))!=null&&n.push(i.id):t.includes(s)&&n.push(i.id)}return n}function _z(e,t){const n=[];for(let s=0;s<e.length;s++){const i=e[s];t.includes(i.id)&&n.push(i.value!=null?i.value:s)}return n}const Vg=Symbol.for("vuetify:v-btn-toggle"),bz=rt()({name:"VBtnToggle",props:jo(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:s,next:i,prev:r,select:o,selected:a}=Tr(e,Vg);return Y(()=>{var l;return v(Ak,{class:"v-btn-toggle"},{default:()=>[(l=n.default)==null?void 0:l.call(n,{isSelected:s,next:i,prev:r,select:o,selected:a})]})}),{next:i,prev:r,select:o}}});const wz=["x-small","small","default","large","x-large"],si=ke({size:{type:[String,Number],default:"default"}},"size");function Ho(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ei();return Tg(()=>{let n,s;return Rc(wz,e.size)?n=`${t}--size-${e.size}`:e.size&&(s={width:le(e.size),height:le(e.size)}),{sizeClasses:n,sizeStyles:s}})}const Cz=ke({color:String,start:Boolean,end:Boolean,icon:be,...si(),...Te({tag:"i"}),...Ue()},"v-icon"),It=Q({name:"VIcon",props:Cz(),setup(e,t){let{attrs:n,slots:s}=t,i;s.default&&(i=y(()=>{var c,d;const h=(c=s.default)==null?void 0:c.call(s);if(!!h)return(d=YI(h).filter(f=>f.children&&typeof f.children=="string")[0])==null?void 0:d.children}));const{themeClasses:r}=Ze(e),{iconData:o}=Pj(i||e),{sizeClasses:a}=Ho(e),{textColorClasses:l,textColorStyles:u}=pn(z(e,"color"));return Y(()=>v(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",r.value,a.value,l.value,{"v-icon--clickable":!!n.onClick,"v-icon--start":e.start,"v-icon--end":e.end}],style:[a.value?void 0:{fontSize:le(e.size),height:le(e.size),width:le(e.size)},u.value],role:n.onClick?"button":void 0,"aria-hidden":!n.onClick},null)),{}}});function $g(e){const t=D(),n=D(!1);if(Pg){const s=new IntersectionObserver(i=>{e==null||e(i,s),n.value=!!i.find(r=>r.isIntersecting)});_n(()=>{s.disconnect()}),he(t,(i,r)=>{r&&(s.unobserve(r),n.value=!1),i&&s.observe(i)},{flush:"post"})}return{intersectionRef:t,isIntersecting:n}}const Fg=Q({name:"VProgressCircular",props:{bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...si(),...Te({tag:"div"}),...Ue()},setup(e,t){let{slots:n}=t;const s=20,i=2*Math.PI*s,r=D(),{themeClasses:o}=Ze(e),{sizeClasses:a,sizeStyles:l}=Ho(e),{textColorClasses:u,textColorStyles:c}=pn(z(e,"color")),{textColorClasses:d,textColorStyles:h}=pn(z(e,"bgColor")),{intersectionRef:f,isIntersecting:m}=$g(),{resizeRef:g,contentRect:b}=mr(),_=y(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),w=y(()=>Number(e.width)),p=y(()=>l.value?Number(e.size):b.value?b.value.width:Math.max(w.value,32)),I=y(()=>s/(1-w.value/p.value)*2),k=y(()=>w.value/p.value*I.value),T=y(()=>le((100-_.value)/100*i));return ks(()=>{f.value=r.value,g.value=r.value}),Y(()=>v(e.tag,{ref:r,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":m.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,a.value,u.value],style:[l.value,c.value],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:_.value},{default:()=>[v("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${I.value} ${I.value}`},[v("circle",{class:["v-progress-circular__underlay",d.value],style:h.value,fill:"transparent",cx:"50%",cy:"50%",r:s,"stroke-width":k.value,"stroke-dasharray":i,"stroke-dashoffset":0},null),v("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:s,"stroke-width":k.value,"stroke-dasharray":i,"stroke-dashoffset":T.value},null)]),n.default&&v("div",{class:"v-progress-circular__content"},[n.default({value:_.value})])]})),{}}});const gv=Symbol("rippleStop"),Sz=80;function Fb(e,t){e.style.transform=t,e.style.webkitTransform=t}function Hh(e,t){e.style.opacity=`calc(${t} * var(--v-theme-overlay-multiplier))`}function pv(e){return e.constructor.name==="TouchEvent"}function Rk(e){return e.constructor.name==="KeyboardEvent"}const Ez=function(e,t){var n;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,r=0;if(!Rk(e)){const h=t.getBoundingClientRect(),f=pv(e)?e.touches[e.touches.length-1]:e;i=f.clientX-h.left,r=f.clientY-h.top}let o=0,a=.3;(n=t._ripple)!=null&&n.circle?(a=.15,o=t.clientWidth/2,o=s.center?o:o+Math.sqrt((i-o)**2+(r-o)**2)/4):o=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const l=`${(t.clientWidth-o*2)/2}px`,u=`${(t.clientHeight-o*2)/2}px`,c=s.center?l:`${i-o}px`,d=s.center?u:`${r-o}px`;return{radius:o,scale:a,x:c,y:d,centerX:l,centerY:u}},$c={show(e,t){var n;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(t!=null&&(n=t._ripple)!=null&&n.enabled))return;const i=document.createElement("span"),r=document.createElement("span");i.appendChild(r),i.className="v-ripple__container",s.class&&(i.className+=` ${s.class}`);const{radius:o,scale:a,x:l,y:u,centerX:c,centerY:d}=Ez(e,t,s),h=`${o*2}px`;r.className="v-ripple__animation",r.style.width=h,r.style.height=h,t.appendChild(i);const f=window.getComputedStyle(t);f&&f.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),Fb(r,`translate(${l}, ${u}) scale3d(${a},${a},${a})`),Hh(r,0),r.dataset.activated=String(performance.now()),setTimeout(()=>{r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),Fb(r,`translate(${c}, ${d}) scale3d(1,1,1)`),Hh(r,.08)},0)},hide(e){var t;if(!(e!=null&&(t=e._ripple)!=null&&t.enabled))return;const n=e.getElementsByClassName("v-ripple__animation");if(n.length===0)return;const s=n[n.length-1];if(s.dataset.isHiding)return;s.dataset.isHiding="true";const i=performance.now()-Number(s.dataset.activated),r=Math.max(250-i,0);setTimeout(()=>{s.classList.remove("v-ripple__animation--in"),s.classList.add("v-ripple__animation--out"),Hh(s,0),setTimeout(()=>{e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),s.parentNode&&e.removeChild(s.parentNode)},300)},r)}};function Nk(e){return typeof e>"u"||!!e}function fl(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[gv])){if(e[gv]=!0,pv(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||Rk(e),n._ripple.class&&(t.class=n._ripple.class),pv(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{$c.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var s;n!=null&&(s=n._ripple)!=null&&s.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},Sz)}else $c.show(e,n,t)}}function Bb(e){e[gv]=!0}function Cn(e){const t=e.currentTarget;if(!(!t||!t._ripple)){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{Cn(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),$c.hide(t)}}function Pk(e){const t=e.currentTarget;!t||!t._ripple||(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let vl=!1;function Ok(e){!vl&&(e.keyCode===gb.enter||e.keyCode===gb.space)&&(vl=!0,fl(e))}function Dk(e){vl=!1,Cn(e)}function Lk(e){vl&&(vl=!1,Cn(e))}function Mk(e,t,n){var o;const{value:s,modifiers:i}=t,r=Nk(s);if(r||$c.hide(e),e._ripple=(o=e._ripple)!=null?o:{},e._ripple.enabled=r,e._ripple.centered=i.center,e._ripple.circle=i.circle,ov(s)&&s.class&&(e._ripple.class=s.class),r&&!n){if(i.stop){e.addEventListener("touchstart",Bb,{passive:!0}),e.addEventListener("mousedown",Bb);return}e.addEventListener("touchstart",fl,{passive:!0}),e.addEventListener("touchend",Cn,{passive:!0}),e.addEventListener("touchmove",Pk,{passive:!0}),e.addEventListener("touchcancel",Cn),e.addEventListener("mousedown",fl),e.addEventListener("mouseup",Cn),e.addEventListener("mouseleave",Cn),e.addEventListener("keydown",Ok),e.addEventListener("keyup",Dk),e.addEventListener("blur",Lk),e.addEventListener("dragstart",Cn,{passive:!0})}else!r&&n&&Vk(e)}function Vk(e){e.removeEventListener("mousedown",fl),e.removeEventListener("touchstart",fl),e.removeEventListener("touchend",Cn),e.removeEventListener("touchmove",Pk),e.removeEventListener("touchcancel",Cn),e.removeEventListener("mouseup",Cn),e.removeEventListener("mouseleave",Cn),e.removeEventListener("keydown",Ok),e.removeEventListener("keyup",Dk),e.removeEventListener("dragstart",Cn),e.removeEventListener("blur",Lk)}function Iz(e,t){Mk(e,t,!1)}function kz(e){delete e._ripple,Vk(e)}function Tz(e,t){if(t.value===t.oldValue)return;const n=Nk(t.oldValue);Mk(e,t,n)}const Ni={mounted:Iz,unmounted:kz,updated:Tz};const Bg=Q({name:"VProgressLinear",props:{active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...ft(),...Te(),...Ue()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=Ie(e,"modelValue"),{isRtl:i}=ti(),{themeClasses:r}=Ze(e),{textColorClasses:o,textColorStyles:a}=pn(e,"color"),{backgroundColorClasses:l,backgroundColorStyles:u}=Ct(y(()=>e.bgColor||e.color)),{backgroundColorClasses:c,backgroundColorStyles:d}=Ct(e,"color"),{roundedClasses:h}=St(e),{intersectionRef:f,isIntersecting:m}=$g(),g=y(()=>parseInt(e.max,10)),b=y(()=>parseInt(e.height,10)),_=y(()=>parseFloat(e.bufferValue)/g.value*100),w=y(()=>parseFloat(s.value)/g.value*100),p=y(()=>i.value!==e.reverse),I=y(()=>e.indeterminate?"fade-transition":"slide-x-transition"),k=y(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function T(C){if(!f.value)return;const{left:S,right:x,width:A}=f.value.getBoundingClientRect(),O=p.value?A-C.clientX+(x-A):C.clientX-S;s.value=Math.round(O/A*g.value)}return Y(()=>v(e.tag,{ref:f,class:["v-progress-linear",{"v-progress-linear--active":e.active&&m.value,"v-progress-linear--reverse":p.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},h.value,r.value],style:{height:e.active?le(b.value):0,"--v-progress-linear-height":le(b.value)},role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:w.value,onClick:e.clickable&&T},{default:()=>[e.stream&&v("div",{key:"stream",class:["v-progress-linear__stream",o.value],style:{...a.value,[p.value?"left":"right"]:le(-b.value),borderTop:`${le(b.value/2)} dotted`,opacity:k.value,top:`calc(50% - ${le(b.value/4)})`,width:le(100-_.value,"%"),"--v-progress-linear-stream-to":le(b.value*(p.value?1:-1))}},null),v("div",{class:["v-progress-linear__background",l.value],style:[u.value,{opacity:k.value,width:le(e.stream?_.value:100,"%")}]},null),v(ws,{name:I.value},{default:()=>[e.indeterminate?v("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(C=>v("div",{key:C,class:["v-progress-linear__indeterminate",C,c.value],style:d.value},null))]):v("div",{class:["v-progress-linear__determinate",c.value],style:[d.value,{width:le(w.value,"%")}]},null)]}),n.default&&v("div",{class:"v-progress-linear__content"},[n.default({value:w.value,buffer:_.value})])]})),{}}}),Ug=ke({loading:Boolean},"loader");function Hd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ei();return{loaderClasses:y(()=>({[`${t}--loading`]:e.loading}))}}function jg(e,t){var n;let{slots:s}=t;return v("div",{class:`${e.name}__loader`},[((n=s.default)==null?void 0:n.call(s,{color:e.color,isActive:e.active}))||v(Bg,{active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const Ub={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Ar=ke({location:String},"location");function xr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:s}=ti();return{locationStyles:y(()=>{if(!e.location)return{};const{side:r,align:o}=lv(e.location.split(" ").length>1?e.location:`${e.location} center`,s.value);function a(u){return n?n(u):0}const l={};return r!=="center"&&(t?l[Ub[r]]=`calc(100% - ${a(r)}px)`:l[r]=0),o!=="center"?t?l[Ub[o]]=`calc(100% - ${a(o)}px)`:l[o]=0:(r==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[r]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[r]),l})}}const Az=["static","relative","fixed","absolute","sticky"],Wo=ke({position:{type:String,validator:e=>Az.includes(e)}},"position");function qo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ei();return{positionClasses:y(()=>e.position?`${t}--${e.position}`:void 0)}}function $k(){var e,t;return(e=Yt("useRouter"))==null||(t=e.proxy)==null?void 0:t.$router}function Jl(e,t){const n=gA("RouterLink"),s=y(()=>!!(e.href||e.to)),i=y(()=>(s==null?void 0:s.value)||yb(t,"click")||yb(e,"click"));if(typeof n=="string")return{isLink:s,isClickable:i,href:z(e,"href")};const r=e.to?n.useLink(e):void 0;return{isLink:s,isClickable:i,route:r==null?void 0:r.route,navigate:r==null?void 0:r.navigate,isActive:r&&y(()=>{var o,a;return e.exact?(o=r.isExactActive)==null?void 0:o.value:(a=r.isActive)==null?void 0:a.value}),href:y(()=>e.to?r==null?void 0:r.route.value.href:e.href)}}const Ko=ke({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Wh=!1;function xz(e,t){let n=!1,s,i;yt&&(mt(()=>{window.addEventListener("popstate",r),s=e==null?void 0:e.beforeEach((o,a,l)=>{Wh?n?t(l):l():setTimeout(()=>n?t(l):l()),Wh=!0}),i=e==null?void 0:e.afterEach(()=>{Wh=!1})}),Is(()=>{var o,a;window.removeEventListener("popstate",r),(o=s)==null||o(),(a=i)==null||a()}));function r(o){var a;(a=o.state)!=null&&a.replaced||(n=!0,setTimeout(()=>n=!1))}}function Rz(e,t){he(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&mt(()=>{t(!0)})},{immediate:!0})}const mn=Q({name:"VBtn",directives:{Ripple:Ni},props:{active:{type:Boolean,default:void 0},symbol:{type:null,default:Vg},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:be,appendIcon:be,block:Boolean,stacked:Boolean,ripple:{type:Boolean,default:!0},...On(),...ft(),...Lt(),...os(),...Nt(),...kr(),...Ug(),...Ar(),...Wo(),...Ko(),...si(),...Te({tag:"button"}),...Ue(),...qn({variant:"elevated"})},emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:s}=t;const{themeClasses:i}=Ze(e),{borderClasses:r}=Wn(e),{colorClasses:o,colorStyles:a,variantClasses:l}=Ir(e),{densityClasses:u}=cn(e),{dimensionStyles:c}=as(e),{elevationClasses:d}=Xt(e),{loaderClasses:h}=Hd(e),{locationStyles:f}=xr(e),{positionClasses:m}=qo(e),{roundedClasses:g}=St(e),{sizeClasses:b,sizeStyles:_}=Ho(e),w=zo(e,e.symbol,!1),p=Jl(e,n),I=y(()=>{var C;return e.active!==!1&&(e.active||((C=p.isActive)==null?void 0:C.value)||(w==null?void 0:w.isSelected.value))}),k=y(()=>(w==null?void 0:w.disabled.value)||e.disabled),T=y(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border));return Rz(p,w==null?void 0:w.select),Y(()=>{var C,S,x,A;const O=p.isLink.value?"a":e.tag,N=!w||w.isSelected.value,L=!!(e.prependIcon||s.prepend),F=!!(e.appendIcon||s.append),q=!!(e.icon&&e.icon!==!0);return _t(v(O,{type:O==="a"?void 0:"button",class:["v-btn",w==null?void 0:w.selectedClass.value,{"v-btn--active":I.value,"v-btn--block":e.block,"v-btn--disabled":k.value,"v-btn--elevated":T.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--stacked":e.stacked},i.value,r.value,N?o.value:void 0,u.value,d.value,h.value,m.value,g.value,b.value,l.value],style:[N?a.value:void 0,c.value,f.value,_.value],disabled:k.value||void 0,href:p.href.value,onClick:B=>{var P;k.value||((P=p.navigate)==null||P.call(p,B),w==null||w.toggle())}},{default:()=>{var B;return[Er(!0,"v-btn"),!e.icon&&L&&v(st,{key:"prepend",defaults:{VIcon:{icon:e.prependIcon}}},{default:()=>{var P;return[v("span",{class:"v-btn__prepend"},[(P=(C=s.prepend)==null?void 0:C.call(s))!=null?P:v(It,null,null)])]}}),v("span",{class:"v-btn__content","data-no-activator":""},[v(st,{key:"content",defaults:{VIcon:{icon:q?e.icon:void 0}}},{default:()=>{var P;return[(P=(S=s.default)==null?void 0:S.call(s))!=null?P:q&&v(It,{key:"icon"},null)]}})]),!e.icon&&F&&v(st,{key:"append",defaults:{VIcon:{icon:e.appendIcon}}},{default:()=>{var P;return[v("span",{class:"v-btn__append"},[(P=(x=s.append)==null?void 0:x.call(s))!=null?P:v(It,null,null)])]}}),!!e.loading&&v("span",{key:"loader",class:"v-btn__loader"},[(B=(A=s.loader)==null?void 0:A.call(s))!=null?B:v(Fg,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[Rn("ripple"),!k.value&&e.ripple,null]])}),{}}}),Nz=Q({name:"VAppBarNavIcon",props:{icon:{type:be,default:"$menu"}},setup(e,t){let{slots:n}=t;return Y(()=>v(mn,{class:"v-app-bar-nav-icon",icon:e.icon},n)),{}}}),Pz=Q({name:"VToolbarItems",props:qn({variant:"text"}),setup(e,t){let{slots:n}=t;return Rt({VBtn:{color:z(e,"color"),height:"inherit",variant:z(e,"variant")}}),Y(()=>{var s;return v("div",{class:"v-toolbar-items"},[(s=n.default)==null?void 0:s.call(n)])}),{}}}),Oz=Q({name:"VAppBarTitle",props:{...Mc.props},setup(e,t){let{slots:n}=t;return Y(()=>v(Mc,{class:"v-app-bar-title"},n)),{}}});const Fk=Hn("v-alert-title"),Dz=["success","info","warning","error"],Lz=Q({name:"VAlert",props:{border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:be,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>Dz.includes(e)},...Lt(),...os(),...Nt(),...Ar(),...Wo(),...ft(),...Te(),...Ue(),...qn({variant:"flat"})},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=Ie(e,"modelValue"),i=y(()=>{var I;if(e.icon!==!1)return e.type?(I=e.icon)!=null?I:`$${e.type}`:e.icon}),r=y(()=>{var I;return{color:(I=e.color)!=null?I:e.type,variant:e.variant}}),{themeClasses:o}=Ze(e),{colorClasses:a,colorStyles:l,variantClasses:u}=Ir(r),{densityClasses:c}=cn(e),{dimensionStyles:d}=as(e),{elevationClasses:h}=Xt(e),{locationStyles:f}=xr(e),{positionClasses:m}=qo(e),{roundedClasses:g}=St(e),{textColorClasses:b,textColorStyles:_}=pn(z(e,"borderColor")),{t:w}=rs(),p=y(()=>({"aria-label":w(e.closeLabel),onClick(I){s.value=!1}}));return()=>{var I,k;const T=!!(n.prepend||i.value),C=!!(n.title||e.title),S=!!(e.text||n.text),x=!!(n.close||e.closable);return s.value&&v(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},o.value,a.value,c.value,h.value,m.value,g.value,u.value],style:[l.value,d.value,f.value],role:"alert"},{default:()=>[Er(!1,"v-alert"),e.border&&v("div",{key:"border",class:["v-alert__border",b.value],style:_.value},null),T&&v(st,{key:"prepend",defaults:{VIcon:{density:e.density,icon:i.value,size:e.prominent?44:28}}},{default:()=>[v("div",{class:"v-alert__prepend"},[n.prepend?n.prepend():i.value&&v(It,null,null)])]}),v("div",{class:"v-alert__content"},[C&&v(Fk,{key:"title"},{default:()=>[n.title?n.title():e.title]}),S&&(n.text?n.text():e.text),(I=n.default)==null?void 0:I.call(n)]),n.append&&v("div",{key:"append",class:"v-alert__append"},[n.append()]),x&&v(st,{key:"close",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var A;return[v("div",{class:"v-alert__close"},[(A=(k=n.close)==null?void 0:k.call(n,{props:p.value}))!=null?A:v(mn,p.value,null)])]}})]})}}});function Bk(e){const{t}=rs();function n(s){var l;let{name:i}=s;const r={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[i],o=e[`onClick:${i}`],a=o&&r?t(`$vuetify.input.${r}`,(l=e.label)!=null?l:""):void 0;return v(It,{icon:e[`${i}Icon`],"aria-label":a,onClick:o},null)}return{InputIcon:n}}const Go=Q({name:"VLabel",props:{text:String,clickable:Boolean,...Ue()},setup(e,t){let{slots:n}=t;return Y(()=>{var s;return v("label",{class:["v-label",{"v-label--clickable":e.clickable}]},[e.text,(s=n.default)==null?void 0:s.call(n)])}),{}}}),ga=Q({name:"VFieldLabel",props:{floating:Boolean},setup(e,t){let{slots:n}=t;return Y(()=>v(Go,{class:["v-field-label",{"v-field-label--floating":e.floating}],"aria-hidden":e.floating||void 0},n)),{}}}),Wd=ke({focused:Boolean},"focus");function Rr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ei();const n=Ie(e,"focused"),s=y(()=>({[`${t}--focused`]:n.value}));function i(){n.value=!0}function r(){n.value=!1}return{focusClasses:s,isFocused:n,focus:i,blur:r}}const Mz=["underlined","outlined","filled","solo","plain"],qd=ke({appendInnerIcon:be,bgColor:String,clearable:Boolean,clearIcon:{type:be,default:"$clear"},active:Boolean,color:String,dirty:Boolean,disabled:Boolean,error:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:be,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Mz.includes(e)},"onClick:clear":rr,"onClick:appendInner":rr,"onClick:prependInner":rr,...Ue(),...Ug()},"v-field"),Zl=rt()({name:"VField",inheritAttrs:!1,props:{id:String,...Wd(),...qd()},emits:{"click:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:s,slots:i}=t;const{themeClasses:r}=Ze(e),{loaderClasses:o}=Hd(e),{focusClasses:a,isFocused:l,focus:u,blur:c}=Rr(e),{InputIcon:d}=Bk(e),h=y(()=>e.dirty||e.active),f=y(()=>!e.singleLine&&!!(e.label||i.label)),m=un(),g=y(()=>e.id||`input-${m}`),b=D(),_=D(),w=D(),{backgroundColorClasses:p,backgroundColorStyles:I}=Ct(z(e,"bgColor")),{textColorClasses:k,textColorStyles:T}=pn(y(()=>h.value&&l.value&&!e.error&&!e.disabled?e.color:void 0));he(h,x=>{if(f.value){const A=b.value.$el,O=_.value.$el,N=Ag(A),L=O.getBoundingClientRect(),F=L.x-N.x,q=L.y-N.y-(N.height/2-L.height/2),B=L.width/.75,P=Math.abs(B-N.width)>1?{maxWidth:le(B)}:void 0,$=getComputedStyle(A),J=getComputedStyle(O),K=parseFloat($.transitionDuration)*1e3||150,oe=parseFloat(J.getPropertyValue("--v-field-label-scale")),re=J.getPropertyValue("color");A.style.visibility="visible",O.style.visibility="hidden",Xi(A,{transform:`translate(${F}px, ${q}px) scale(${oe})`,color:re,...P},{duration:K,easing:cl,direction:x?"normal":"reverse"}).finished.then(()=>{A.style.removeProperty("visibility"),O.style.removeProperty("visibility")})}},{flush:"post"});const C=y(()=>({isActive:h,isFocused:l,controlRef:w,blur:c,focus:u}));function S(x){x.target!==document.activeElement&&x.preventDefault(),s("click:control",x)}return Y(()=>{var x,A,O;const N=e.variant==="outlined",L=i["prepend-inner"]||e.prependInnerIcon,F=!!(e.clearable||i.clear),q=!!(i["append-inner"]||e.appendInnerIcon||F),B=i.label?i.label({label:e.label,props:{for:g.value}}):e.label;return v("div",ce({class:["v-field",{"v-field--active":h.value,"v-field--appended":q,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":L,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!B,[`v-field--variant-${e.variant}`]:!0},r.value,p.value,a.value,o.value],style:[I.value,T.value],onClick:S},n),[v("div",{class:"v-field__overlay"},null),v(jg,{name:"v-field",active:e.loading,color:e.error?"error":e.color},{default:i.loader}),L&&v("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&v(d,{key:"prepend-icon",name:"prependInner"},null),(x=i["prepend-inner"])==null?void 0:x.call(i,C.value)]),v("div",{class:"v-field__field","data-no-activator":""},[["solo","filled"].includes(e.variant)&&f.value&&v(ga,{key:"floating-label",ref:_,class:[k.value],floating:!0,for:g.value},{default:()=>[B]}),v(ga,{ref:b,for:g.value},{default:()=>[B]}),(A=i.default)==null?void 0:A.call(i,{...C.value,props:{id:g.value,class:"v-field__input"},focus:u,blur:c})]),F&&v(Lg,{key:"clear"},{default:()=>[_t(v("div",{class:"v-field__clearable"},[i.clear?i.clear():v(d,{name:"clear"},null)]),[[As,e.dirty]])]}),q&&v("div",{key:"append",class:"v-field__append-inner"},[(O=i["append-inner"])==null?void 0:O.call(i,C.value),e.appendInnerIcon&&v(d,{key:"append-icon",name:"appendInner"},null)]),v("div",{class:["v-field__outline",k.value]},[N&&v(Re,null,[v("div",{class:"v-field__outline__start"},null),f.value&&v("div",{class:"v-field__outline__notch"},[v(ga,{ref:_,floating:!0,for:g.value},{default:()=>[B]})]),v("div",{class:"v-field__outline__end"},null)]),["plain","underlined"].includes(e.variant)&&f.value&&v(ga,{ref:_,floating:!0,for:g.value},{default:()=>[B]})])])}),{controlRef:w}}});function zg(e){const t=Object.keys(Zl.props).filter(n=>!XI(n));return Nn(e,t)}const Uk=Q({name:"VMessages",props:{active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...ni({transition:{component:Dg,leaveAbsolute:!0,group:!0}})},setup(e,t){let{slots:n}=t;const s=y(()=>Bn(e.messages)),{textColorClasses:i,textColorStyles:r}=pn(y(()=>e.color));return Y(()=>v(gs,{transition:e.transition,tag:"div",class:["v-messages",i.value],style:r.value},{default:()=>[e.active&&s.value.map((o,a)=>v("div",{class:"v-messages__message",key:`${a}-${s.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),jk=Symbol.for("vuetify:form"),Vz=ke({disabled:Boolean,fastFail:Boolean,lazyValidation:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function $z(e){const t=Ie(e,"modelValue"),n=y(()=>e.disabled),s=y(()=>e.readonly),i=D(!1),r=D([]),o=D([]);async function a(){const c=[];let d=!0;o.value=[],i.value=!0;for(const h of r.value){const f=await h.validate();if(f.length>0&&(d=!1,c.push({id:h.id,errorMessages:f})),!d&&e.fastFail)break}return o.value=c,i.value=!1,{valid:d,errors:o.value}}function l(){r.value.forEach(c=>c.reset()),t.value=null}function u(){r.value.forEach(c=>c.resetValidation()),o.value=[],t.value=null}return he(r,()=>{let c=0,d=0;const h=[];for(const f of r.value)f.isValid===!1?(d++,h.push({id:f.id,errorMessages:f.errorMessages})):f.isValid===!0&&c++;o.value=h,t.value=d>0?!1:c===r.value.length?!0:null},{deep:!0}),bt(jk,{register:c=>{let{id:d,validate:h,reset:f,resetValidation:m}=c;r.value.some(g=>g.id===d)&&or(`Duplicate input name "${d}"`),r.value.push({id:d,validate:h,reset:f,resetValidation:m,isValid:null,errorMessages:[]})},unregister:c=>{r.value=r.value.filter(d=>d.id!==c)},update:(c,d,h)=>{const f=r.value.find(m=>m.id===c);!f||(f.isValid=d,f.errorMessages=h)},isDisabled:n,isReadonly:s,isValidating:i,items:r,validateOn:z(e,"validateOn")}),{errors:o,isDisabled:n,isReadonly:s,isValidating:i,items:r,validate:a,reset:l,resetValidation:u}}function Fz(){return Fe(jk,null)}const zk=ke({disabled:Boolean,error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:Boolean,rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Wd()},"validation");function Hk(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ei(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:un();const s=Ie(e,"modelValue"),i=y(()=>e.validationValue===void 0?s.value:e.validationValue),r=Fz(),o=D([]),a=D(!0),l=y(()=>!!(Bn(s.value===""?null:s.value).length||Bn(i.value===""?null:i.value).length)),u=y(()=>!!(e.disabled||r!=null&&r.isDisabled.value)),c=y(()=>!!(e.readonly||r!=null&&r.isReadonly.value)),d=y(()=>e.errorMessages.length?Bn(e.errorMessages):o.value),h=y(()=>e.error||d.value.length?!1:e.rules.length&&a.value?null:!0),f=D(!1),m=y(()=>({[`${t}--error`]:h.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:u.value,[`${t}--readonly`]:c.value})),g=y(()=>{var I;return(I=e.name)!=null?I:gt(n)});Yc(()=>{r==null||r.register({id:g.value,validate:p,reset:_,resetValidation:w})}),_n(()=>{r==null||r.unregister(g.value)});const b=y(()=>e.validateOn||(r==null?void 0:r.validateOn.value)||"input");yn(()=>r==null?void 0:r.update(g.value,h.value,d.value)),wo(()=>b.value==="input",()=>{he(i,()=>{if(i.value!=null)p();else if(e.focused){const I=he(()=>e.focused,k=>{k||p(),I()})}})}),wo(()=>b.value==="blur",()=>{he(()=>e.focused,I=>{I||p()})}),he(h,()=>{r==null||r.update(g.value,h.value,d.value)});function _(){w(),s.value=null}function w(){a.value=!0,o.value=[]}async function p(){const I=[];f.value=!0;for(const k of e.rules){if(I.length>=(e.maxErrors||1))break;const C=await(typeof k=="function"?k:()=>k)(i.value);if(C!==!0){if(typeof C!="string"){console.warn(`${C} is not a valid value. Rule functions must return boolean true or a string.`);continue}I.push(C)}}return o.value=I,f.value=!1,a.value=!1,o.value}return{errorMessages:d,isDirty:l,isDisabled:u,isReadonly:c,isPristine:a,isValid:h,isValidating:f,reset:_,resetValidation:w,validate:p,validationClasses:m}}const ii=ke({id:String,appendIcon:be,prependIcon:be,hideDetails:[Boolean,String],messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":rr,"onClick:append":rr,...Lt(),...zk()},"v-input"),Ns=rt()({name:"VInput",props:{...ii()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:s,emit:i}=t;const{densityClasses:r}=cn(e),{InputIcon:o}=Bk(e),a=un(),l=y(()=>e.id||`input-${a}`),{errorMessages:u,isDirty:c,isDisabled:d,isReadonly:h,isPristine:f,isValid:m,isValidating:g,reset:b,resetValidation:_,validate:w,validationClasses:p}=Hk(e,"v-input",l),I=y(()=>({id:l,isDirty:c,isDisabled:d,isReadonly:h,isPristine:f,isValid:m,isValidating:g,reset:b,resetValidation:_,validate:w}));return Y(()=>{var k,T,C,S,x;const A=!!(s.prepend||e.prependIcon),O=!!(s.append||e.appendIcon),N=!!((k=e.messages)!=null&&k.length||u.value.length),L=!e.hideDetails||e.hideDetails==="auto"&&(N||!!s.details);return v("div",{class:["v-input",`v-input--${e.direction}`,r.value,p.value]},[A&&v("div",{key:"prepend",class:"v-input__prepend"},[(T=s.prepend)==null?void 0:T.call(s,I.value),e.prependIcon&&v(o,{key:"prepend-icon",name:"prepend"},null)]),s.default&&v("div",{class:"v-input__control"},[(C=s.default)==null?void 0:C.call(s,I.value)]),O&&v("div",{key:"append",class:"v-input__append"},[e.appendIcon&&v(o,{key:"append-icon",name:"append"},null),(S=s.append)==null?void 0:S.call(s,I.value)]),L&&v("div",{class:"v-input__details"},[v(Uk,{active:N,messages:u.value.length>0?u.value:e.messages},{message:s.message}),(x=s.details)==null?void 0:x.call(s,I.value)])])}),{reset:b,resetValidation:_,validate:w}}});function Pi(e){const t=Object.keys(Ns.props).filter(n=>!XI(n));return Nn(e,t)}const Kd=Q({name:"VCounter",functional:!0,props:{active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ni({transition:{component:Dg}})},setup(e,t){let{slots:n}=t;const s=y(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Y(()=>v(gs,{transition:e.transition},{default:()=>[_t(v("div",{class:"v-counter"},[n.default?n.default({counter:s.value,max:e.max,value:e.value}):s.value]),[[As,e.active]])]})),{}}}),qh=Symbol("Forwarded refs");function ls(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return e[qh]=n,new Proxy(e,{get(i,r){if(Reflect.has(i,r))return Reflect.get(i,r);for(const o of n)if(o.value&&Reflect.has(o.value,r)){const a=Reflect.get(o.value,r);return typeof a=="function"?a.bind(o.value):a}},getOwnPropertyDescriptor(i,r){const o=Reflect.getOwnPropertyDescriptor(i,r);if(o)return o;if(!(typeof r=="symbol"||r.startsWith("__"))){for(const a of n){if(!a.value)continue;const l=Reflect.getOwnPropertyDescriptor(a.value,r);if(l)return l;if("_"in a.value&&"setupState"in a.value._){const u=Reflect.getOwnPropertyDescriptor(a.value._.setupState,r);if(u)return u}}for(const a of n){let l=a.value&&Object.getPrototypeOf(a.value);for(;l;){const u=Reflect.getOwnPropertyDescriptor(l,r);if(u)return u;l=Object.getPrototypeOf(l)}}for(const a of n){const l=a.value&&a.value[qh];if(!l)continue;const u=l.slice();for(;u.length;){const c=u.shift(),d=Reflect.getOwnPropertyDescriptor(c.value,r);if(d)return d;const h=c.value&&c.value[qh];h&&u.push(...h)}}}}})}const Bz=["color","file","time","date","datetime-local","week","month"],Gd=ke({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},...ii(),...qd()},"v-text-field"),eu=rt()({name:"VTextField",directives:{Intersect:Ql},inheritAttrs:!1,props:Gd(),emits:{"click:control":e=>!0,"click:input":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:s,slots:i}=t;const r=Ie(e,"modelValue"),{isFocused:o,focus:a,blur:l}=Rr(e),u=y(()=>{var k;return typeof e.counterValue=="function"?e.counterValue(r.value):((k=r.value)!=null?k:"").toString().length}),c=y(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function d(k,T){var C,S;!e.autofocus||!k||(C=T[0].target)==null||(S=C.focus)==null||S.call(C)}const h=D(),f=D(),m=D(),g=y(()=>Bz.includes(e.type)||e.persistentPlaceholder||o.value),b=y(()=>e.messages.length?e.messages:o.value||e.persistentHint?e.hint:"");function _(){if(m.value!==document.activeElement){var k;(k=m.value)==null||k.focus()}o.value||a()}function w(k){_(),s("click:control",k)}function p(k){k.stopPropagation(),_(),mt(()=>{r.value=null,Nc(e["onClick:clear"],k)})}function I(k){r.value=k.target.value}return Y(()=>{const k=!!(i.counter||e.counter||e.counterValue),T=!!(k||i.details),[C,S]=Sr(n),[{modelValue:x,...A}]=Pi(e),[O]=zg(e);return v(Ns,ce({ref:h,modelValue:r.value,"onUpdate:modelValue":N=>r.value=N,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},C,A,{focused:o.value,messages:b.value}),{...i,default:N=>{let{id:L,isDisabled:F,isDirty:q,isReadonly:B,isValid:P}=N;return v(Zl,ce({ref:f,onMousedown:$=>{$.target!==m.value&&$.preventDefault()},"onClick:control":w,"onClick:clear":p,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},O,{id:L.value,active:g.value||q.value,dirty:q.value||e.dirty,focused:o.value,error:P.value===!1}),{...i,default:$=>{let{props:{class:J,...K}}=$;const oe=_t(v("input",ce({ref:m,value:r.value,onInput:I,autofocus:e.autofocus,readonly:B.value,disabled:F.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:_,onBlur:l},K,S),null),[[Rn("intersect"),{handler:d},null,{once:!0}]]);return v(Re,null,[e.prefix&&v("span",{class:"v-text-field__prefix"},[e.prefix]),i.default?v("div",{class:J,onClick:re=>s("click:input",re),"data-no-activator":""},[i.default(),oe]):js(oe,{class:J}),e.suffix&&v("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:T?N=>{var L;return v(Re,null,[(L=i.details)==null?void 0:L.call(i,N),k&&v(Re,null,[v("span",null,null),v(Kd,{active:e.persistentCounter||o.value,value:u.value,max:c.value},i.counter)])])}:void 0})}),ls({},h,f,m)}});function Hg(e){return Nn(e,Object.keys(eu.props))}const Wk=Symbol.for("vuetify:selection-control-group"),Wg=ke({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:be,trueIcon:be,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:Xl},...Ue(),...Lt()},"v-selection-control-group"),qk=Q({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...Wg()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=Ie(e,"modelValue"),i=un(),r=y(()=>e.id||`v-selection-control-group-${i}`),o=y(()=>e.name||r.value);return bt(Wk,{modelValue:s}),Rt({[e.defaultsTarget]:{color:z(e,"color"),disabled:z(e,"disabled"),density:z(e,"density"),error:z(e,"error"),inline:z(e,"inline"),modelValue:s,multiple:y(()=>!!e.multiple||e.multiple==null&&Array.isArray(s.value)),name:o,falseIcon:z(e,"falseIcon"),trueIcon:z(e,"trueIcon"),readonly:z(e,"readonly"),ripple:z(e,"ripple"),type:z(e,"type"),valueComparator:z(e,"valueComparator")}}),Y(()=>{var a;return v("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline}],"aria-labelled-by":e.type==="radio"?r.value:void 0,role:e.type==="radio"?"radiogroup":void 0},[(a=n.default)==null?void 0:a.call(n)])}),{}}}),Yd=ke({label:String,trueValue:null,falseValue:null,value:null,...Wg()},"v-selection-control");function Uz(e){const t=Fe(Wk,void 0),{densityClasses:n}=cn(e),s=Ie(e,"modelValue"),i=y(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),r=y(()=>e.falseValue!==void 0?e.falseValue:!1),o=y(()=>!!e.multiple||e.multiple==null&&Array.isArray(s.value)),a=y({get(){const d=t?t.modelValue.value:s.value;return o.value?d.some(h=>e.valueComparator(h,i.value)):e.valueComparator(d,i.value)},set(d){if(e.readonly)return;const h=d?i.value:r.value;let f=h;o.value&&(f=d?[...Bn(s.value),h]:Bn(s.value).filter(m=>!e.valueComparator(m,i.value))),t?t.modelValue.value=f:s.value=f}}),{textColorClasses:l,textColorStyles:u}=pn(y(()=>a.value&&!e.error&&!e.disabled?e.color:void 0)),c=y(()=>a.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:i,falseValue:r,model:a,textColorClasses:l,textColorStyles:u,icon:c}}const tu=rt()({name:"VSelectionControl",directives:{Ripple:Ni},inheritAttrs:!1,props:Yd(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:s}=t;const{densityClasses:i,icon:r,model:o,textColorClasses:a,textColorStyles:l,trueValue:u}=Uz(e),c=un(),d=y(()=>e.id||`input-${c}`),h=D(!1),f=D(!1),m=D();function g(w){h.value=!0,(!hv||hv&&w.target.matches(":focus-visible"))&&(f.value=!0)}function b(){h.value=!1,f.value=!1}function _(w){o.value=w.target.checked}return Y(()=>{var w,p;const I=s.label?s.label({label:e.label,props:{for:d.value}}):e.label,[k,T]=Sr(n);return v("div",ce({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":h.value,"v-selection-control--focus-visible":f.value,"v-selection-control--inline":e.inline},i.value]},k),[v("div",{class:["v-selection-control__wrapper",a.value],style:l.value},[(w=s.default)==null?void 0:w.call(s),_t(v("div",{class:["v-selection-control__input"]},[r.value&&v(It,{key:"icon",icon:r.value},null),v("input",ce({ref:m,checked:o.value,disabled:e.disabled,id:d.value,onBlur:b,onFocus:g,onInput:_,"aria-readonly":e.readonly,type:e.type,value:u.value,name:e.name,"aria-checked":e.type==="checkbox"?o.value:void 0},T),null),(p=s.input)==null?void 0:p.call(s,{model:o,textColorClasses:a,textColorStyles:l,props:{onFocus:g,onBlur:b,id:d.value}})]),[[Rn("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),I&&v(Go,{for:d.value,clickable:!0},{default:()=>[I]})])}),{isFocused:h,input:m}}});function Kk(e){return Nn(e,Object.keys(tu.props))}const Gk=ke({indeterminate:Boolean,indeterminateIcon:{type:be,default:"$checkboxIndeterminate"},...Yd({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),Yo=Q({name:"VCheckboxBtn",props:Gk(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const s=Ie(e,"indeterminate"),i=Ie(e,"modelValue");function r(l){s.value&&(s.value=!1)}const o=y(()=>e.indeterminate?e.indeterminateIcon:e.falseIcon),a=y(()=>e.indeterminate?e.indeterminateIcon:e.trueIcon);return Y(()=>v(tu,ce(e,{modelValue:i.value,"onUpdate:modelValue":[l=>i.value=l,r],class:"v-checkbox-btn",type:"checkbox",inline:!0,falseIcon:o.value,trueIcon:a.value,"aria-checked":e.indeterminate?"mixed":void 0}),n)),{}}});function jz(e){return Nn(e,Object.keys(Yo.props))}const zz=Q({name:"VCheckbox",inheritAttrs:!1,props:{...ii(),...Gk()},emits:{"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:s}=t;const{isFocused:i,focus:r,blur:o}=Rr(e),a=un(),l=y(()=>e.id||`checkbox-${a}`);return Y(()=>{const[u,c]=Sr(n),[d,h]=Pi(e),[f,m]=jz(e);return v(Ns,ce({class:"v-checkbox"},u,d,{id:l.value,focused:i.value}),{...s,default:g=>{let{id:b,isDisabled:_,isReadonly:w}=g;return v(Yo,ce(f,{id:b.value,disabled:_.value,readonly:w.value},c,{onFocus:r,onBlur:o}),s)}})}),{}}});const Hz=ke({start:Boolean,end:Boolean,icon:be,image:String,...Lt(),...ft(),...si(),...Te(),...qn({variant:"flat"})},"v-avatar"),Ai=Q({name:"VAvatar",props:Hz(),setup(e,t){let{slots:n}=t;const{colorClasses:s,colorStyles:i,variantClasses:r}=Ir(e),{densityClasses:o}=cn(e),{roundedClasses:a}=St(e),{sizeClasses:l,sizeStyles:u}=Ho(e);return Y(()=>{var c;return v(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},s.value,o.value,a.value,l.value,r.value],style:[i.value,u.value]},{default:()=>[e.image?v(Uo,{key:"image",src:e.image,alt:""},null):e.icon?v(It,{key:"icon",icon:e.icon},null):(c=n.default)==null?void 0:c.call(n),Er(!1,"v-avatar")]})}),{}}});const Yk=Symbol.for("vuetify:v-chip-group"),Wz=Q({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Xl},...jo({selectedClass:"v-chip--selected"}),...Te(),...Ue(),...qn({variant:"tonal"})},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:s}=Ze(e),{isSelected:i,select:r,next:o,prev:a,selected:l}=Tr(e,Yk);return Rt({VChip:{color:z(e,"color"),filter:z(e,"filter"),variant:z(e,"variant")}}),Y(()=>{var u;return v(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},s.value]},{default:()=>[(u=n.default)==null?void 0:u.call(n,{isSelected:i,select:r,next:o,prev:a,selected:l.value})]})}),{}}}),nu=Q({name:"VChip",directives:{Ripple:Ni},props:{activeClass:String,appendAvatar:String,appendIcon:be,closable:Boolean,closeIcon:{type:be,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,pill:Boolean,prependAvatar:String,prependIcon:be,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},...On(),...Lt(),...Nt(),...kr(),...ft(),...Ko(),...si(),...Te({tag:"span"}),...Ue(),...qn({variant:"tonal"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0},setup(e,t){let{attrs:n,emit:s,slots:i}=t;const{borderClasses:r}=Wn(e),{colorClasses:o,colorStyles:a,variantClasses:l}=Ir(e),{densityClasses:u}=cn(e),{elevationClasses:c}=Xt(e),{roundedClasses:d}=St(e),{sizeClasses:h}=Ho(e),{themeClasses:f}=Ze(e),m=Ie(e,"modelValue"),g=zo(e,Yk,!1),b=Jl(e,n);function _(w){m.value=!1,s("click:close",w)}return()=>{var w;const p=b.isLink.value?"a":e.tag,I=!!(i.append||e.appendIcon||e.appendAvatar),k=!!(i.close||e.closable),T=!!(i.filter||e.filter)&&g,C=!!(i.prepend||e.prependIcon||e.prependAvatar),S=!g||g.isSelected.value,x=!e.disabled&&(!!g||b.isClickable.value||e.link),A=e.link?e.link:g==null?void 0:g.toggle;return m.value&&_t(v(p,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":x,"v-chip--filter":T,"v-chip--pill":e.pill},f.value,r.value,S?o.value:void 0,u.value,c.value,d.value,h.value,l.value,g==null?void 0:g.selectedClass.value],style:[S?a.value:void 0],disabled:e.disabled||void 0,draggable:e.draggable,href:b.href.value,onClick:x&&A},{default:()=>{var O;return[Er(x,"v-chip"),T&&v(st,{key:"filter",defaults:{VIcon:{icon:e.filterIcon}}},{default:()=>[v(Lg,null,{default:()=>[_t(v("div",{class:"v-chip__filter"},[i.filter?i.filter():v(It,null,null)]),[[As,g.isSelected.value]])]})]}),C&&v(st,{key:"prepend",defaults:{VAvatar:{image:e.prependAvatar},VIcon:{icon:e.prependIcon}}},{default:()=>[i.prepend?v("div",{class:"v-chip__prepend"},[i.prepend()]):e.prependAvatar?v(Ai,{start:!0},null):e.prependIcon?v(It,{start:!0},null):void 0]}),(O=(w=i.default)==null?void 0:w.call(i,{isSelected:g==null?void 0:g.isSelected.value,selectedClass:g==null?void 0:g.selectedClass.value,select:g==null?void 0:g.select,toggle:g==null?void 0:g.toggle,value:g==null?void 0:g.value.value,disabled:e.disabled}))!=null?O:e.text,I&&v(st,{key:"append",defaults:{VAvatar:{image:e.appendAvatar},VIcon:{icon:e.appendIcon}}},{default:()=>[i.append?v("div",{class:"v-chip__append"},[i.append()]):e.appendAvatar?v(Ai,{end:!0},null):e.appendIcon?v(It,{end:!0},null):void 0]}),k&&v(st,{key:"close",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},{default:()=>[v("div",{class:"v-chip__close",onClick:_},[i.close?i.close():v(It,null,null)])]})]}}),[[Rn("ripple"),x&&e.ripple,null]])}}});const Xk=Q({name:"VDivider",props:{color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...Ue()},setup(e,t){let{attrs:n}=t;const{themeClasses:s}=Ze(e),{backgroundColorClasses:i,backgroundColorStyles:r}=Ct(z(e,"color")),o=y(()=>{const a={};return e.length&&(a[e.vertical?"maxHeight":"maxWidth"]=le(e.length)),e.thickness&&(a[e.vertical?"borderRightWidth":"borderTopWidth"]=le(e.thickness)),a});return Y(()=>v("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},s.value,i.value],style:[o.value,r.value],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null)),{}}}),yv=Symbol.for("vuetify:list");function Qk(){const e=Fe(yv,{hasPrepend:D(!1),updateHasPrepend:()=>null}),t={hasPrepend:D(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return bt(yv,t),e}function Jk(){return Fe(yv,null)}const qz={open:e=>{let{id:t,value:n,opened:s,parents:i}=e;if(n){const r=new Set;r.add(t);let o=i.get(t);for(;o!=null;)r.add(o),o=i.get(o);return r}else return s.delete(t),s},select:()=>null},Zk={open:e=>{let{id:t,value:n,opened:s,parents:i}=e;if(n){let r=i.get(t);for(s.add(t);r!=null&&r!==t;)s.add(r),r=i.get(r);return s}else s.delete(t);return s},select:()=>null},Kz={open:Zk.open,select:e=>{let{id:t,value:n,opened:s,parents:i}=e;if(!n)return s;const r=[];let o=i.get(t);for(;o!=null;)r.push(o),o=i.get(o);return new Set(r)}},qg=e=>{const t={select:n=>{let{id:s,value:i,selected:r}=n;if(e&&!i){const o=Array.from(r.entries()).reduce((a,l)=>{let[u,c]=l;return c==="on"?[...a,u]:a},[]);if(o.length===1&&o[0]===s)return r}return r.set(s,i?"on":"off"),r},in:(n,s,i)=>{let r=new Map;for(const o of n||[])r=t.select({id:o,value:!0,selected:new Map(r),children:s,parents:i});return r},out:n=>{const s=[];for(const[i,r]of n.entries())r==="on"&&s.push(i);return s}};return t},eT=e=>{const t=qg(e);return{select:s=>{let{selected:i,id:r,...o}=s;const a=i.has(r)?new Map([[r,i.get(r)]]):new Map;return t.select({...o,id:r,selected:a})},in:(s,i,r)=>{let o=new Map;return s!=null&&s.length&&(o=t.in(s.slice(0,1),i,r)),o},out:(s,i,r)=>t.out(s,i,r)}},Gz=e=>{const t=qg(e);return{select:s=>{let{id:i,selected:r,children:o,...a}=s;return o.has(i)?r:t.select({id:i,selected:r,children:o,...a})},in:t.in,out:t.out}},Yz=e=>{const t=eT(e);return{select:s=>{let{id:i,selected:r,children:o,...a}=s;return o.has(i)?r:t.select({id:i,selected:r,children:o,...a})},in:t.in,out:t.out}},Xz=e=>{const t={select:n=>{let{id:s,value:i,selected:r,children:o,parents:a}=n;const l=new Map(r),u=[s];for(;u.length;){const d=u.shift();r.set(d,i?"on":"off"),o.has(d)&&u.push(...o.get(d))}let c=a.get(s);for(;c;){const d=o.get(c),h=d.every(m=>r.get(m)==="on"),f=d.every(m=>!r.has(m)||r.get(m)==="off");r.set(c,h?"on":f?"off":"indeterminate"),c=a.get(c)}return e&&!i&&Array.from(r.entries()).reduce((h,f)=>{let[m,g]=f;return g==="on"?[...h,m]:h},[]).length===0?l:r},in:(n,s,i)=>{let r=new Map;for(const o of n||[])r=t.select({id:o,value:!0,selected:new Map(r),children:s,parents:i});return r},out:(n,s)=>{const i=[];for(const[r,o]of n.entries())o==="on"&&!s.has(r)&&i.push(r);return i}};return t},ml=Symbol.for("vuetify:nested"),tT={id:D(),root:{register:()=>null,unregister:()=>null,parents:D(new Map),children:D(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:D(new Set),selected:D(new Map),selectedValues:D([])}},Qz=ke({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),Jz=e=>{let t=!1;const n=D(new Map),s=D(new Map),i=Ie(e,"opened",e.opened,d=>new Set(d),d=>[...d.values()]),r=y(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return Yz(e.mandatory);case"leaf":return Gz(e.mandatory);case"independent":return qg(e.mandatory);case"single-independent":return eT(e.mandatory);case"classic":default:return Xz(e.mandatory)}}),o=y(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return Kz;case"single":return qz;case"multiple":default:return Zk}}),a=Ie(e,"selected",e.selected,d=>r.value.in(d,n.value,s.value),d=>r.value.out(d,n.value,s.value));_n(()=>{t=!0});function l(d){const h=[];let f=d;for(;f!=null;)h.unshift(f),f=s.value.get(f);return h}const u=Yt("nested"),c={id:D(),root:{opened:i,selected:a,selectedValues:y(()=>{const d=[];for(const[h,f]of a.value.entries())f==="on"&&d.push(h);return d}),register:(d,h,f)=>{h&&d!==h&&s.value.set(d,h),f&&n.value.set(d,[]),h!=null&&n.value.set(h,[...n.value.get(h)||[],d])},unregister:d=>{var f;if(t)return;n.value.delete(d);const h=s.value.get(d);if(h){const m=(f=n.value.get(h))!=null?f:[];n.value.set(h,m.filter(g=>g!==d))}s.value.delete(d),i.value.delete(d)},open:(d,h,f)=>{u.emit("click:open",{id:d,value:h,path:l(d),event:f});const m=o.value.open({id:d,value:h,opened:new Set(i.value),children:n.value,parents:s.value,event:f});m&&(i.value=m)},openOnSelect:(d,h,f)=>{const m=o.value.select({id:d,value:h,selected:new Map(a.value),opened:new Set(i.value),children:n.value,parents:s.value,event:f});m&&(i.value=m)},select:(d,h,f)=>{u.emit("click:select",{id:d,value:h,path:l(d),event:f});const m=r.value.select({id:d,value:h,selected:new Map(a.value),children:n.value,parents:s.value,event:f});m&&(a.value=m),c.root.openOnSelect(d,h,f)},children:n,parents:s}};return bt(ml,c),c.root},nT=(e,t)=>{const n=Fe(ml,tT),s=y(()=>{var r;return(r=e.value)!=null?r:Symbol(un())}),i={...n,id:s,open:(r,o)=>n.root.open(s.value,r,o),openOnSelect:(r,o)=>n.root.openOnSelect(s.value,r,o),isOpen:y(()=>n.root.opened.value.has(s.value)),parent:y(()=>n.root.parents.value.get(s.value)),select:(r,o)=>n.root.select(s.value,r,o),isSelected:y(()=>n.root.selected.value.get(s.value)==="on"),isIndeterminate:y(()=>n.root.selected.value.get(s.value)==="indeterminate"),isLeaf:y(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(s.value,n.id.value,t),_n(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),t&&bt(ml,i),i},Zz=()=>{const e=Fe(ml,tT);bt(ml,{...e,isGroupActivator:!0})},eH=Q({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return Zz(),()=>{var s;return(s=n.default)==null?void 0:s.call(n)}}}),tH=ke({activeColor:String,color:String,collapseIcon:{type:be,default:"$collapse"},expandIcon:{type:be,default:"$expand"},prependIcon:be,appendIcon:be,fluid:Boolean,subgroup:Boolean,value:null,...Te()},"v-list-group"),Kg=rt()({name:"VListGroup",props:{title:String,...tH()},setup(e,t){let{slots:n}=t;const{isOpen:s,open:i,id:r}=nT(z(e,"value"),!0),o=y(()=>`v-list-group--id-${String(r.value)}`),a=Jk();function l(d){i(!s.value,d)}const u=y(()=>({onClick:l,class:"v-list-group__header",id:o.value})),c=y(()=>s.value?e.collapseIcon:e.expandIcon);return Y(()=>{var d;return v(e.tag,{class:["v-list-group",{"v-list-group--prepend":a==null?void 0:a.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup}]},{default:()=>[n.activator&&v(st,{defaults:{VListItem:{active:s.value,activeColor:e.activeColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&c.value,appendIcon:e.appendIcon||!e.subgroup&&c.value,title:e.title,value:e.value}}},{default:()=>[v(eH,null,{default:()=>[n.activator({props:u.value,isOpen:s})]})]}),v(zd,null,{default:()=>[_t(v("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(d=n.default)==null?void 0:d.call(n)]),[[As,s.value]])]})]})}),{}}});function nH(e){return Nn(e,Object.keys(Kg.props))}const sT=Hn("v-list-item-subtitle"),iT=Hn("v-list-item-title"),Xs=rt()({name:"VListItem",directives:{Ripple:Ni},props:{active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:be,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:be,subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:rr,onClickOnce:rr,...On(),...Lt(),...os(),...Nt(),...ft(),...Ko(),...Te(),...Ue(),...qn({variant:"text"})},emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:s,emit:i}=t;const r=Jl(e,n),o=y(()=>{var P;return(P=e.value)!=null?P:r.href.value}),{select:a,isSelected:l,isIndeterminate:u,isGroupActivator:c,root:d,parent:h,openOnSelect:f}=nT(o,!1),m=Jk(),g=y(()=>{var P;return e.active!==!1&&(e.active||((P=r.isActive)==null?void 0:P.value)||l.value)}),b=y(()=>e.link!==!1&&r.isLink.value),_=y(()=>!e.disabled&&e.link!==!1&&(e.link||r.isClickable.value||e.value!=null&&!!m)),w=y(()=>e.rounded||e.nav),p=y(()=>{var P;return{color:g.value&&(P=e.activeColor)!=null?P:e.color,variant:e.variant}});he(()=>{var P;return(P=r.isActive)==null?void 0:P.value},P=>{P&&h.value!=null&&d.open(h.value,!0),P&&f(P)},{immediate:!0});const{themeClasses:I}=Ze(e),{borderClasses:k}=Wn(e),{colorClasses:T,colorStyles:C,variantClasses:S}=Ir(p),{densityClasses:x}=cn(e),{dimensionStyles:A}=as(e),{elevationClasses:O}=Xt(e),{roundedClasses:N}=St(w),L=y(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),F=y(()=>({isActive:g.value,select:a,isSelected:l.value,isIndeterminate:u.value}));function q(P){var $;i("click",P),!(c||!_.value)&&(($=r.navigate)==null||$.call(r,P),e.value!=null&&a(!l.value,P))}function B(P){(P.key==="Enter"||P.key===" ")&&(P.preventDefault(),q(P))}return Y(()=>{var P,$,J,K,oe;const re=b.value?"a":e.tag,Me=!m||l.value||g.value,ne=s.title||e.title,M=s.subtitle||e.subtitle,j=!!(s.append||e.appendAvatar||e.appendIcon),Z=!!(s.prepend||e.prependAvatar||e.prependIcon);return m==null||m.updateHasPrepend(Z),_t(v(re,{class:["v-list-item",{"v-list-item--active":g.value,"v-list-item--disabled":e.disabled,"v-list-item--link":_.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!Z&&(m==null?void 0:m.hasPrepend.value),[`${e.activeClass}`]:e.activeClass&&g.value},I.value,k.value,Me?T.value:void 0,x.value,O.value,L.value,N.value,S.value],style:[Me?C.value:void 0,A.value],href:r.href.value,tabindex:_.value?0:void 0,onClick:q,onKeydown:_.value&&!b.value&&B},{default:()=>[Er(_.value||g.value,"v-list-item"),Z&&v(st,{key:"prepend",defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>[v("div",{class:"v-list-item__prepend"},[e.prependAvatar&&v(Ai,{key:"prepend-avatar"},null),e.prependIcon&&v(It,{key:"prepend-icon"},null),(P=s.prepend)==null?void 0:P.call(s,F.value)])]}),v("div",{class:"v-list-item__content"},[ne&&v(iT,{key:"title"},{default:()=>{var de;return[(de=($=s.title)==null?void 0:$.call(s,{title:e.title}))!=null?de:e.title]}}),M&&v(sT,{key:"subtitle"},{default:()=>{var de;return[(de=(J=s.subtitle)==null?void 0:J.call(s,{subtitle:e.subtitle}))!=null?de:e.subtitle]}}),(K=s.default)==null?void 0:K.call(s,F.value)]),j&&v(st,{key:"append",defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>[v("div",{class:"v-list-item__append"},[(oe=s.append)==null?void 0:oe.call(s,F.value),e.appendIcon&&v(It,{key:"append-icon"},null),e.appendAvatar&&v(Ai,{key:"append-avatar"},null)])]})]}),[[Rn("ripple"),_.value]])}),{}}}),rT=Q({name:"VListSubheader",props:{color:String,inset:Boolean,sticky:Boolean,title:String,...Te()},setup(e,t){let{slots:n}=t;const{textColorClasses:s,textColorStyles:i}=pn(z(e,"color"));return Y(()=>{var r;const o=!!(n.default||e.title);return v(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},s.value],style:{textColorStyles:i}},{default:()=>{var a;return[o&&v("div",{class:"v-list-subheader__text"},[(a=(r=n.default)==null?void 0:r.call(n))!=null?a:e.title])]}})}),{}}}),oT=rt()({name:"VListChildren",props:{items:Array},setup(e,t){let{slots:n}=t;return Qk(),()=>{var r;var s,i;return(r=(s=n.default)==null?void 0:s.call(n))!=null?r:(i=e.items)==null?void 0:i.map(o=>{var b,_;let{children:a,props:l,type:u,raw:c}=o;if(u==="divider"){var d;return(b=(d=n.divider)==null?void 0:d.call(n,{props:l}))!=null?b:v(Xk,l,null)}if(u==="subheader"){var h;return(_=(h=n.subheader)==null?void 0:h.call(n,{props:l}))!=null?_:v(rT,l,{default:n.subheader})}const f={subtitle:n.subtitle?w=>{var p;return(p=n.subtitle)==null?void 0:p.call(n,{...w,item:c})}:void 0,prepend:n.prepend?w=>{var p;return(p=n.prepend)==null?void 0:p.call(n,{...w,item:c})}:void 0,append:n.append?w=>{var p;return(p=n.append)==null?void 0:p.call(n,{...w,item:c})}:void 0,default:n.default?w=>{var p;return(p=n.default)==null?void 0:p.call(n,{...w,item:c})}:void 0,title:n.title?w=>{var p;return(p=n.title)==null?void 0:p.call(n,{...w,item:c})}:void 0},[m,g]=nH(l);return a?v(Kg,ce({value:l==null?void 0:l.value},m),{activator:w=>{let{props:p}=w;return n.header?n.header({...l,...p}):v(Xs,ce(l,p),f)},default:()=>v(oT,{items:a},n)}):n.item?n.item(l):v(Xs,l,f)})}}}),aT=ke({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"item");function qr(e,t){var a;const n=vs(t,e.itemTitle,t),s=e.returnObject?t:vs(t,e.itemValue,n),i=vs(t,e.itemChildren),r=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?Nn(t,["children"])[1]:t:void 0:vs(t,e.itemProps),o={title:n,value:s,...r};return{title:String((a=o.title)!=null?a:""),value:o.value,props:o,children:Array.isArray(i)?lT(e,i):void 0,raw:t}}function lT(e,t){const n=[];for(const s of t)n.push(qr(e,s));return n}function Gg(e){const t=y(()=>lT(e,e.items));function n(i){return i.map(r=>qr(e,r))}function s(i){return i.map(r=>{let{props:o}=r;return o.value})}return{items:t,transformIn:n,transformOut:s}}function sH(e,t){const n=vs(t,e.itemType,"item"),s=typeof t=="string"?t:vs(t,e.itemTitle),i=vs(t,e.itemValue,void 0),r=vs(t,e.itemChildren),o=e.itemProps===!0?Nn(t,["children"])[1]:vs(t,e.itemProps),a={title:s,value:i,...o};return{type:n,title:a.title,value:a.value,props:a,children:n==="item"&&r?uT(e,r):void 0,raw:t}}function uT(e,t){const n=[];for(const s of t)n.push(sH(e,s));return n}function iH(e){return{items:y(()=>uT(e,e.items))}}const Xd=rt()({name:"VList",props:{activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...Qz({selectStrategy:"single-leaf",openStrategy:"list"}),...On(),...Lt(),...os(),...Nt(),itemType:{type:String,default:"type"},...aT(),...ft(),...Te(),...Ue(),...qn({variant:"text"})},emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:s}=iH(e),{themeClasses:i}=Ze(e),{backgroundColorClasses:r,backgroundColorStyles:o}=Ct(z(e,"bgColor")),{borderClasses:a}=Wn(e),{densityClasses:l}=cn(e),{dimensionStyles:u}=as(e),{elevationClasses:c}=Xt(e),{roundedClasses:d}=St(e),{open:h,select:f}=Jz(e),m=y(()=>e.lines?`v-list--${e.lines}-line`:void 0),g=z(e,"activeColor"),b=z(e,"color");Qk(),Rt({VListGroup:{activeColor:g,color:b},VListItem:{activeClass:z(e,"activeClass"),activeColor:g,color:b,density:z(e,"density"),disabled:z(e,"disabled"),lines:z(e,"lines"),nav:z(e,"nav"),variant:z(e,"variant")}});const _=D(!1),w=D();function p(S){_.value=!0}function I(S){_.value=!1}function k(S){var x;!_.value&&!(S.relatedTarget&&(x=w.value)!=null&&x.contains(S.relatedTarget))&&C()}function T(S){if(!!w.value){if(S.key==="ArrowDown")C("next");else if(S.key==="ArrowUp")C("prev");else if(S.key==="Home")C("first");else if(S.key==="End")C("last");else return;S.preventDefault()}}function C(S){if(!w.value)return;const x=[...w.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(F=>!F.hasAttribute("disabled")),A=x.indexOf(document.activeElement);if(S)if(S==="first"){var N;(N=x[0])==null||N.focus()}else if(S==="last"){var L;(L=x.at(-1))==null||L.focus()}else{let F,q=A;const B=S==="next"?1:-1;do q+=B,F=x[q];while((!F||F.offsetParent==null)&&q<x.length&&q>=0);F?F.focus():C(S==="next"?"first":"last")}else{var O;(O=x[0])==null||O.focus()}}return Y(()=>v(e.tag,{ref:w,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav},i.value,r.value,a.value,l.value,c.value,m.value,d.value],style:[o.value,u.value],role:"listbox","aria-activedescendant":void 0,onFocusin:p,onFocusout:I,onFocus:k,onKeydown:T},{default:()=>[v(oT,{items:s.value},n)]})),{open:h,select:f,focus:C}}}),rH=Hn("v-list-img"),oH=Q({name:"VListItemAction",props:{start:Boolean,end:Boolean,...Te()},setup(e,t){let{slots:n}=t;return Y(()=>v(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end}]},n)),{}}}),aH=Q({name:"VListItemMedia",props:{start:Boolean,end:Boolean,...Te()},setup(e,t){let{slots:n}=t;return Y(()=>v(e.tag,{class:["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end}]},n)),{}}});const cT=ke({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function dT(e,t){const n={},s=i=>()=>{if(!yt)return Promise.resolve(!0);const r=i==="openDelay";return n.closeDelay&&window.clearTimeout(n.closeDelay),delete n.closeDelay,n.openDelay&&window.clearTimeout(n.openDelay),delete n.openDelay,new Promise(o=>{var l;const a=parseInt((l=e[i])!=null?l:0,10);n[i]=window.setTimeout(()=>{t==null||t(r),o(r)},a)})};return{runCloseDelay:s("closeDelay"),runOpenDelay:s("openDelay")}}const _v=Symbol.for("vuetify:v-menu"),lH=ke({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...cT()},"v-overlay-activator");function uH(e,t){let{isActive:n,isTop:s}=t;const i=D();let r=!1,o=!1,a=!0;const l=y(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),u=y(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!l.value),{runOpenDelay:c,runCloseDelay:d}=dT(e,p=>{p===(e.openOnHover&&r||l.value&&o)&&!(e.openOnHover&&n.value&&!s.value)&&(n.value!==p&&(a=!0),n.value=p)}),h={click:p=>{p.stopPropagation(),i.value=p.currentTarget||p.target,n.value=!n.value},mouseenter:p=>{r=!0,i.value=p.currentTarget||p.target,c()},mouseleave:p=>{r=!1,d()},focus:p=>{hv&&!p.target.matches(":focus-visible")||(o=!0,p.stopPropagation(),i.value=p.currentTarget||p.target,c())},blur:p=>{o=!1,p.stopPropagation(),d()}},f=y(()=>{const p={};return u.value&&(p.click=h.click),e.openOnHover&&(p.mouseenter=h.mouseenter,p.mouseleave=h.mouseleave),l.value&&(p.focus=h.focus,p.blur=h.blur),p}),m=y(()=>{const p={};if(e.openOnHover&&(p.mouseenter=()=>{r=!0,c()},p.mouseleave=()=>{r=!1,d()}),e.closeOnContentClick){const I=Fe(_v,null);p.click=()=>{n.value=!1,I==null||I.closeParents()}}return p}),g=y(()=>{const p={};return e.openOnHover&&(p.mouseenter=()=>{a&&(r=!0,a=!1,c())},p.mouseleave=()=>{r=!1,d()}),p});he(s,p=>{p&&(e.openOnHover&&!r&&(!l.value||!o)||l.value&&!o&&(!e.openOnHover||!r))&&(n.value=!1)});const b=D();ks(()=>{!b.value||mt(()=>{const p=b.value;i.value=G2(p)?p.$el:p})});const _=Yt("useActivator");let w;return he(()=>!!e.activator,p=>{p&&yt?(w=pl(),w.run(()=>{cH(e,_,{activatorEl:i,activatorEvents:f})})):w&&w.stop()},{flush:"post",immediate:!0}),Is(()=>{var p;(p=w)==null||p.stop()}),{activatorEl:i,activatorRef:b,activatorEvents:f,contentEvents:m,scrimEvents:g}}function cH(e,t,n){let{activatorEl:s,activatorEvents:i}=n;he(()=>e.activator,(l,u)=>{if(u&&l!==u){const c=a(u);c&&o(c)}l&&mt(()=>r())},{immediate:!0}),he(()=>e.activatorProps,()=>{r()}),Is(()=>{o()});function r(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;!l||(Object.entries(i.value).forEach(c=>{let[d,h]=c;l.addEventListener(d,h)}),Object.keys(u).forEach(c=>{u[c]==null?l.removeAttribute(c):l.setAttribute(c,u[c])}))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;!l||(Object.entries(i.value).forEach(c=>{let[d,h]=c;l.removeEventListener(d,h)}),Object.keys(u).forEach(c=>{l.removeAttribute(c)}))}function a(){var l;let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator,c;if(u)if(u==="parent"){var d,h;let f=t==null||(d=t.proxy)==null||(h=d.$el)==null?void 0:h.parentNode;for(;f.hasAttribute("data-no-activator");)f=f.parentNode;c=f}else typeof u=="string"?c=document.querySelector(u):"$el"in u?c=u.$el:c=u;return s.value=((l=c)==null?void 0:l.nodeType)===Node.ELEMENT_NODE?c:null,s.value}}const Qd=ke({eager:Boolean},"lazy");function Yg(e,t){const n=D(!1),s=y(()=>n.value||e.eager||t.value);he(t,()=>n.value=!0);function i(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:s,onAfterLeave:i}}function Kh(e,t){return{x:e.x+t.x,y:e.y+t.y}}function dH(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jb(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:s}=e,i=s==="left"?0:s==="center"?t.width/2:s==="right"?t.width:s,r=n==="top"?0:n==="bottom"?t.height:n;return Kh({x:i,y:r},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:s}=e,i=n==="left"?0:n==="right"?t.width:n,r=s==="top"?0:s==="center"?t.height/2:s==="bottom"?t.height:s;return Kh({x:i,y:r},t)}return Kh({x:t.width/2,y:t.height/2},t)}const hT={static:vH,connected:gH},hH=ke({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in hT},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"v-overlay-location-strategies");function fH(e,t){const n=D({}),s=D();let i;ks(async()=>{var o;(o=i)==null||o.stop(),s.value=void 0,yt&&t.isActive.value&&e.locationStrategy&&(i=pl(),e.locationStrategy!=="connected"&&await mt(),i.run(()=>{if(typeof e.locationStrategy=="function"){var a;s.value=(a=e.locationStrategy(t,e,n))==null?void 0:a.updateLocation}else{var l;s.value=(l=hT[e.locationStrategy](t,e,n))==null?void 0:l.updateLocation}}))}),yt&&window.addEventListener("resize",r,{passive:!0}),Is(()=>{var o;yt&&window.removeEventListener("resize",r),s.value=void 0,(o=i)==null||o.stop()});function r(o){var a;(a=s.value)==null||a.call(s,o)}return{contentStyles:n,updateLocation:s}}function vH(){}function mH(e){const t=Ag(e);return t.x-=parseFloat(e.style.left||0),t.y-=parseFloat(e.style.top||0),t}function gH(e,t,n){const s=Cj(e.activatorEl.value);s&&Object.assign(n.value,{position:"fixed"});const{preferredAnchor:i,preferredOrigin:r}=Tg(()=>{const m=lv(t.location,e.isRtl.value),g=t.origin==="overlap"?m:t.origin==="auto"?Bh(m):lv(t.origin,e.isRtl.value);return m.side===g.side&&m.align===Uh(g).align?{preferredAnchor:_b(m),preferredOrigin:_b(g)}:{preferredAnchor:m,preferredOrigin:g}}),[o,a,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(m=>y(()=>{const g=parseFloat(t[m]);return isNaN(g)?1/0:g})),c=y(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const m=t.offset.split(" ").map(parseFloat);return m.length<2&&m.push(0),m}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let d=!1;const h=new ResizeObserver(()=>{d&&f()});he([e.activatorEl,e.contentEl],(m,g)=>{let[b,_]=m,[w,p]=g;w&&h.unobserve(w),b&&h.observe(b),p&&h.unobserve(p),_&&h.observe(_)},{immediate:!0}),Is(()=>{h.disconnect()});function f(){if(d=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>d=!0)}),!e.activatorEl.value||!e.contentEl.value)return;const m=e.activatorEl.value.getBoundingClientRect(),g=mH(e.contentEl.value),b=Dc(e.contentEl.value),_=12;b.length||(b.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(g.x+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),g.y+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const w=b.reduce((O,N)=>{const L=N.getBoundingClientRect(),F=new io({x:N===document.documentElement?0:L.x,y:N===document.documentElement?0:L.y,width:N.clientWidth,height:N.clientHeight});return O?new io({x:Math.max(O.left,F.left),y:Math.max(O.top,F.top),width:Math.min(O.right,F.right)-Math.max(O.left,F.left),height:Math.min(O.bottom,F.bottom)-Math.max(O.top,F.top)}):F},void 0);w.x+=_,w.y+=_,w.width-=_*2,w.height-=_*2;let p={anchor:i.value,origin:r.value};function I(O){const N=new io(g),L=jb(O.anchor,m),F=jb(O.origin,N);let{x:q,y:B}=dH(L,F);switch(O.anchor.side){case"top":B-=c.value[0];break;case"bottom":B+=c.value[0];break;case"left":q-=c.value[0];break;case"right":q+=c.value[0];break}switch(O.anchor.align){case"top":B-=c.value[1];break;case"bottom":B+=c.value[1];break;case"left":q-=c.value[1];break;case"right":q+=c.value[1];break}return N.x+=q,N.y+=B,N.width=Math.min(N.width,l.value),N.height=Math.min(N.height,u.value),{overflows:wb(N,w),x:q,y:B}}let k=0,T=0;const C={x:0,y:0},S={x:!1,y:!1};let x=-1;for(;;){if(x++>10){cv("Infinite loop detected in connectedLocationStrategy");break}const{x:O,y:N,overflows:L}=I(p);k+=O,T+=N,g.x+=O,g.y+=N;{const F=bb(p.anchor),q=L.x.before||L.x.after,B=L.y.before||L.y.after;let P=!1;if(["x","y"].forEach($=>{if($==="x"&&q&&!S.x||$==="y"&&B&&!S.y){const J={anchor:{...p.anchor},origin:{...p.origin}},K=$==="x"?F==="y"?Uh:Bh:F==="y"?Bh:Uh;J.anchor=K(J.anchor),J.origin=K(J.origin);const{overflows:oe}=I(J);(oe[$].before<=L[$].before&&oe[$].after<=L[$].after||oe[$].before+oe[$].after<(L[$].before+L[$].after)/2)&&(p=J,P=S[$]=!0)}}),P)continue}L.x.before&&(k+=L.x.before,g.x+=L.x.before),L.x.after&&(k-=L.x.after,g.x-=L.x.after),L.y.before&&(T+=L.y.before,g.y+=L.y.before),L.y.after&&(T-=L.y.after,g.y-=L.y.after);{const F=wb(g,w);C.x=w.width-F.x.before-F.x.after,C.y=w.height-F.y.before-F.y.after,k+=F.x.before,g.x+=F.x.before,T+=F.y.before,g.y+=F.y.before}break}const A=bb(p.anchor);Object.assign(n.value,{"--v-overlay-anchor-origin":`${p.anchor.side} ${p.anchor.align}`,transformOrigin:`${p.origin.side} ${p.origin.align}`,top:le(zb(T)),left:le(zb(k)),minWidth:le(A==="y"?Math.min(o.value,m.width):o.value),maxWidth:le(Hb(En(C.x,o.value===1/0?0:o.value,l.value))),maxHeight:le(Hb(En(C.y,a.value===1/0?0:a.value,u.value)))})}return he(()=>[i.value,r.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>f(),{immediate:!s}),s&&mt(()=>f()),requestAnimationFrame(()=>{n.value.maxHeight&&f()}),{updateLocation:f}}function zb(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function Hb(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let bv=!0;const Fc=[];function pH(e){!bv||Fc.length?(Fc.push(e),wv()):(bv=!1,e(),wv())}let Wb=-1;function wv(){cancelAnimationFrame(Wb),Wb=requestAnimationFrame(()=>{const e=Fc.shift();e&&e(),Fc.length?wv():bv=!0})}const Cv={none:null,close:bH,block:wH,reposition:CH},yH=ke({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Cv}},"v-overlay-scroll-strategies");function _H(e,t){if(!yt)return;let n;ks(async()=>{var s;(s=n)==null||s.stop(),t.isActive.value&&e.scrollStrategy&&(n=pl(),await mt(),n.run(()=>{if(typeof e.scrollStrategy=="function")e.scrollStrategy(t,e);else{var i;(i=Cv[e.scrollStrategy])==null||i.call(Cv,t,e)}}))}),Is(()=>{var s;(s=n)==null||s.stop()})}function bH(e){var n;function t(s){e.isActive.value=!1}fT((n=e.activatorEl.value)!=null?n:e.contentEl.value,t)}function wH(e,t){var n;const s=(n=e.root.value)==null?void 0:n.offsetParent,i=[...new Set([...Dc(e.activatorEl.value,t.contained?s:void 0),...Dc(e.contentEl.value,t.contained?s:void 0)])].filter(a=>!a.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,o=(a=>Ng(a)&&a)(s||document.documentElement);o&&e.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((a,l)=>{a.style.setProperty("--v-body-scroll-x",le(-a.scrollLeft)),a.style.setProperty("--v-body-scroll-y",le(-a.scrollTop)),a.style.setProperty("--v-scrollbar-offset",le(r)),a.classList.add("v-overlay-scroll-blocked")}),Is(()=>{i.forEach((a,l)=>{const u=parseFloat(a.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(a.style.getPropertyValue("--v-body-scroll-y"));a.style.removeProperty("--v-body-scroll-x"),a.style.removeProperty("--v-body-scroll-y"),a.style.removeProperty("--v-scrollbar-offset"),a.classList.remove("v-overlay-scroll-blocked"),a.scrollLeft=-u,a.scrollTop=-c}),o&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function CH(e){var i;let t=!1,n=-1;function s(r){pH(()=>{var o,a;const l=performance.now();(o=(a=e.updateLocation).value)==null||o.call(a,r),t=(performance.now()-l)/(1e3/60)>2})}fT((i=e.activatorEl.value)!=null?i:e.contentEl.value,r=>{t?(cancelAnimationFrame(n),n=requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{s(r)})})):s(r)})}function fT(e,t){const n=[document,...Dc(e)];n.forEach(s=>{s.addEventListener("scroll",t,{passive:!0})}),Is(()=>{n.forEach(s=>{s.removeEventListener("scroll",t)})})}function vT(){var e,t,n;if(!yt)return D(!1);const s=Yt("useHydration"),i=s==null||(e=s.root)==null||(t=e.appContext)==null||(n=t.app)==null?void 0:n._container,r=D(!!(i!=null&&i.__vue_app__));return r.value||yn(()=>r.value=!0),r}const qb=Symbol.for("vuetify:stack"),la=Wt([]);function SH(e,t){const n=Yt("useStack"),s=Fe(qb,void 0),i=Wt({activeChildren:new Set});bt(qb,i);const r=D(+t.value);wo(e,()=>{var l;const u=(l=la.at(-1))==null?void 0:l[1];r.value=u?u+10:+t.value,la.push([n.uid,r.value]),s==null||s.activeChildren.add(n.uid),Is(()=>{const c=la.findIndex(d=>d[0]===n.uid);la.splice(c,1),s==null||s.activeChildren.delete(n.uid)})});const o=D(!0);ks(()=>{var l;const u=((l=la.at(-1))==null?void 0:l[0])===n.uid;setTimeout(()=>o.value=u)});const a=y(()=>!i.activeChildren.size);return{globalTop:yl(o),localTop:a,stackStyles:y(()=>({zIndex:r.value}))}}function Pa(e){return{teleportTarget:y(()=>{const n=e.value;if(n===!0||!yt)return;const s=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(s!=null){if(!Pa.cache.has(s)){const i=document.createElement("div");i.className="v-overlay-container",s.appendChild(i),Pa.cache.set(s,i)}return Pa.cache.get(s)}})}}Pa.cache=new WeakMap;function EH(){return!0}function mT(e,t,n){if(!e||gT(e,n)===!1)return!1;const s=uk(t);if(typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&s.host===e.target)return!1;const i=(typeof n.value=="object"&&n.value.include||(()=>[]))();return i.push(t),!i.some(r=>r==null?void 0:r.contains(e.target))}function gT(e,t){return(typeof t.value=="object"&&t.value.closeConditional||EH)(e)}function IH(e,t,n){const s=typeof n.value=="function"?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&mT(e,t,n)&&setTimeout(()=>{gT(e,n)&&s&&s(e)},0)}function Kb(e,t){const n=uk(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const pT={mounted(e,t){const n=i=>IH(i,e,t),s=i=>{e._clickOutside.lastMousedownWasOutside=mT(i,e,t)};Kb(e,i=>{i.addEventListener("click",n,!0),i.addEventListener("mousedown",s,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!0}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:s}},unmounted(e,t){!e._clickOutside||(Kb(e,n=>{var s;if(!n||!((s=e._clickOutside)!=null&&s[t.instance.$.uid]))return;const{onClick:i,onMousedown:r}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[t.instance.$.uid])}};function kH(e){const{modelValue:t,color:n,...s}=e;return v(ws,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&v("div",ce({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},s),null)]})}const su=ke({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[String,Boolean],default:!0},zIndex:{type:[Number,String],default:2e3},...lH(),...os(),...Qd(),...hH(),...yH(),...Ue(),...ni()},"v-overlay"),Xo=rt()({name:"VOverlay",directives:{ClickOutside:pT},inheritAttrs:!1,props:su(),emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:s,emit:i}=t;const r=Ie(e,"modelValue"),o=y({get:()=>r.value,set:$=>{$&&e.disabled||(r.value=$)}}),{teleportTarget:a}=Pa(y(()=>e.attach||e.contained)),{themeClasses:l}=Ze(e),{rtlClasses:u,isRtl:c}=ti(),{hasContent:d,onAfterLeave:h}=Yg(e,o),f=Ct(y(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:m,localTop:g,stackStyles:b}=SH(o,z(e,"zIndex")),{activatorEl:_,activatorRef:w,activatorEvents:p,contentEvents:I,scrimEvents:k}=uH(e,{isActive:o,isTop:g}),{dimensionStyles:T}=as(e),C=vT();he(()=>e.disabled,$=>{$&&(o.value=!1)});const S=D(),x=D(),{contentStyles:A,updateLocation:O}=fH(e,{isRtl:c,contentEl:x,activatorEl:_,isActive:o});_H(e,{root:S,contentEl:x,activatorEl:_,isActive:o,updateLocation:O});function N($){i("click:outside",$),e.persistent?P():o.value=!1}function L(){return o.value&&m.value}yt&&he(o,$=>{$?window.addEventListener("keydown",F):window.removeEventListener("keydown",F)},{immediate:!0});function F($){$.key==="Escape"&&m.value&&(e.persistent?P():o.value=!1)}const q=$k();wo(()=>e.closeOnBack,()=>{xz(q,$=>{m.value&&o.value?($(!1),e.persistent?P():o.value=!1):$()})});const B=D();he(()=>o.value&&(e.absolute||e.contained)&&a.value==null,$=>{if($){const J=ck(S.value);J&&J!==document.scrollingElement&&(B.value=J.scrollTop)}});function P(){e.noClickAnimation||x.value&&Xi(x.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:cl})}return Y(()=>{var $,J;return v(Re,null,[($=n.activator)==null?void 0:$.call(n,{isActive:o.value,props:ce({ref:w},ih(p.value),e.activatorProps)}),C.value&&v(MA,{disabled:!a.value,to:a.value},{default:()=>[d.value&&v("div",ce({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":o.value,"v-overlay--contained":e.contained},l.value,u.value],style:[b.value,{top:le(B.value)}],ref:S},s),[v(kH,ce({color:f,modelValue:o.value&&!!e.scrim},ih(k.value)),null),v(gs,{appear:!0,persisted:!0,transition:e.transition,target:_.value,onAfterLeave:()=>{h(),i("afterLeave")}},{default:()=>[_t(v("div",ce({ref:x,class:["v-overlay__content",e.contentClass],style:[T.value,A.value]},ih(I.value),e.contentProps),[(J=n.default)==null?void 0:J.call(n,{isActive:o})]),[[As,o.value],[Rn("click-outside"),{handler:N,closeConditional:L,include:()=>[_.value]}]])]})])]})])}),{activatorEl:_,animateClick:P,contentEl:x,globalTop:m,localTop:g,updateLocation:O}}});function Jd(e){return Nn(e,Object.keys(Xo.props))}function Zd(){const t=Yt("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const eh=rt()({name:"VMenu",props:{id:String,...Cr(su({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:jd}}),["absolute"])},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=Ie(e,"modelValue"),{scopeId:i}=Zd(),r=un(),o=y(()=>e.id||`v-menu-${r}`),a=D(),l=Fe(_v,null);let u=0;bt(_v,{register(){++u},unregister(){--u},closeParents(){setTimeout(()=>{u||(s.value=!1,l==null||l.closeParents())},40)}}),he(s,d=>{d?l==null||l.register():l==null||l.unregister()});function c(){l==null||l.closeParents()}return Y(()=>{const[d]=Jd(e);return v(Xo,ce({ref:a,class:["v-menu"]},d,{modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,absolute:!0,activatorProps:ce({"aria-haspopup":"menu","aria-expanded":String(s.value),"aria-owns":o.value},e.activatorProps),"onClick:outside":c},i),{activator:n.activator,default:function(){for(var h,f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];return v(st,{root:!0},{default:()=>[(h=n.default)==null?void 0:h.call(n,...m)]})}})}),ls({id:o},a)}}),Xg=ke({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:be,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,...aT({itemChildren:!1})},"v-select"),TH=rt()({name:"VSelect",props:{...Xg(),...Cr(Gd({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...ni({transition:{component:jd}})},emits:{"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:s}=rs(),i=D(),r=Ie(e,"menu"),{items:o,transformIn:a,transformOut:l}=Gg(e),u=Ie(e,"modelValue",[],p=>a(Bn(p)),p=>{var k;const I=l(p);return e.multiple?I:(k=I[0])!=null?k:null}),c=y(()=>u.value.map(p=>o.value.find(I=>I.value===p.value)||p)),d=y(()=>c.value.map(p=>p.props.value)),h=D();function f(p){u.value=[],e.openOnClear&&(r.value=!0)}function m(){e.hideNoData&&!o.value.length||e.readonly||(r.value=!r.value)}function g(p){if(!e.readonly){if(["Enter","ArrowDown"," "].includes(p.key)&&(p.preventDefault(),r.value=!0),["Escape","Tab"].includes(p.key)&&(r.value=!1),p.key==="ArrowDown"){var I;(I=h.value)==null||I.focus("next")}else if(p.key==="ArrowUp"){var k;p.preventDefault(),(k=h.value)==null||k.focus("prev")}else if(p.key==="Home"){var T;p.preventDefault(),(T=h.value)==null||T.focus("first")}else if(p.key==="End"){var C;p.preventDefault(),(C=h.value)==null||C.focus("last")}}}function b(p){if(e.multiple){const I=d.value.findIndex(k=>k===p.value);if(I===-1)u.value=[...u.value,p];else{const k=[...u.value];k.splice(I,1),u.value=k}}else u.value=[p],r.value=!1}function _(p){var I;(I=h.value)!=null&&I.$el.contains(p.relatedTarget)||(r.value=!1)}function w(p){if(p.relatedTarget==null){var I;(I=i.value)==null||I.focus()}}return Y(()=>{const p=!!(e.chips||n.chip),[I]=Hg(e);return v(eu,ce({ref:i},I,{modelValue:u.value.map(k=>k.props.value).join(", "),"onUpdate:modelValue":k=>{k==null&&(u.value=[])},validationValue:u.externalValue,dirty:u.value.length>0,class:["v-select",{"v-select--active-menu":r.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":u.value.length}],appendInnerIcon:e.menuIcon,readonly:!0,"onClick:clear":f,"onClick:control":m,onBlur:_,onKeydown:g}),{...n,default:()=>{var k,T,C;return v(Re,null,[v(eh,ce({modelValue:r.value,"onUpdate:modelValue":S=>r.value=S,activator:"parent",contentClass:"v-select__content",eager:e.eager,openOnClick:!1,closeOnContentClick:!1,transition:e.transition},e.menuProps),{default:()=>[v(Xd,{ref:h,selected:d.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:S=>S.preventDefault(),onFocusout:w},{default:()=>{var S;return[!o.value.length&&!e.hideNoData&&((S=(k=n["no-data"])==null?void 0:k.call(n))!=null?S:v(Xs,{title:s(e.noDataText)},null)),(T=n["prepend-item"])==null?void 0:T.call(n),o.value.map((x,A)=>{var N;var O;return(N=(O=n.item)==null?void 0:O.call(n,{item:x,index:A,props:ce(x.props,{onClick:()=>b(x)})}))!=null?N:v(Xs,ce({key:A},x.props,{onClick:()=>b(x)}),{prepend:L=>{let{isSelected:F}=L;return e.multiple&&!e.hideSelected?v(Yo,{modelValue:F,ripple:!1},null):void 0}})}),(C=n["append-item"])==null?void 0:C.call(n)]}})]}),c.value.map((S,x)=>{function A(N){N.stopPropagation(),N.preventDefault(),b(S)}const O={"onClick:close":A,modelValue:!0,"onUpdate:modelValue":void 0};return v("div",{key:S.value,class:"v-select__selection"},[p?v(st,{defaults:{VChip:{closable:e.closableChips,size:"small",text:S.title}}},{default:()=>[n.chip?n.chip({item:S,index:x,props:O}):v(nu,O,null)]}):n.selection?n.selection({item:S,index:x}):v("span",{class:"v-select__selection-text"},[S.title,e.multiple&&x<c.value.length-1&&v("span",{class:"v-select__selection-comma"},[Ye(",")])])])})])}})}),ls({menu:r,select:b},i)}}),AH=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),yT=ke({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function xH(e,t,n){var l,u;const s=[],i=(l=n==null?void 0:n.default)!=null?l:AH,r=n!=null&&n.filterKeys?Bn(n.filterKeys):!1,o=Object.keys((u=n==null?void 0:n.customKeyFilter)!=null?u:{}).length;if(!(e!=null&&e.length))return s;e:for(let c=0;c<e.length;c++){const d=e[c],h={},f={};let m=-1;if(t&&!(n!=null&&n.noFilter)){if(typeof d=="object"){const _=r||Object.keys(d);for(const w of _){var a;const p=vs(d,w,d),I=n==null||(a=n.customKeyFilter)==null?void 0:a[w];if(m=I?I(p,t,d):i(p,t,d),m!==-1&&m!==!1)I?h[w]=m:f[w]=m;else if((n==null?void 0:n.filterMode)==="every")continue e}}else m=i(d,t,d),m!==-1&&m!==!1&&(f.title=m);const g=Object.keys(f).length,b=Object.keys(h).length;if(!g&&!b||(n==null?void 0:n.filterMode)==="union"&&b!==o&&!g||(n==null?void 0:n.filterMode)==="intersection"&&(b!==o||!g))continue}s.push({index:c,matches:{...f,...h}})}return s}function _T(e,t,n){const s=y(()=>typeof(n==null?void 0:n.value)!="string"&&typeof(n==null?void 0:n.value)!="number"?"":String(n.value));return{filteredItems:y(()=>{const r=gt(t);return xH(r,s.value,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}).map(a=>{let{index:l,matches:u}=a;return{item:r[l],matches:u}})})}}function RH(e,t,n){if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?v(Re,null,[v("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),v("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),v("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const NH=rt()({name:"VAutocomplete",props:{search:String,...yT({filterKeys:["title"]}),...Xg(),...Cr(Gd({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...ni({transition:!1})},emits:{"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:s}=rs(),i=D(),r=D(!1),o=D(!0),a=Ie(e,"menu"),{items:l,transformIn:u,transformOut:c}=Gg(e),d=Ie(e,"search",""),h=Ie(e,"modelValue",[],A=>u(Bn(A)),A=>{var N;const O=c(A);return e.multiple?O:(N=O[0])!=null?N:null}),{filteredItems:f}=_T(e,l,y(()=>o.value?void 0:d.value)),m=y(()=>h.value.map(A=>l.value.find(O=>O.value===A.value)||A)),g=y(()=>m.value.map(A=>A.props.value)),b=D();function _(A){h.value=[],e.openOnClear&&(a.value=!0),d.value=""}function w(){e.hideNoData&&!l.value.length||e.readonly||(a.value=!0)}function p(A){if(!e.readonly){if(["Enter","ArrowDown"].includes(A.key)&&(a.value=!0),["Escape"].includes(A.key)&&(a.value=!1),["Enter","Escape","Tab"].includes(A.key)&&(o.value=!0),A.key==="ArrowDown"){var O;A.preventDefault(),(O=b.value)==null||O.focus("next")}else if(A.key==="ArrowUp"){var N;A.preventDefault(),(N=b.value)==null||N.focus("prev")}}}function I(A){d.value=A.target.value}function k(){r.value&&(o.value=!0)}function T(A){r.value=!0}function C(A){if(A.relatedTarget==null){var O;(O=i.value)==null||O.focus()}}const S=D(!1);function x(A){if(e.multiple){const O=g.value.findIndex(N=>N===A.value);if(O===-1)h.value=[...h.value,A],d.value="";else{const N=[...h.value];N.splice(O,1),h.value=N}}else h.value=[A],S.value=!0,n.selection||(d.value=A.title),a.value=!1,o.value=!0,mt(()=>S.value=!1)}return he(r,A=>{var N;if(A){var O;S.value=!0,d.value=e.multiple||!!n.selection?"":String((N=(O=m.value.at(-1))==null?void 0:O.props.title)!=null?N:""),o.value=!0,mt(()=>S.value=!1)}else a.value=!1,d.value=""}),he(d,A=>{!r.value||S.value||(A&&(a.value=!0),o.value=!A)}),Y(()=>{const A=!!(e.chips||n.chip),[O]=Hg(e);return v(eu,ce({ref:i},O,{modelValue:d.value,"onUpdate:modelValue":N=>{N==null&&(h.value=[])},validationValue:h.externalValue,dirty:h.value.length>0,onInput:I,class:["v-autocomplete",{"v-autocomplete--active-menu":a.value,"v-autocomplete--chips":!!e.chips,[`v-autocomplete--${e.multiple?"multiple":"single"}`]:!0,"v-autocomplete--selection-slot":!!n.selection}],appendInnerIcon:e.menuIcon,readonly:e.readonly,"onClick:clear":_,"onClick:control":w,"onClick:input":w,onFocus:()=>r.value=!0,onBlur:()=>r.value=!1,onKeydown:p}),{...n,default:()=>{var N,L,F;return v(Re,null,[v(eh,ce({modelValue:a.value,"onUpdate:modelValue":q=>a.value=q,activator:"parent",contentClass:"v-autocomplete__content",eager:e.eager,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:k},e.menuProps),{default:()=>[v(Xd,{ref:b,selected:g.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:q=>q.preventDefault(),onFocusin:T,onFocusout:C},{default:()=>{var q;return[!f.value.length&&!e.hideNoData&&((q=(N=n["no-data"])==null?void 0:N.call(n))!=null?q:v(Xs,{title:s(e.noDataText)},null)),(L=n["prepend-item"])==null?void 0:L.call(n),f.value.map((B,P)=>{var oe;var $;let{item:J,matches:K}=B;return(oe=($=n.item)==null?void 0:$.call(n,{item:J,index:P,props:ce(J.props,{onClick:()=>x(J)})}))!=null?oe:v(Xs,ce({key:P},J.props,{onClick:()=>x(J)}),{prepend:re=>{let{isSelected:Me}=re;return e.multiple&&!e.hideSelected?v(Yo,{modelValue:Me,ripple:!1},null):void 0},title:()=>{var Me;var re;return o.value?J.title:RH(J.title,K.title,(Me=(re=d.value)==null?void 0:re.length)!=null?Me:0)}})}),(F=n["append-item"])==null?void 0:F.call(n)]}})]}),m.value.map((q,B)=>{function P(J){J.stopPropagation(),J.preventDefault(),x(q)}const $={"onClick:close":P,modelValue:!0,"onUpdate:modelValue":void 0};return v("div",{key:q.value,class:"v-autocomplete__selection"},[A?v(st,{defaults:{VChip:{closable:e.closableChips,size:"small",text:q.title}}},{default:()=>[n.chip?n.chip({item:q,index:B,props:$}):v(nu,$,null)]}):n.selection?n.selection({item:q,index:B}):v("span",{class:"v-autocomplete__selection-text"},[q.title,e.multiple&&B<m.value.length-1&&v("span",{class:"v-autocomplete__selection-comma"},[Ye(",")])])])})])}})}),ls({isFocused:r,isPristine:o,menu:a,search:d,filteredItems:f,select:x},i)}});const PH=Q({name:"VBadge",inheritAttrs:!1,props:{bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:be,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Ar({location:"top end"}),...ft(),...Te(),...Ue(),...ni({transition:"scale-rotate-transition"})},setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:s}=Ct(z(e,"color")),{roundedClasses:i}=St(e),{t:r}=rs(),{textColorClasses:o,textColorStyles:a}=pn(z(e,"textColor")),{themeClasses:l}=pk(),{locationStyles:u}=xr(e,!0,c=>{var h,f;return(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(c)?+((h=e.offsetY)!=null?h:0):["left","right"].includes(c)?+((f=e.offsetX)!=null?f:0):0)});return Y(()=>{var c,d,h,f;const m=Number(e.content),g=!e.max||isNaN(m)?e.content:m<=e.max?m:`${e.max}+`,[b,_]=Nn(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return v(e.tag,ce({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline}]},_),{default:()=>[v("div",{class:"v-badge__wrapper"},[(c=(d=t.slots).default)==null?void 0:c.call(d),v(gs,{transition:e.transition},{default:()=>[_t(v("span",ce({class:["v-badge__badge",l.value,n.value,i.value,o.value],style:[s.value,a.value,e.inline?{}:u.value],"aria-atomic":"true","aria-label":r(e.label,m),"aria-live":"polite",role:"status"},b),[e.dot?void 0:t.slots.badge?(h=(f=t.slots).badge)==null?void 0:h.call(f):e.icon?v(It,{icon:e.icon},null):g]),[[As,e.modelValue]])]})])]})}),{}}});const bT=Q({name:"VBannerActions",props:{color:String,density:String},setup(e,t){let{slots:n}=t;return Rt({VBtn:{color:e.color,density:e.density,variant:"text"}}),Y(()=>{var s;return v("div",{class:"v-banner-actions"},[(s=n.default)==null?void 0:s.call(n)])}),{}}}),wT=Hn("v-banner-text"),OH=Q({name:"VBanner",props:{avatar:String,color:String,icon:be,lines:String,stacked:Boolean,sticky:Boolean,text:String,...On(),...Lt(),...os(),...Nt(),...Ar(),...Wo(),...ft(),...Te(),...Ue()},setup(e,t){let{slots:n}=t;const{borderClasses:s}=Wn(e),{densityClasses:i}=cn(e),{mobile:r}=Bd(),{dimensionStyles:o}=as(e),{elevationClasses:a}=Xt(e),{locationStyles:l}=xr(e),{positionClasses:u}=qo(e),{roundedClasses:c}=St(e),{themeClasses:d}=Ze(e),h=z(e,"color"),f=z(e,"density");Rt({VBannerActions:{color:h,density:f}}),Y(()=>{var m;const g=!!(e.text||n.text),b=!!(n.prepend||e.avatar||e.icon);return v(e.tag,{class:["v-banner",{"v-banner--stacked":e.stacked||r.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},s.value,i.value,a.value,u.value,c.value,d.value],style:[o.value,l.value],role:"banner"},{default:()=>[b&&v(st,{key:"prepend",defaults:{VAvatar:{color:h.value,density:f.value,icon:e.icon,image:e.avatar}}},{default:()=>[v("div",{class:"v-banner__prepend"},[n.prepend?n.prepend():(e.avatar||e.icon)&&v(Ai,null,null)])]}),v("div",{class:"v-banner__content"},[g&&v(wT,{key:"text"},{default:()=>[n.text?n.text():e.text]}),(m=n.default)==null?void 0:m.call(n)]),n.actions&&v(bT,null,{default:()=>[n.actions()]})]})})}});const DH=Q({name:"VBottomNavigation",props:{bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},...On(),...Lt(),...Nt(),...ft(),...Fo({name:"bottom-navigation"}),...Te({tag:"header"}),...jo({modelValue:!0,selectedClass:"v-btn--selected"}),...Ue()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:s}=pk(),{borderClasses:i}=Wn(e),{backgroundColorClasses:r,backgroundColorStyles:o}=Ct(z(e,"bgColor")),{densityClasses:a}=cn(e),{elevationClasses:l}=Xt(e),{roundedClasses:u}=St(e),c=y(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),d=Ie(e,"modelValue"),{layoutItemStyles:h}=Bo({id:e.name,order:y(()=>parseInt(e.order,10)),position:y(()=>"bottom"),layoutSize:y(()=>d.value?c.value:0),elementSize:c,active:d,absolute:z(e,"absolute")});return Tr(e,Vg),Rt({VBtn:{color:z(e,"color"),density:z(e,"density"),stacked:y(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),Y(()=>v(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":d.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},s.value,r.value,i.value,a.value,l.value,u.value],style:[o.value,h.value,{height:le(c.value),transform:`translateY(${le(d.value?0:100,"%")})`}]},{default:()=>[n.default&&v("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}});const CT=Hn("v-breadcrumbs-divider","li"),ST=Q({name:"VBreadcrumbsItem",props:{active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Ko(),...Te({tag:"li"})},setup(e,t){let{slots:n,attrs:s}=t;const i=Jl(e,s),r=y(()=>{var u;return e.active||((u=i.isActive)==null?void 0:u.value)}),o=y(()=>r.value?e.activeColor:e.color),{textColorClasses:a,textColorStyles:l}=pn(o);return Y(()=>{var u;const c=i.isLink.value?"a":e.tag;return v(c,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":r.value,"v-breadcrumbs-item--disabled":e.disabled,"v-breadcrumbs-item--link":i.isLink.value,[`${e.activeClass}`]:r.value&&e.activeClass},a.value],style:[l.value],href:i.href.value,"aria-current":r.value?"page":void 0,onClick:i.navigate},{default:()=>{var d;return[(d=(u=n.default)==null?void 0:u.call(n))!=null?d:e.title]}})}),{}}}),LH=rt()({name:"VBreadcrumbs",props:{activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:be,items:{type:Array,default:()=>[]},...Lt(),...ft(),...Te({tag:"ul"})},setup(e,t){let{slots:n}=t;const{backgroundColorClasses:s,backgroundColorStyles:i}=Ct(z(e,"bgColor")),{densityClasses:r}=cn(e),{roundedClasses:o}=St(e);return Rt({VBreadcrumbsItem:{activeClass:z(e,"activeClass"),activeColor:z(e,"activeColor"),color:z(e,"color"),disabled:z(e,"disabled")}}),Y(()=>{var a;const l=!!(n.prepend||e.icon);return v(e.tag,{class:["v-breadcrumbs",s.value,r.value,o.value],style:i.value},{default:()=>[l&&v(st,{key:"prepend",defaults:{VIcon:{icon:e.icon,start:!0}}},{default:()=>[v("div",{class:"v-breadcrumbs__prepend"},[n.prepend?n.prepend():e.icon&&v(It,null,null)])]}),e.items.map((u,c,d)=>{var h;return v(Re,null,[v(ST,ce({key:c,disabled:c>=d.length-1},typeof u=="string"?{title:u}:u),{default:n.title?()=>{var f;return(f=n.title)==null?void 0:f.call(n,{item:u,index:c})}:void 0}),c<d.length-1&&v(CT,null,{default:()=>{var f;return[(f=(h=n.divider)==null?void 0:h.call(n,{item:u,index:c}))!=null?f:e.divider]}})])}),(a=n.default)==null?void 0:a.call(n)]})}),{}}});const ET=Q({name:"VCardActions",setup(e,t){let{slots:n}=t;return Rt({VBtn:{variant:"text"}}),Y(()=>{var s;return v("div",{class:"v-card-actions"},[(s=n.default)==null?void 0:s.call(n)])}),{}}}),IT=Hn("v-card-subtitle"),kT=Hn("v-card-title"),TT=Q({name:"VCardItem",props:{appendAvatar:String,appendIcon:be,prependAvatar:String,prependIcon:be,subtitle:String,title:String,...Lt()},setup(e,t){let{slots:n}=t;return Y(()=>{var s,i,r,o,a;const l=!!(e.prependAvatar||e.prependIcon||n.prepend),u=!!(e.appendAvatar||e.appendIcon||n.append),c=!!(e.title||n.title),d=!!(e.subtitle||n.subtitle);return v("div",{class:"v-card-item"},[l&&v(st,{key:"prepend",defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},{default:()=>{var h;return[v("div",{class:"v-card-item__prepend"},[(h=(s=n.prepend)==null?void 0:s.call(n))!=null?h:v(Ai,null,null)])]}}),v("div",{class:"v-card-item__content"},[c&&v(kT,{key:"title"},{default:()=>{var h;return[(h=(i=n.title)==null?void 0:i.call(n))!=null?h:e.title]}}),d&&v(IT,{key:"subtitle"},{default:()=>{var h;return[(h=(r=n.subtitle)==null?void 0:r.call(n))!=null?h:e.subtitle]}}),(o=n.default)==null?void 0:o.call(n)]),u&&v(st,{key:"append",defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},{default:()=>{var h;return[v("div",{class:"v-card-item__append"},[(h=(a=n.append)==null?void 0:a.call(n))!=null?h:v(Ai,null,null)])]}})])}),{}}}),AT=Hn("v-card-text"),MH=Q({name:"VCard",directives:{Ripple:Ni},props:{appendAvatar:String,appendIcon:be,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:be,ripple:Boolean,subtitle:String,text:String,title:String,...Ue(),...On(),...Lt(),...os(),...Nt(),...Ug(),...Ar(),...Wo(),...ft(),...Ko(),...Te(),...qn({variant:"elevated"})},setup(e,t){let{attrs:n,slots:s}=t;const{themeClasses:i}=Ze(e),{borderClasses:r}=Wn(e),{colorClasses:o,colorStyles:a,variantClasses:l}=Ir(e),{densityClasses:u}=cn(e),{dimensionStyles:c}=as(e),{elevationClasses:d}=Xt(e),{loaderClasses:h}=Hd(e),{locationStyles:f}=xr(e),{positionClasses:m}=qo(e),{roundedClasses:g}=St(e),b=Jl(e,n),_=y(()=>e.link!==!1&&b.isLink.value),w=y(()=>!e.disabled&&e.link!==!1&&(e.link||b.isClickable.value));return Y(()=>{var p,I,k;const T=_.value?"a":e.tag,C=!!(s.title||e.title),S=!!(s.subtitle||e.subtitle),x=C||S,A=!!(s.append||e.appendAvatar||e.appendIcon),O=!!(s.prepend||e.prependAvatar||e.prependIcon),N=!!(s.image||e.image),L=x||O||A,F=!!(s.text||e.text);return _t(v(T,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":w.value},i.value,r.value,o.value,u.value,d.value,h.value,m.value,g.value,l.value],style:[a.value,c.value,f.value],href:b.href.value,onClick:w.value&&b.navigate,tabindex:e.disabled?-1:void 0},{default:()=>[N&&v(st,{key:"image",defaults:{VImg:{cover:!0,src:e.image}}},{default:()=>{var q;return[v("div",{class:"v-card__image"},[(q=(p=s.image)==null?void 0:p.call(s))!=null?q:v(Uo,null,null)])]}}),v(jg,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:s.loader}),L&&v(TT,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:s.item,prepend:s.prepend,title:s.title,subtitle:s.subtitle,append:s.append}),F&&v(AT,{key:"text"},{default:()=>{var q;return[(q=(I=s.text)==null?void 0:I.call(s))!=null?q:e.text]}}),(k=s.default)==null?void 0:k.call(s),s.actions&&v(ET,null,{default:s.actions}),Er(w.value,"v-card")]}),[[Rn("ripple"),w.value]])}),{}}});const VH=e=>{const{touchstartX:t,touchendX:n,touchstartY:s,touchendY:i}=e,r=.5,o=16;e.offsetX=n-t,e.offsetY=i-s,Math.abs(e.offsetY)<r*Math.abs(e.offsetX)&&(e.left&&n<t-o&&e.left(e),e.right&&n>t+o&&e.right(e)),Math.abs(e.offsetX)<r*Math.abs(e.offsetY)&&(e.up&&i<s-o&&e.up(e),e.down&&i>s+o&&e.down(e))};function $H(e,t){var n;const s=e.changedTouches[0];t.touchstartX=s.clientX,t.touchstartY=s.clientY,(n=t.start)==null||n.call(t,{originalEvent:e,...t})}function FH(e,t){var n;const s=e.changedTouches[0];t.touchendX=s.clientX,t.touchendY=s.clientY,(n=t.end)==null||n.call(t,{originalEvent:e,...t}),VH(t)}function BH(e,t){var n;const s=e.changedTouches[0];t.touchmoveX=s.clientX,t.touchmoveY=s.clientY,(n=t.move)==null||n.call(t,{originalEvent:e,...t})}function UH(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>$H(n,t),touchend:n=>FH(n,t),touchmove:n=>BH(n,t)}}function jH(e,t){var l,u;var n;const s=t.value,i=s!=null&&s.parent?e.parentElement:e,r=(l=s==null?void 0:s.options)!=null?l:{passive:!0},o=(n=t.instance)==null?void 0:n.$.uid;if(!i||!o)return;const a=UH(t.value);i._touchHandlers=(u=i._touchHandlers)!=null?u:Object.create(null),i._touchHandlers[o]=a,GI(a).forEach(c=>{i.addEventListener(c,a[c],r)})}function zH(e,t){var n,s;const i=(n=t.value)!=null&&n.parent?e.parentElement:e,r=(s=t.instance)==null?void 0:s.$.uid;if(!(i!=null&&i._touchHandlers)||!r)return;const o=i._touchHandlers[r];GI(o).forEach(a=>{i.removeEventListener(a,o[a])}),delete i._touchHandlers[r]}const Qg={mounted:jH,unmounted:zH},xT=Symbol.for("vuetify:v-window"),RT=Symbol.for("vuetify:v-window-group"),NT=rt()({name:"VWindow",directives:{Touch:Qg},props:{continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{default:"force"},...Te(),...Ue()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:s}=Ze(e),{isRtl:i}=ti(),{t:r}=rs(),o=Tr(e,RT),a=D(),l=y(()=>i.value?!e.reverse:e.reverse),u=D(!1),c=y(()=>{const I=e.direction==="vertical"?"y":"x",T=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${I}${T}-transition`}),d=D(0),h=D(void 0),f=y(()=>o.items.value.findIndex(I=>o.selected.value.includes(I.id)));he(f,(I,k)=>{const T=o.items.value.length,C=T-1;T<=2?u.value=I<k:I===C&&k===0?u.value=!0:I===0&&k===C?u.value=!1:u.value=I<k}),bt(xT,{transition:c,isReversed:u,transitionCount:d,transitionHeight:h,rootRef:a});const m=y(()=>e.continuous||f.value!==0),g=y(()=>e.continuous||f.value!==o.items.value.length-1);function b(){m.value&&o.prev()}function _(){g.value&&o.next()}const w=y(()=>{const I=[],k={icon:i.value?e.nextIcon:e.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:o.prev,ariaLabel:r("$vuetify.carousel.prev")};I.push(m.value?n.prev?n.prev({props:k}):v(mn,k,null):v("div",null,null));const T={icon:i.value?e.prevIcon:e.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:o.next,ariaLabel:r("$vuetify.carousel.next")};return I.push(g.value?n.next?n.next({props:T}):v(mn,T,null):v("div",null,null)),I}),p=y(()=>e.touch===!1?e.touch:{...{left:()=>{l.value?b():_()},right:()=>{l.value?_():b()},start:k=>{let{originalEvent:T}=k;T.stopPropagation()}},...e.touch===!0?{}:e.touch});return Y(()=>{var I,k;return _t(v(e.tag,{ref:a,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},s.value]},{default:()=>[v("div",{class:"v-window__container",style:{height:h.value}},[(I=n.default)==null?void 0:I.call(n,{group:o}),e.showArrows!==!1&&v("div",{class:"v-window__controls"},[w.value])]),(k=n.additional)==null?void 0:k.call(n,{group:o})]}),[[Rn("touch"),p.value]])}),{group:o}}});function Jg(){const e=D(!1);return yn(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:y(()=>e.value?void 0:{transition:"none !important"}),isBooted:yl(e)}}const PT=Q({name:"VWindowItem",directives:{Touch:Qg},props:{reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...kr(),...Qd()},emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const s=Fe(xT),i=zo(e,RT),{isBooted:r}=Jg();if(!s||!i)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=D(!1),a=y(()=>s.isReversed.value?e.reverseTransition!==!1:e.transition!==!1);function l(){!o.value||!s||(o.value=!1,s.transitionCount.value>0&&(s.transitionCount.value-=1,s.transitionCount.value===0&&(s.transitionHeight.value=void 0)))}function u(){if(!(o.value||!s)){if(o.value=!0,s.transitionCount.value===0){var m;s.transitionHeight.value=le((m=s.rootRef.value)==null?void 0:m.clientHeight)}s.transitionCount.value+=1}}function c(){l()}function d(m){!o.value||mt(()=>{!a.value||!o.value||!s||(s.transitionHeight.value=le(m.clientHeight))})}const h=y(()=>{const m=s.isReversed.value?e.reverseTransition:e.transition;return a.value?{name:typeof m!="string"?s.transition.value:m,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:c,onEnter:d}:!1}),{hasContent:f}=Yg(e,i.isSelected);return Y(()=>{var m;return v(gs,{transition:r.value&&h.value},{default:()=>[_t(v("div",{class:["v-window-item",i.selectedClass.value]},[f.value&&((m=n.default)==null?void 0:m.call(n))]),[[As,i.isSelected.value]])]})}),{}}}),HH=Q({name:"VCarousel",props:{color:String,cycle:Boolean,delimiterIcon:{type:be,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>e>0},modelValue:null,progress:[Boolean,String],showArrows:{type:[Boolean,String],default:!0,validator:e=>typeof e=="boolean"||e==="hover"},verticalDelimiters:[Boolean,String]},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=Ie(e,"modelValue"),{t:i}=rs(),r=D();let o=-1;he(s,l),he(()=>e.interval,l),he(()=>e.cycle,u=>{u?l():window.clearTimeout(o)}),yn(a);function a(){!e.cycle||!r.value||(o=window.setTimeout(r.value.group.next,+e.interval>0?+e.interval:6e3))}function l(){window.clearTimeout(o),window.requestAnimationFrame(a)}return Y(()=>v(NT,{ref:r,modelValue:s.value,"onUpdate:modelValue":u=>s.value=u,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters}],style:{height:le(e.height)},continuous:!0,mandatory:"force",showArrows:e.showArrows},{default:n.default,additional:u=>{let{group:c}=u;return v(Re,null,[!e.hideDelimiters&&v("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[c.items.value.length>0&&v(st,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[c.items.value.map((d,h)=>{const f={"aria-label":i("$vuetify.carousel.ariaLabel.delimiter",h+1,c.items.value.length),class:[c.isSelected(d.id)&&"v-btn--active"],onClick:()=>c.select(d.id,!0)};return n.item?n.item({props:f,item:d}):v(mn,ce(d,f),null)})]})]),e.progress&&v(Bg,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(c.getItemIndex(s.value)+1)/c.items.value.length*100},null)])},prev:n.prev,next:n.next})),{}}}),WH=Q({name:"VCarouselItem",inheritAttrs:!1,props:{value:null},setup(e,t){let{slots:n,attrs:s}=t;Y(()=>v(PT,{class:"v-carousel-item",value:e.value},{default:()=>[v(Uo,s,n)]}))}});const qH=Hn("v-code");const KH=Q({name:"VColorPickerCanvas",props:{color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300}},emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const s=D(!1),i=D(!1),r=D({x:0,y:0}),o=y(()=>{const{x:m,y:g}=r.value,b=parseInt(e.dotSize,10)/2;return{width:le(e.dotSize),height:le(e.dotSize),transform:`translate(${le(m-b)}, ${le(g-b)})`}}),a=D();function l(m,g,b){const{left:_,top:w,width:p,height:I}=b;r.value={x:En(m-_,0,p),y:En(g-w,0,I)}}function u(m){e.disabled||!a.value||l(m.clientX,m.clientY,a.value.getBoundingClientRect())}function c(m){m.preventDefault(),!e.disabled&&(s.value=!0,window.addEventListener("mousemove",d),window.addEventListener("mouseup",h),window.addEventListener("touchmove",d),window.addEventListener("touchend",h))}function d(m){if(e.disabled||!a.value)return;s.value=!0;const g=Q2(m);l(g.clientX,g.clientY,a.value.getBoundingClientRect())}function h(){window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",h),window.removeEventListener("touchmove",d),window.removeEventListener("touchend",h)}he(r,()=>{var I,k;var m,g;if(i.value){i.value=!1;return}if(!a.value)return;const{width:b,height:_}=a.value.getBoundingClientRect(),{x:w,y:p}=r.value;n("update:color",{h:(I=(m=e.color)==null?void 0:m.h)!=null?I:0,s:En(w,0,b)/b,v:1-En(p,0,_)/_,a:(k=(g=e.color)==null?void 0:g.a)!=null?k:1})});function f(){var p;var m;if(!a.value)return;const g=a.value,b=g.getContext("2d");if(!b)return;const _=b.createLinearGradient(0,0,g.width,0);_.addColorStop(0,"hsla(0, 0%, 100%, 1)"),_.addColorStop(1,`hsla(${(p=(m=e.color)==null?void 0:m.h)!=null?p:0}, 100%, 50%, 1)`),b.fillStyle=_,b.fillRect(0,0,g.width,g.height);const w=b.createLinearGradient(0,0,0,g.height);w.addColorStop(0,"hsla(0, 0%, 100%, 0)"),w.addColorStop(1,"hsla(0, 0%, 0%, 1)"),b.fillStyle=w,b.fillRect(0,0,g.width,g.height)}return he(()=>{var m;return(m=e.color)==null?void 0:m.h},f,{immediate:!0}),he(()=>e.color,()=>{if(s.value){s.value=!1;return}!e.color||(i.value=!0,r.value={x:e.color.s*parseInt(e.width,10),y:(1-e.color.v)*parseInt(e.height,10)})},{deep:!0,immediate:!0}),yn(()=>f()),Y(()=>v("div",{class:"v-color-picker-canvas",style:{width:le(e.width),height:le(e.height)},onClick:u,onMousedown:c,onTouchstart:c},[v("canvas",{ref:a,width:e.width,height:e.height},null),v("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:o.value},null)])),{}}});var Gb;function Qi(e,t){return t.every(n=>e.hasOwnProperty(n))}function OT(e){var n;if(!e)return null;let t=null;if(typeof e=="string"){const s=fj(e);t=rk(s)}return typeof e=="object"&&(Qi(e,["r","g","b"])?t=Rg(e):Qi(e,["h","s","l"])?t=sk(e):Qi(e,["h","s","v"])&&(t=e)),t!=null?{...t,a:(n=t.a)!=null?n:1}:null}function GH(e,t){if(t){const{a:n,...s}=e;return s}return e}function YH(e,t){if(t==null||typeof t=="string"){const n=ok(e);return e.a===1?n.slice(0,7):n}if(typeof t=="object"){let n;return Qi(t,["r","g","b"])?n=Fd(e):Qi(t,["h","s","l"])?n=nk(e):Qi(t,["h","s","v"])&&(n=e),GH(n,!Qi(t,["a"]))}return e}const ju={h:0,s:0,v:1,a:1},Sv={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>Math.round(e.a*100)/100,getColor:(e,t)=>({...e,a:Number(t)})}],to:Fd,from:Rg},XH={...Sv,inputs:(Gb=Sv.inputs)==null?void 0:Gb.slice(0,3)},Ev={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>Math.round(e.a*100)/100,getColor:(e,t)=>({...e,a:Number(t)})}],to:nk,from:sk},QH={...Ev,inputs:Ev.inputs.slice(0,3)},DT={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:ok,from:rk},JH={...DT,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},Ji={rgb:XH,rgba:Sv,hsl:QH,hsla:Ev,hex:JH,hexa:DT},ZH=e=>{let{label:t,...n}=e;return v("div",{class:"v-color-picker-edit__input"},[v("input",n,null),v("span",null,[t])])},eW=Q({name:"VColorPickerEdit",props:{color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(Ji).includes(e)},modes:{type:Array,default:()=>Object.keys(Ji),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(Ji).includes(t))}},emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t;const s=y(()=>e.modes.map(r=>({...Ji[r],name:r}))),i=y(()=>{var r;const o=s.value.find(l=>l.name===e.mode);if(!o)return[];const a=e.color?o.to(e.color):{};return(r=o.inputs)==null?void 0:r.map(l=>{let{getValue:u,getColor:c,...d}=l;return{...o.inputProps,...d,disabled:e.disabled,value:u(a),onChange:h=>{const f=h.target;!f||n("update:color",o.from(c(a,f.value)))}}})});return Y(()=>{var r;return v("div",{class:"v-color-picker-edit"},[(r=i.value)==null?void 0:r.map(o=>v(ZH,o,null)),s.value.length>1&&v(mn,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const o=s.value.findIndex(a=>a.name===e.mode);n("update:mode",s.value[(o+1)%s.value.length].name)}},null)])}),{}}});const Zg=Symbol.for("vuetify:v-slider");function Iv(e,t,n){const s=n==="vertical",i=t.getBoundingClientRect(),r="touches"in e?e.touches[0]:e;return s?r.clientY-(i.top+i.height/2):r.clientX-(i.left+i.width/2)}function tW(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const LT=ke({disabled:Boolean,error:Boolean,readonly:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...ft(),...Nt({elevation:2})},"slider"),MT=e=>{let{props:t,handleSliderMouseUp:n,handleMouseMove:s,getActiveThumb:i}=e;const{isRtl:r}=ti(),o=y(()=>r.value!==t.reverse),a=y(()=>{let ne=r.value?"rtl":"ltr";return t.reverse&&(ne=ne==="rtl"?"ltr":"rtl"),ne}),l=y(()=>parseFloat(t.min)),u=y(()=>parseFloat(t.max)),c=y(()=>t.step>0?parseFloat(t.step):0),d=y(()=>{const ne=c.value.toString().trim();return ne.includes(".")?ne.length-ne.indexOf(".")-1:0}),h=y(()=>parseInt(t.thumbSize,10)),f=y(()=>parseInt(t.tickSize,10)),m=y(()=>parseInt(t.trackSize,10)),g=y(()=>(u.value-l.value)/c.value),b=z(t,"disabled"),_=y(()=>t.direction==="vertical"),w=y(()=>{var ne;return t.error||t.disabled?void 0:(ne=t.thumbColor)!=null?ne:t.color}),p=y(()=>{var ne;return t.error||t.disabled?void 0:(ne=t.trackColor)!=null?ne:t.color}),I=y(()=>{var ne;return t.error||t.disabled?void 0:(ne=t.trackFillColor)!=null?ne:t.color}),k=D(!1),T=D(0),C=D(),S=D();function x(ne){if(c.value<=0)return ne;const M=En(ne,l.value,u.value),j=l.value%c.value,Z=Math.round((M-j)/c.value)*c.value+j;return parseFloat(Math.min(Z,u.value).toFixed(d.value))}function A(ne){var M;const j=t.direction==="vertical",Z=j?"top":"left",de=j?"height":"width",Oe=j?"clientY":"clientX",{[Z]:Ge,[de]:De}=(M=C.value)==null?void 0:M.$el.getBoundingClientRect(),E=tW(ne,Oe);let R=Math.min(Math.max((E-Ge-T.value)/De,0),1)||0;return(j||o.value)&&(R=1-R),x(l.value+R*(u.value-l.value))}let O=!1;const N=ne=>{O||(T.value=0,n(A(ne))),k.value=!1,O=!1,T.value=0},L=ne=>{S.value=i(ne),S.value&&(S.value.focus(),k.value=!0,S.value.contains(ne.target)?(O=!0,T.value=Iv(ne,S.value,t.direction)):(T.value=0,s(A(ne))))},F={passive:!0,capture:!0};function q(ne){O=!0,s(A(ne))}function B(ne){ne.stopPropagation(),ne.preventDefault(),N(ne),window.removeEventListener("mousemove",q,F),window.removeEventListener("mouseup",B)}function P(ne){var M;N(ne),window.removeEventListener("touchmove",q,F),(M=ne.target)==null||M.removeEventListener("touchend",P)}function $(ne){var M;L(ne),window.addEventListener("touchmove",q,F),(M=ne.target)==null||M.addEventListener("touchend",P,{passive:!1})}function J(ne){ne.preventDefault(),L(ne),window.addEventListener("mousemove",q,F),window.addEventListener("mouseup",B,{passive:!1})}const K=ne=>{const M=(ne-l.value)/(u.value-l.value)*100;return En(isNaN(M)?0:M,0,100)},oe=y(()=>t.ticks?Array.isArray(t.ticks)?t.ticks.map(ne=>({value:ne,position:K(ne),label:ne.toString()})):Object.keys(t.ticks).map(ne=>({value:parseFloat(ne),position:K(parseFloat(ne)),label:t.ticks[ne]})):g.value!==1/0?Yi(g.value+1).map(ne=>{const M=l.value+ne*c.value;return{value:M,position:K(M)}}):[]),re=y(()=>oe.value.some(ne=>{let{label:M}=ne;return!!M})),Me={activeThumbRef:S,color:z(t,"color"),decimals:d,disabled:b,direction:z(t,"direction"),elevation:z(t,"elevation"),hasLabels:re,horizontalDirection:a,isReversed:o,min:l,max:u,mousePressed:k,numTicks:g,onSliderMousedown:J,onSliderTouchstart:$,parsedTicks:oe,parseMouseMove:A,position:K,readonly:z(t,"readonly"),rounded:z(t,"rounded"),roundValue:x,showTicks:z(t,"showTicks"),startOffset:T,step:c,thumbSize:h,thumbColor:w,thumbLabel:z(t,"thumbLabel"),ticks:z(t,"ticks"),tickSize:f,trackColor:p,trackContainerRef:C,trackFillColor:I,trackSize:m,vertical:_};return bt(Zg,Me),Me},kv=Q({name:"VSliderThumb",directives:{Ripple:Ni},props:{focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0}},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:s}=t;const i=Fe(Zg);if(!i)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:r,step:o,vertical:a,disabled:l,thumbSize:u,thumbLabel:c,direction:d,readonly:h,elevation:f,isReversed:m,horizontalDirection:g,mousePressed:b,decimals:_}=i,{textColorClasses:w,textColorStyles:p}=pn(r),{pageup:I,pagedown:k,end:T,home:C,left:S,right:x,down:A,up:O}=av,N=[I,k,T,C,S,x,A,O],L=y(()=>o.value?[1,2,3]:[1,5,10]);function F(B,P){if(!N.includes(B.key))return;B.preventDefault();const $=o.value||.1,J=(e.max-e.min)/$;if([S,x,A,O].includes(B.key)){const oe=(m.value?[S,O]:[x,O]).includes(B.key)?1:-1,re=B.shiftKey?2:B.ctrlKey?1:0;P=P+oe*$*L.value[re]}else if(B.key===C)P=e.min;else if(B.key===T)P=e.max;else{const K=B.key===k?1:-1;P=P-K*$*(J>100?J/10:10)}return Math.max(e.min,Math.min(e.max,P))}function q(B){const P=F(B,e.modelValue);P!=null&&s("update:modelValue",P)}return Y(()=>{var B;const P=le(a.value?100-e.position:e.position,"%"),$=a.value?"block":"inline",{elevationClasses:J}=Xt(y(()=>l.value?void 0:f.value));return v("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&b.value}],style:{[`inset-${$}-start`]:`calc(${P} - var(--v-slider-thumb-size) / 2)`,"--v-slider-thumb-size":le(u.value),direction:a.value?void 0:g.value},role:"slider",tabindex:l.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":h.value,"aria-orientation":d.value,onKeydown:h.value?void 0:q},[v("div",{class:["v-slider-thumb__surface",w.value,J.value],style:{...p.value}},null),_t(v("div",{class:["v-slider-thumb__ripple",w.value],style:p.value},null),[[Rn("ripple"),!0,null,{circle:!0,center:!0}]]),v(Ek,{origin:"bottom center"},{default:()=>{var K;return[_t(v("div",{class:"v-slider-thumb__label-container"},[v("div",{class:["v-slider-thumb__label"]},[v("div",null,[(K=(B=n["thumb-label"])==null?void 0:B.call(n,{modelValue:e.modelValue}))!=null?K:e.modelValue.toFixed(o.value?_.value:1)])])]),[[As,c.value&&e.focused||c.value==="always"]])]}})])}),{}}});const VT=Q({name:"VSliderTrack",props:{start:{type:Number,required:!0},stop:{type:Number,required:!0}},emits:{},setup(e,t){let{slots:n}=t;const s=Fe(Zg);if(!s)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:i,horizontalDirection:r,parsedTicks:o,rounded:a,showTicks:l,tickSize:u,trackColor:c,trackFillColor:d,trackSize:h,vertical:f,min:m,max:g}=s,{roundedClasses:b}=St(a),{backgroundColorClasses:_,backgroundColorStyles:w}=Ct(d),{backgroundColorClasses:p,backgroundColorStyles:I}=Ct(c),k=y(()=>`inset-${f.value?"block-end":"inline-start"}`),T=y(()=>f.value?"height":"width"),C=y(()=>({[k.value]:"0%",[T.value]:"100%"})),S=y(()=>e.stop-e.start),x=y(()=>({[k.value]:le(e.start,"%"),[T.value]:le(S.value,"%")})),A=y(()=>(f.value?o.value.slice().reverse():o.value).map((N,L)=>{var P;var F;const q=f.value?"bottom":"margin-inline-start",B=N.value!==m.value&&N.value!==g.value?le(N.position,"%"):void 0;return v("div",{key:N.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":N.position>=e.start&&N.position<=e.stop,"v-slider-track__tick--first":N.value===m.value,"v-slider-track__tick--last":N.value===g.value}],style:{[q]:B}},[(N.label||n["tick-label"])&&v("div",{class:"v-slider-track__tick-label"},[(P=(F=n["tick-label"])==null?void 0:F.call(n,{tick:N,index:L}))!=null?P:N.label])])}));return Y(()=>v("div",{class:["v-slider-track",b.value],style:{"--v-slider-track-size":le(h.value),"--v-slider-tick-size":le(u.value),direction:f.value?void 0:r.value}},[v("div",{class:["v-slider-track__background",p.value,{"v-slider-track__background--opacity":!!i.value||!d.value}],style:{...C.value,...I.value}},null),v("div",{class:["v-slider-track__fill",_.value],style:{...x.value,...w.value}},null),l.value&&v("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":l.value==="always"}]},[A.value])])),{}}}),Tv=Q({name:"VSlider",props:{...Wd(),...LT(),...ii(),modelValue:{type:[Number,String],default:0}},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=D(),{min:i,max:r,mousePressed:o,roundValue:a,onSliderMousedown:l,onSliderTouchstart:u,trackContainerRef:c,position:d,hasLabels:h,readonly:f}=MT({props:e,handleSliderMouseUp:p=>m.value=a(p),handleMouseMove:p=>m.value=a(p),getActiveThumb:()=>{var p;return(p=s.value)==null?void 0:p.$el}}),m=Ie(e,"modelValue",void 0,p=>{const I=typeof p=="string"?parseFloat(p):p==null?i.value:p;return a(I)}),{isFocused:g,focus:b,blur:_}=Rr(e),w=y(()=>d(m.value));return Y(()=>{const[p,I]=Pi(e),k=!!(e.label||n.label||n.prepend);return v(Ns,ce({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||h.value,"v-slider--focused":g.value,"v-slider--pressed":o.value,"v-slider--disabled":e.disabled}]},p,{focused:g.value}),{...n,prepend:k?T=>{var x;var C,S;return v(Re,null,[((x=(C=n.label)==null?void 0:C.call(n,T))!=null?x:e.label)?v(Go,{class:"v-slider__label",text:e.label},null):void 0,(S=n.prepend)==null?void 0:S.call(n,T)])}:void 0,default:T=>{let{id:C}=T;return v("div",{class:"v-slider__container",onMousedown:f.value?void 0:l,onTouchstartPassive:f.value?void 0:u},[v("input",{id:C.value,name:e.name||C.value,disabled:e.disabled,readonly:e.readonly,tabindex:"-1",value:m.value},null),v(VT,{ref:c,start:0,stop:w.value},{"tick-label":n["tick-label"]}),v(kv,{ref:s,focused:g.value,min:i.value,max:r.value,modelValue:m.value,"onUpdate:modelValue":S=>m.value=S,position:w.value,elevation:e.elevation,onFocus:b,onBlur:_},{"thumb-label":n["thumb-label"]})])}})}),{}}}),nW=Q({name:"VColorPickerPreview",props:{color:{type:Object},disabled:Boolean,hideAlpha:Boolean},emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return Y(()=>{var r;var s,i;return v("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha}]},[v("div",{class:"v-color-picker-preview__dot"},[v("div",{style:{background:ik((r=e.color)!=null?r:ju)}},null)]),v("div",{class:"v-color-picker-preview__sliders"},[v(Tv,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(s=e.color)==null?void 0:s.h,"onUpdate:modelValue":o=>{var a;return n("update:color",{...(a=e.color)!=null?a:ju,h:o})},step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&v(Tv,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:(i=e.color)==null?void 0:i.a,"onUpdate:modelValue":o=>{var a;return n("update:color",{...(a=e.color)!=null?a:ju,a:o})},step:0,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}});const sW=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),iW=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),rW=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),oW=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),aW=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),lW=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),uW=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),cW=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),dW=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),hW=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),fW=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),vW=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),mW=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),gW=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),pW=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),yW=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),_W=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),bW=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),wW=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),CW=Object.freeze({black:"#000000",white:"#ffffff",transparent:"#ffffff00"}),SW=Object.freeze({red:sW,pink:iW,purple:rW,deepPurple:oW,indigo:aW,blue:lW,lightBlue:uW,cyan:cW,teal:dW,green:hW,lightGreen:fW,lime:vW,yellow:mW,amber:gW,orange:pW,deepOrange:yW,brown:_W,blueGrey:bW,grey:wW,shades:CW});function EW(e){return Object.keys(e).map(t=>{const n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const IW=Q({name:"VColorPickerSwatches",props:{swatches:{type:Array,default:()=>EW(SW)},disabled:Boolean,color:Object,maxHeight:[Number,String]},emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return Y(()=>v("div",{class:"v-color-picker-swatches",style:{maxHeight:le(e.maxHeight)}},[v("div",null,[e.swatches.map(s=>v("div",{class:"v-color-picker-swatches__swatch"},[s.map(i=>{const r=OT(i);return v("div",{class:"v-color-picker-swatches__color",onClick:()=>r&&n("update:color",r)},[v("div",{style:{background:i}},[e.color&&Xl(e.color,r)?v(It,{size:"x-small",icon:"$success",color:gj(i,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}});const $T=Q({name:"VSheet",props:{color:String,...On(),...os(),...Nt(),...Ar(),...Wo(),...ft(),...Te(),...Ue()},setup(e,t){let{slots:n}=t;const{themeClasses:s}=Ze(e),{backgroundColorClasses:i,backgroundColorStyles:r}=Ct(z(e,"color")),{borderClasses:o}=Wn(e),{dimensionStyles:a}=as(e),{elevationClasses:l}=Xt(e),{locationStyles:u}=xr(e),{positionClasses:c}=qo(e),{roundedClasses:d}=St(e);return()=>v(e.tag,{class:["v-sheet",s.value,i.value,o.value,l.value,c.value,d.value],style:[r.value,a.value,u.value]},n)}}),kW=Q({name:"VColorPicker",inheritAttrs:!1,props:{canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(Ji).includes(e)},modes:{type:Array,default:()=>Object.keys(Ji),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(Ji).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},width:{type:[Number,String],default:300},...Nt(),...ft(),...Ue()},emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=Ie(e,"mode"),n=D(null),s=Ie(e,"modelValue",void 0,r=>{let o=OT(r);return o?(n.value&&(o={...o,h:n.value.h},n.value=null),o):null},r=>r?YH(r,e.modelValue):null),i=r=>{s.value=r,n.value=r};return yn(()=>{e.modes.includes(t.value)||(t.value=e.modes[0])}),Y(()=>{var r;return v($T,{rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker"],style:{"--v-color-picker-color-hsv":ik({...(r=s.value)!=null?r:ju,a:1})},maxWidth:e.width},{default:()=>[!e.hideCanvas&&v(KH,{key:"canvas",color:s.value,"onUpdate:color":i,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&v("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&v(nW,{key:"preview",color:s.value,"onUpdate:color":i,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&v(eW,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":o=>t.value=o,color:s.value,"onUpdate:color":i,disabled:e.disabled},null)]),e.showSwatches&&v(IW,{key:"swatches",color:s.value,"onUpdate:color":i,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}});function TW(e,t,n){if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?v(Re,null,[v("span",{class:"v-combobox__unmask"},[e.substr(0,t)]),v("span",{class:"v-combobox__mask"},[e.substr(t,n)]),v("span",{class:"v-combobox__unmask"},[e.substr(t+n)])]):e}const AW=rt()({name:"VCombobox",props:{delimiters:Array,...yT({filterKeys:["title"]}),...Xg({hideNoData:!0,returnObject:!0}),...Cr(Gd({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...ni({transition:!1})},emits:{"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var B;var n;let{emit:s,slots:i}=t;const{t:r}=rs(),o=D(),a=D(!1),l=D(!0),u=Ie(e,"menu"),c=D(-1),d=y(()=>{var P;return(P=o.value)==null?void 0:P.color}),{items:h,transformIn:f,transformOut:m}=Gg(e),{textColorClasses:g,textColorStyles:b}=pn(d),_=Ie(e,"modelValue",[],P=>f(Bn(P||[])),P=>{var J;const $=m(P);return e.multiple?$:(J=$[0])!=null?J:null}),w=D(e.multiple?"":(B=(n=_.value[0])==null?void 0:n.title)!=null?B:""),p=y({get:()=>w.value,set:P=>{var $;if(w.value=P,e.multiple||(_.value=[qr(e,P)]),P&&e.multiple&&($=e.delimiters)!=null&&$.length){const J=P.split(new RegExp(`(?:${e.delimiters.join("|")})+`));J.length>1&&(J.forEach(K=>{K=K.trim(),K&&L(qr(e,K))}),w.value="")}P||(c.value=-1),a.value&&(u.value=!0),l.value=!P}});he(w,P=>{s("update:search",P)}),he(_,P=>{var J;if(!e.multiple){var $;w.value=(J=($=P[0])==null?void 0:$.title)!=null?J:""}});const{filteredItems:I}=_T(e,h,y(()=>l.value?void 0:p.value)),k=y(()=>_.value.map(P=>h.value.find($=>$.value===P.value)||P)),T=y(()=>k.value.map(P=>P.props.value)),C=y(()=>k.value[c.value]),S=D();function x(P){_.value=[],e.openOnClear&&(u.value=!0)}function A(){e.hideNoData&&!h.value.length||e.readonly||(u.value=!0)}function O(P){if(e.readonly)return;const $=o.value.selectionStart,J=T.value.length;if(c.value>-1&&P.preventDefault(),["Enter","ArrowDown"].includes(P.key)&&(u.value=!0),["Escape"].includes(P.key)&&(u.value=!1),["Enter","Escape","Tab"].includes(P.key)&&(l.value=!0),P.key==="ArrowDown"){var K;P.preventDefault(),(K=S.value)==null||K.focus("next")}else if(P.key==="ArrowUp"){var oe;P.preventDefault(),(oe=S.value)==null||oe.focus("prev")}if(!!e.multiple){if(["Backspace","Delete"].includes(P.key)){if(c.value<0){P.key==="Backspace"&&!p.value&&(c.value=J-1);return}L(C.value),mt(()=>!C.value&&(c.value=J-2))}if(P.key==="ArrowLeft"){if(c.value<0&&$>0)return;const re=c.value>-1?c.value-1:J-1;k.value[re]?c.value=re:(c.value=-1,o.value.setSelectionRange(p.value.length,p.value.length))}if(P.key==="ArrowRight"){if(c.value<0)return;const re=c.value+1;k.value[re]?c.value=re:(c.value=-1,o.value.setSelectionRange(0,0))}P.key==="Enter"&&(L(qr(e,p.value)),p.value="")}}function N(){a.value&&(l.value=!0)}function L(P){if(e.multiple){const $=T.value.findIndex(J=>J===P.value);if($===-1)_.value=[..._.value,P];else{const J=[..._.value];J.splice($,1),_.value=J}p.value=""}else _.value=[P],w.value=P.title,mt(()=>{u.value=!1,l.value=!0})}function F(P){a.value=!0}function q(P){if(P.relatedTarget==null){var $;($=o.value)==null||$.focus()}}return he(I,P=>{!P.length&&e.hideNoData&&(u.value=!1)}),he(a,P=>{if(P)c.value=-1;else{if(u.value=!1,!e.multiple||!p.value)return;_.value=[..._.value,qr(e,p.value)],p.value=""}}),Y(()=>{const P=!!(e.chips||i.chip),[$]=Hg(e);return v(eu,ce({ref:o},$,{modelValue:p.value,"onUpdate:modelValue":[J=>p.value=J,J=>{J==null&&(_.value=[])}],validationValue:_.externalValue,dirty:_.value.length>0,class:["v-combobox",{"v-combobox--active-menu":u.value,"v-combobox--chips":!!e.chips,"v-combobox--selecting-index":c.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0}],appendInnerIcon:e.items.length?e.menuIcon:void 0,readonly:e.readonly,"onClick:clear":x,"onClick:control":A,"onClick:input":A,onFocus:()=>a.value=!0,onBlur:()=>a.value=!1,onKeydown:O}),{...i,default:()=>{var J,K,oe;return v(Re,null,[v(eh,ce({modelValue:u.value,"onUpdate:modelValue":re=>u.value=re,activator:"parent",contentClass:"v-combobox__content",eager:e.eager,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:N},e.menuProps),{default:()=>[v(Xd,{ref:S,selected:T.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:re=>re.preventDefault(),onFocusin:F,onFocusout:q},{default:()=>{var re;return[!I.value.length&&!e.hideNoData&&((re=(J=i["no-data"])==null?void 0:J.call(i))!=null?re:v(Xs,{title:r(e.noDataText)},null)),(K=i["prepend-item"])==null?void 0:K.call(i),I.value.map((Me,ne)=>{var de;var M;let{item:j,matches:Z}=Me;return(de=(M=i.item)==null?void 0:M.call(i,{item:j,index:ne,props:ce(j.props,{onClick:()=>L(j)})}))!=null?de:v(Xs,ce({key:ne},j.props,{onClick:()=>L(j)}),{prepend:Oe=>{let{isSelected:Ge}=Oe;return e.multiple&&!e.hideSelected?v(Yo,{modelValue:Ge,ripple:!1},null):void 0},title:()=>{var Ge;var Oe;return l.value?j.title:TW(j.title,Z.title,(Ge=(Oe=p.value)==null?void 0:Oe.length)!=null?Ge:0)}})}),(oe=i["append-item"])==null?void 0:oe.call(i)]}})]}),k.value.map((re,Me)=>{function ne(j){j.stopPropagation(),j.preventDefault(),L(re)}const M={"onClick:close":ne,modelValue:!0,"onUpdate:modelValue":void 0};return v("div",{key:re.value,class:["v-combobox__selection",Me===c.value&&["v-combobox__selection--selected",g.value]],style:Me===c.value?b.value:{}},[P?v(st,{defaults:{VChip:{closable:e.closableChips,size:"small",text:re.title}}},{default:()=>[i.chip?i.chip({item:re,index:Me,props:M}):v(nu,M,null)]}):i.selection?i.selection({item:re,index:Me}):v("span",{class:"v-combobox__selection-text"},[re.title,e.multiple&&Me<k.value.length-1&&v("span",{class:"v-combobox__selection-comma"},[Ye(",")])])])})])}})}),ls({isFocused:a,isPristine:l,menu:u,search:p,selectionIndex:c,filteredItems:I,select:L},o)}});const xW=rt()({name:"VDialog",props:{fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...su({origin:"center center",scrollStrategy:"block",transition:{component:jd},zIndex:2400})},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=Ie(e,"modelValue"),{scopeId:i}=Zd(),r=D();function o(a){var l,u;const c=a.relatedTarget,d=a.target;if(c!==d&&(l=r.value)!=null&&l.contentEl&&(u=r.value)!=null&&u.globalTop&&![document,r.value.contentEl].includes(d)&&!r.value.contentEl.contains(d)){const h=[...r.value.contentEl.querySelectorAll('button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')].filter(g=>!g.hasAttribute("disabled")&&!g.matches('[tabindex="-1"]'));if(!h.length)return;const f=h[0],m=h[h.length-1];c===f?m.focus():f.focus()}}return yt&&he(()=>s.value&&e.retainFocus,a=>{a?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0}),he(s,async a=>{if(await mt(),a){var l;(l=r.value.contentEl)==null||l.focus({preventScroll:!0})}else{var u;(u=r.value.activatorEl)==null||u.focus({preventScroll:!0})}}),Y(()=>{const[a]=Jd(e);return v(Xo,ce({ref:r,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable}]},a,{modelValue:s.value,"onUpdate:modelValue":l=>s.value=l,"aria-role":"dialog","aria-modal":"true",activatorProps:ce({"aria-haspopup":"dialog","aria-expanded":String(s.value)},e.activatorProps)},i),{activator:n.activator,default:function(){for(var l,u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return v(st,{root:!0},{default:()=>[(l=n.default)==null?void 0:l.call(n,...c)]})}})}),ls({},r)}});const gl=Symbol.for("vuetify:v-expansion-panel"),RW=["default","accordion","inset","popout"],NW=Q({name:"VExpansionPanels",props:{color:String,variant:{type:String,default:"default",validator:e=>RW.includes(e)},readonly:Boolean,...jo(),...Te(),...Ue()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;Tr(e,gl);const{themeClasses:s}=Ze(e),i=y(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Rt({VExpansionPanel:{color:z(e,"color")},VExpansionPanelTitle:{readonly:z(e,"readonly")}}),Y(()=>v(e.tag,{class:["v-expansion-panels",s.value,i.value]},n)),{}}}),FT=ke({color:String,expandIcon:{type:be,default:"$expand"},collapseIcon:{type:be,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean},"v-expansion-panel-title"),BT=Q({name:"VExpansionPanelTitle",directives:{Ripple:Ni},props:{...FT()},setup(e,t){let{slots:n}=t;const s=Fe(gl);if(!s)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:i,backgroundColorStyles:r}=Ct(e,"color"),o=y(()=>({collapseIcon:e.collapseIcon,disabled:s.disabled.value,expanded:s.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return Y(()=>{var a;return _t(v("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":s.isSelected.value},i.value],style:r.value,type:"button",tabindex:s.disabled.value?-1:void 0,disabled:s.disabled.value,"aria-expanded":s.isSelected.value,onClick:e.readonly?void 0:s.toggle},[v("span",{class:"v-expansion-panel-title__overlay"},null),(a=n.default)==null?void 0:a.call(n,o.value),!e.hideActions&&v("span",{class:"v-expansion-panel-title__icon"},[n.actions?n.actions(o.value):v(It,{icon:s.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[Rn("ripple"),e.ripple]])}),{}}}),UT=Q({name:"VExpansionPanelText",props:{...Qd()},setup(e,t){let{slots:n}=t;const s=Fe(gl);if(!s)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:i,onAfterLeave:r}=Yg(e,s.isSelected);return Y(()=>{var o;return v(zd,{onAfterLeave:r},{default:()=>[_t(v("div",{class:"v-expansion-panel-text"},[n.default&&i.value&&v("div",{class:"v-expansion-panel-text__wrapper"},[(o=n.default)==null?void 0:o.call(n)])]),[[As,s.isSelected.value]])]})}),{}}}),PW=Q({name:"VExpansionPanel",props:{title:String,text:String,bgColor:String,...Nt(),...kr(),...Qd(),...ft(),...Te(),...FT()},emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const s=zo(e,gl),{backgroundColorClasses:i,backgroundColorStyles:r}=Ct(e,"bgColor"),{elevationClasses:o}=Xt(e),{roundedClasses:a}=St(e),l=y(()=>(s==null?void 0:s.disabled.value)||e.disabled),u=y(()=>s.group.items.value.reduce((h,f,m)=>(s.group.selected.value.includes(f.id)&&h.push(m),h),[])),c=y(()=>{const h=s.group.items.value.findIndex(f=>f.id===s.id);return!s.isSelected.value&&u.value.some(f=>f-h===1)}),d=y(()=>{const h=s.group.items.value.findIndex(f=>f.id===s.id);return!s.isSelected.value&&u.value.some(f=>f-h===-1)});return bt(gl,s),Y(()=>{var h;const f=!!(n.text||e.text),m=!!(n.title||e.title);return v(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":s.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":l.value},a.value,i.value],style:r.value,"aria-expanded":s.isSelected.value},{default:()=>[v("div",{class:["v-expansion-panel__shadow",...o.value]},null),m&&v(BT,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[n.title?n.title():e.title]}),f&&v(UT,{key:"text",eager:e.eager},{default:()=>[n.text?n.text():e.text]}),(h=n.default)==null?void 0:h.call(n)]})}),{}}});const OW=Q({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,hint:String,persistentHint:Boolean,placeholder:String,showSize:{type:[Boolean,Number],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(e)},...ii({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>Bn(e).every(t=>t!=null&&typeof t=="object")},...qd({clearable:!0})},emits:{"click:control":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:s,slots:i}=t;const{t:r}=rs(),o=Ie(e,"modelValue"),a=y(()=>typeof e.showSize!="boolean"?e.showSize:void 0),l=y(()=>{var k;return((k=o.value)!=null?k:[]).reduce((T,C)=>{let{size:S=0}=C;return T+S},0)}),u=y(()=>pb(l.value,a.value)),c=y(()=>{var k;return((k=o.value)!=null?k:[]).map(T=>{const{name:C="",size:S=0}=T;return e.showSize?`${C} (${pb(S,a.value)})`:C})}),d=y(()=>{var C;var k;const T=(C=(k=o.value)==null?void 0:k.length)!=null?C:0;return e.showSize?r(e.counterSizeString,T,u.value):r(e.counterString,T)}),h=D(),f=D(),m=D(!1),g=D(),b=y(()=>e.messages.length?e.messages:e.persistentHint?e.hint:"");function _(){if(g.value!==document.activeElement){var k;(k=g.value)==null||k.focus()}m.value||(m.value=!0)}function w(k){Nc(e["onClick:prepend"],k),p(k)}function p(k){var T;(T=g.value)==null||T.click(),s("click:control",k)}function I(k){k.stopPropagation(),_(),mt(()=>{o.value=[],g!=null&&g.value&&(g.value.value=""),Nc(e["onClick:clear"],k)})}return Y(()=>{const k=!!(i.counter||e.counter),T=!!(k||i.details),[C,S]=Sr(n),[{modelValue:x,...A}]=Pi(e),[O]=zg(e);return v(Ns,ce({ref:h,modelValue:o.value,"onUpdate:modelValue":N=>o.value=N,class:"v-file-input","onClick:prepend":w,"onClick:append":e["onClick:append"]},C,A,{focused:m.value,messages:b.value}),{...i,default:N=>{let{isDisabled:L,isDirty:F,isReadonly:q,isValid:B}=N;return v(Zl,ce({ref:f,"prepend-icon":e.prependIcon,"onClick:control":p,"onClick:clear":I,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},O,{active:F.value||m.value,dirty:F.value,focused:m.value,error:B.value===!1}),{...i,default:P=>{let{props:{class:$,...J}}=P;return v(Re,null,[v("input",ce({ref:g,type:"file",readonly:q.value,disabled:L.value,multiple:e.multiple,name:e.name,onClick:K=>{K.stopPropagation(),_()},onChange:K=>{var re;if(!K.target)return;const oe=K.target;o.value=[...(re=oe.files)!=null?re:[]]},onFocus:_,onBlur:()=>m.value=!1},J,S),null),v("div",{class:$},[o.value.length>0&&(i.selection?i.selection({fileNames:c.value,totalBytes:l.value,totalBytesReadable:u.value}):e.chips?c.value.map(K=>v(nu,{key:K,size:"small",color:e.color},{default:()=>[K]})):c.value.join(", "))])])}})},details:T?N=>{var L;return v(Re,null,[(L=i.details)==null?void 0:L.call(i,N),k&&v(Re,null,[v("span",null,null),v(Kd,{active:!!o.value.length,value:d.value},i.counter)])])}:void 0})}),ls({},h,f,g)}});const DW=Q({name:"VFooter",props:{app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...On(),...Nt(),...Fo(),...ft(),...Te({tag:"footer"}),...Ue()},setup(e,t){let{slots:n}=t;const{themeClasses:s}=Ze(e),{backgroundColorClasses:i,backgroundColorStyles:r}=Ct(z(e,"color")),{borderClasses:o}=Wn(e),{elevationClasses:a}=Xt(e),{roundedClasses:l}=St(e),u=D(32),{resizeRef:c}=mr(f=>{!f.length||(u.value=f[0].target.clientHeight)}),d=y(()=>e.height==="auto"?u.value:parseInt(e.height,10)),{layoutItemStyles:h}=Bo({id:e.name,order:y(()=>parseInt(e.order,10)),position:y(()=>"bottom"),layoutSize:d,elementSize:y(()=>e.height==="auto"?void 0:d.value),active:y(()=>e.app),absolute:z(e,"absolute")});return Y(()=>v(e.tag,{ref:c,class:["v-footer",s.value,i.value,o.value,a.value,l.value],style:[r.value,e.app?h.value:void 0]},n)),{}}}),LW=Q({name:"VForm",props:{...Vz()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:s}=t;const i=$z(e),r=D();function o(l){l.preventDefault(),i.reset()}function a(l){const u=l,c=i.validate();u.then=c.then.bind(c),u.catch=c.catch.bind(c),u.finally=c.finally.bind(c),s("submit",u),u.defaultPrevented||c.then(d=>{let{valid:h}=d;if(h){var f;(f=r.value)==null||f.submit()}}),u.preventDefault()}return Y(()=>{var l;return v("form",{ref:r,class:"v-form",novalidate:!0,onReset:o,onSubmit:a},[(l=n.default)==null?void 0:l.call(n,i)])}),ls(i,r)}});const MW=Q({name:"VContainer",props:{fluid:{type:Boolean,default:!1},...Te()},setup(e,t){let{slots:n}=t;return Y(()=>v(e.tag,{class:["v-container",{"v-container--fluid":e.fluid}]},n)),{}}}),ep=["sm","md","lg","xl","xxl"],jT=(()=>ep.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}))(),zT=(()=>ep.reduce((e,t)=>(e["offset"+Qs(t)]={type:[String,Number],default:null},e),{}))(),HT=(()=>ep.reduce((e,t)=>(e["order"+Qs(t)]={type:[String,Number],default:null},e),{}))(),Yb={col:Object.keys(jT),offset:Object.keys(zT),order:Object.keys(HT)};function VW(e,t,n){let s=e;if(!(n==null||n===!1)){if(t){const i=t.replace(e,"");s+=`-${i}`}return e==="col"&&(s="v-"+s),e==="col"&&(n===""||n===!0)||(s+=`-${n}`),s.toLowerCase()}}const $W=["auto","start","end","center","baseline","stretch"],FW=Q({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...jT,offset:{type:[String,Number],default:null},...zT,order:{type:[String,Number],default:null},...HT,alignSelf:{type:String,default:null,validator:e=>$W.includes(e)},...Te()},setup(e,t){let{slots:n}=t;const s=y(()=>{const i=[];let r;for(r in Yb)Yb[r].forEach(a=>{const l=e[a],u=VW(r,a,l);u&&i.push(u)});const o=i.some(a=>a.startsWith("v-col-"));return i.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),i});return()=>{var i;return Ts(e.tag,{class:s.value},(i=n.default)==null?void 0:i.call(n))}}}),BW=["sm","md","lg","xl","xxl"],tp=["start","end","center"],WT=["space-between","space-around","space-evenly"];function np(e,t){return BW.reduce((n,s)=>(n[e+Qs(s)]=t(),n),{})}const UW=[...tp,"baseline","stretch"],qT=e=>UW.includes(e),KT=np("align",()=>({type:String,default:null,validator:qT})),jW=[...tp,...WT],GT=e=>jW.includes(e),YT=np("justify",()=>({type:String,default:null,validator:GT})),zW=[...tp,...WT,"stretch"],XT=e=>zW.includes(e),QT=np("alignContent",()=>({type:String,default:null,validator:XT})),Xb={align:Object.keys(KT),justify:Object.keys(YT),alignContent:Object.keys(QT)},HW={align:"align",justify:"justify",alignContent:"align-content"};function WW(e,t,n){let s=HW[e];if(n!=null){if(t){const i=t.replace(e,"");s+=`-${i}`}return s+=`-${n}`,s.toLowerCase()}}const qW=Q({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:qT},...KT,justify:{type:String,default:null,validator:GT},...YT,alignContent:{type:String,default:null,validator:XT},...QT,...Te()},setup(e,t){let{slots:n}=t;const s=y(()=>{const i=[];let r;for(r in Xb)Xb[r].forEach(o=>{const a=e[o],l=WW(r,o,a);l&&i.push(l)});return i.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),i});return()=>{var i;return Ts(e.tag,{class:["v-row",s.value]},(i=n.default)==null?void 0:i.call(n))}}}),KW=Hn("flex-grow-1","div","VSpacer"),GW=Q({name:"VHover",props:{disabled:Boolean,modelValue:{type:Boolean,default:void 0},...cT()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=Ie(e,"modelValue"),{runOpenDelay:i,runCloseDelay:r}=dT(e,o=>!e.disabled&&(s.value=o));return()=>{var o;return(o=n.default)==null?void 0:o.call(n,{isHovering:s.value,props:{onMouseenter:i,onMouseleave:r}})}}});const JT=Symbol.for("vuetify:v-item-group"),YW=Q({name:"VItemGroup",props:{...jo({selectedClass:"v-item--selected"}),...Te(),...Ue()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:s}=Ze(e),{isSelected:i,select:r,next:o,prev:a,selected:l}=Tr(e,JT);return()=>{var u;return v(e.tag,{class:["v-item-group",s.value]},{default:()=>[(u=n.default)==null?void 0:u.call(n,{isSelected:i,select:r,next:o,prev:a,selected:l.value})]})}}}),XW=rt()({name:"VItem",props:kr(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:s,select:i,toggle:r,selectedClass:o,value:a,disabled:l}=zo(e,JT);return()=>{var u;return(u=n.default)==null?void 0:u.call(n,{isSelected:s.value,selectedClass:o.value,select:i,toggle:r,value:a.value,disabled:l.value})}}});const QW=Hn("v-kbd");const JW=Q({name:"VLayout",props:_k(),setup(e,t){let{slots:n}=t;const{layoutClasses:s,layoutStyles:i,getLayoutItem:r,items:o,layoutRef:a}=bk(e);return Y(()=>{var l;return v("div",{ref:a,class:s.value,style:i.value},[(l=n.default)==null?void 0:l.call(n)])}),{getLayoutItem:r,items:o}}});const ZW=Q({name:"VLayoutItem",props:{position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Fo()},setup(e,t){let{slots:n}=t;const{layoutItemStyles:s}=Bo({id:e.name,order:y(()=>parseInt(e.order,10)),position:z(e,"position"),elementSize:z(e,"size"),layoutSize:z(e,"size"),active:z(e,"modelValue"),absolute:z(e,"absolute")});return()=>{var i;return v("div",{class:["v-layout-item"],style:s.value},[(i=n.default)==null?void 0:i.call(n)])}}}),eq=Q({name:"VLazy",directives:{intersect:Ql},props:{modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...os(),...Te(),...ni({transition:"fade-transition"})},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{dimensionStyles:s}=as(e),i=Ie(e,"modelValue");function r(o){i.value||(i.value=o)}return Y(()=>{var o;return _t(v(e.tag,{class:"v-lazy",style:s.value},{default:()=>[i.value&&v(gs,{transition:e.transition,appear:!0},{default:()=>[(o=n.default)==null?void 0:o.call(n)]})]}),[[Rn("intersect"),r,e.options]])}),{}}});const tq=Q({name:"VLocaleProvider",props:{locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0}},setup(e,t){let{slots:n}=t;const{rtlClasses:s}=$j(e);return Y(()=>{var i;return v("div",{class:["v-locale-provider",s.value]},[(i=n.default)==null?void 0:i.call(n)])}),{}}});const nq=Q({name:"VMain",props:{scrollable:Boolean,...Te({tag:"main"})},setup(e,t){let{slots:n}=t;const{mainStyles:s}=Qj(),{ssrBootStyles:i}=Jg();return Y(()=>{var r,o;return v(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable}],style:[s.value,i.value]},{default:()=>[e.scrollable?v("div",{class:"v-main__scroller"},[(r=n.default)==null?void 0:r.call(n)]):(o=n.default)==null?void 0:o.call(n)]})}),{}}});function sq(e){let{rootEl:t,isSticky:n,layoutItemStyles:s}=e;const i=D(!1),r=D(0),o=y(()=>{const u=typeof i.value=="boolean"?"top":i.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,i.value?{[u]:le(r.value)}:{top:s.value.top}]});yn(()=>{he(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),_n(()=>{document.removeEventListener("scroll",l)});let a=0;function l(){var m;const u=a>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),d=parseFloat((m=s.value.top)!=null?m:0),h=window.scrollY-Math.max(0,r.value-d),f=c.height+Math.max(r.value,d)-window.scrollY-window.innerHeight;c.height<window.innerHeight-d?(i.value="top",r.value=d):u==="up"&&i.value==="bottom"||u==="down"&&i.value==="top"?(r.value=window.scrollY+c.top,i.value=!0):u==="down"&&f<=0?(r.value=0,i.value="bottom"):u==="up"&&h<=0&&(r.value=c.top+h,i.value="top"),a=window.scrollY}return{isStuck:i,stickyStyles:o}}const iq=100,rq=20;function Qb(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function Jb(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const s=Qb(t),i=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(i-s)*Math.abs(i),n===e.length-1&&(t*=.5)}return Qb(t)*1e3}function oq(){const e={};function t(i){Array.from(i.changedTouches).forEach(r=>{var a;((a=e[r.identifier])!=null?a:e[r.identifier]=new X2(rq)).push([i.timeStamp,r])})}function n(i){Array.from(i.changedTouches).forEach(r=>{delete e[r.identifier]})}function s(i){var r;const o=(r=e[i])==null?void 0:r.values().reverse();if(!o)throw new Error(`No samples for touch id ${i}`);const a=o[0],l=[],u=[];for(const c of o){if(a[0]-c[0]>iq)break;l.push({t:c[0],d:c[1].clientX}),u.push({t:c[0],d:c[1].clientY})}return{x:Jb(l),y:Jb(u),get direction(){const{x:c,y:d}=this,[h,f]=[Math.abs(c),Math.abs(d)];return h>f&&c>=0?"right":h>f&&c<=0?"left":f>h&&d>=0?"down":f>h&&d<=0?"up":aq()}}}return{addMovement:t,endTouch:n,getVelocity:s}}function aq(){throw new Error}function lq(e){let{isActive:t,isTemporary:n,width:s,touchless:i,position:r}=e;yn(()=>{window.addEventListener("touchstart",_,{passive:!0}),window.addEventListener("touchmove",w,{passive:!1}),window.addEventListener("touchend",p,{passive:!0})}),_n(()=>{window.removeEventListener("touchstart",_),window.removeEventListener("touchmove",w),window.removeEventListener("touchend",p)});const o=y(()=>r.value!=="bottom"),{addMovement:a,endTouch:l,getVelocity:u}=oq();let c=!1;const d=D(!1),h=D(0),f=D(0);let m;function g(k,T){return(r.value==="left"?k:r.value==="right"?document.documentElement.clientWidth-k:r.value==="bottom"?document.documentElement.clientHeight-k:$r())-(T?s.value:0)}function b(k){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const C=r.value==="left"?(k-f.value)/s.value:r.value==="right"?(document.documentElement.clientWidth-k-f.value)/s.value:r.value==="bottom"?(document.documentElement.clientHeight-k-f.value)/s.value:$r();return T?Math.max(0,Math.min(1,C)):C}function _(k){if(i.value)return;const T=k.changedTouches[0].clientX,C=k.changedTouches[0].clientY,S=25,x=r.value==="left"?T<S:r.value==="right"?T>document.documentElement.clientWidth-S:r.value==="bottom"?C>document.documentElement.clientHeight-S:$r(),A=t.value&&(r.value==="left"?T<s.value:r.value==="right"?T>document.documentElement.clientWidth-s.value:r.value==="bottom"?C>document.documentElement.clientHeight-s.value:$r());(x||A||t.value&&n.value)&&(c=!0,m=[T,C],f.value=g(o.value?T:C,t.value),h.value=b(o.value?T:C),l(k),a(k))}function w(k){const T=k.changedTouches[0].clientX,C=k.changedTouches[0].clientY;if(c){if(!k.cancelable){c=!1;return}const x=Math.abs(T-m[0]),A=Math.abs(C-m[1]);(o.value?x>A&&x>3:A>x&&A>3)?(d.value=!0,c=!1):(o.value?A:x)>3&&(c=!1)}if(!d.value)return;k.preventDefault(),a(k);const S=b(o.value?T:C,!1);h.value=Math.max(0,Math.min(1,S)),S>1?f.value=g(o.value?T:C,!0):S<0&&(f.value=g(o.value?T:C,!1))}function p(k){if(c=!1,!d.value)return;a(k),d.value=!1;const T=u(k.changedTouches[0].identifier),C=Math.abs(T.x),S=Math.abs(T.y);(o.value?C>S&&C>400:S>C&&S>3)?t.value=T.direction===({left:"right",right:"left",bottom:"up"}[r.value]||$r()):t.value=h.value>.5}const I=y(()=>d.value?{transform:r.value==="left"?`translateX(calc(-100% + ${h.value*s.value}px))`:r.value==="right"?`translateX(calc(100% - ${h.value*s.value}px))`:r.value==="bottom"?`translateY(calc(100% - ${h.value*s.value}px))`:$r(),transition:"none"}:void 0);return{isDragging:d,dragProgress:h,dragStyles:I}}function $r(){throw new Error}const uq=["start","end","left","right","bottom"],cq=Q({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:Boolean,railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>uq.includes(e)},sticky:Boolean,...On(),...Nt(),...Fo(),...ft(),...Te({tag:"nav"}),...Ue()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:s}=t;const{isRtl:i}=ti(),{themeClasses:r}=Ze(e),{borderClasses:o}=Wn(e),{backgroundColorClasses:a,backgroundColorStyles:l}=Ct(z(e,"color")),{elevationClasses:u}=Xt(e),{mobile:c}=Bd(),{roundedClasses:d}=St(e),h=$k(),f=Ie(e,"modelValue",null,B=>!!B),{ssrBootStyles:m}=Jg(),g=D(),b=D(!1),_=y(()=>e.rail&&e.expandOnHover&&b.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),w=y(()=>uv(e.location,i.value)),p=y(()=>!e.permanent&&(c.value||e.temporary)),I=y(()=>e.sticky&&!p.value&&w.value!=="bottom");e.disableResizeWatcher||he(p,B=>!e.permanent&&mt(()=>f.value=!B)),!e.disableRouteWatcher&&h&&he(h.currentRoute,()=>p.value&&(f.value=!1)),he(()=>e.permanent,B=>{B&&(f.value=!0)}),Yc(()=>{e.modelValue!=null||p.value||(f.value=e.permanent||!c.value)});const{isDragging:k,dragProgress:T,dragStyles:C}=lq({isActive:f,isTemporary:p,width:_,touchless:z(e,"touchless"),position:w}),S=y(()=>{const B=p.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):_.value;return k.value?B*T.value:B}),{layoutItemStyles:x,layoutRect:A,layoutItemScrimStyles:O}=Bo({id:e.name,order:y(()=>parseInt(e.order,10)),position:w,layoutSize:S,elementSize:_,active:y(()=>f.value||k.value),disableTransitions:y(()=>k.value),absolute:y(()=>e.absolute||I.value&&typeof N.value!="string")}),{isStuck:N,stickyStyles:L}=sq({rootEl:g,isSticky:I,layoutItemStyles:x}),F=Ct(y(()=>typeof e.scrim=="string"?e.scrim:null)),q=y(()=>({...k.value?{opacity:T.value*.2,transition:"none"}:void 0,...A.value?{left:le(A.value.left),right:le(A.value.right),top:le(A.value.top),bottom:le(A.value.bottom)}:void 0,...O.value}));return Rt({VList:{bgColor:"transparent"}}),Y(()=>{var B,P,$,J;const K=s.image||e.image;return v(Re,null,[v(e.tag,ce({ref:g,onMouseenter:()=>b.value=!0,onMouseleave:()=>b.value=!1,class:["v-navigation-drawer",`v-navigation-drawer--${w.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":b.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":p.value,"v-navigation-drawer--active":f.value,"v-navigation-drawer--sticky":I.value},r.value,a.value,o.value,u.value,d.value],style:[l.value,x.value,C.value,m.value,L.value]},n),{default:()=>[K&&v("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?(B=s.image)==null?void 0:B.call(s,{image:e.image}):v("img",{src:e.image,alt:""},null)]),s.prepend&&v("div",{class:"v-navigation-drawer__prepend"},[(P=s.prepend)==null?void 0:P.call(s)]),v("div",{class:"v-navigation-drawer__content"},[($=s.default)==null?void 0:$.call(s)]),s.append&&v("div",{class:"v-navigation-drawer__append"},[(J=s.append)==null?void 0:J.call(s)])]}),v(ws,{name:"fade-transition"},{default:()=>[p.value&&(k.value||f.value)&&!!e.scrim&&v("div",{class:["v-navigation-drawer__scrim",F.backgroundColorClasses.value],style:[q.value,F.backgroundColorStyles.value],onClick:()=>f.value=!1},null)]})])}),{isStuck:N}}}),dq=Q({name:"VNoSsr",setup(e,t){let{slots:n}=t;const s=vT();return()=>{var i;return s.value&&((i=n.default)==null?void 0:i.call(n))}}});function hq(){const e=D([]);B0(()=>e.value=[]);function t(n,s){e.value[s]=n}return{refs:e,updateRef:t}}const fq=Q({name:"VPagination",props:{activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:be,default:"$first"},prevIcon:{type:be,default:"$prev"},nextIcon:{type:be,default:"$next"},lastIcon:{type:be,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...On(),...Lt(),...Nt(),...ft(),...si(),...Te({tag:"nav"}),...Ue(),...qn({variant:"text"})},emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:s}=t;const i=Ie(e,"modelValue"),{t:r,n:o}=rs(),{isRtl:a}=ti(),{themeClasses:l}=Ze(e),u=D(-1);Rt(void 0,{scoped:!0});const{resizeRef:c}=mr(T=>{if(!T.length)return;const{target:C,contentRect:S}=T[0],x=C.querySelector(".v-pagination__list > *");if(!x)return;const A=S.width,O=x.offsetWidth+parseFloat(getComputedStyle(x).marginRight)*2,N=e.showFirstLastPage?5:3;u.value=Math.max(0,Math.floor(+((A-O*N)/O).toFixed(2)))}),d=y(()=>parseInt(e.length,10)),h=y(()=>parseInt(e.start,10)),f=y(()=>e.totalVisible?parseInt(e.totalVisible,10):u.value>=0?u.value:d.value),m=y(()=>{if(d.value<=0||isNaN(d.value)||d.value>Number.MAX_SAFE_INTEGER)return[];if(f.value<=1)return[i.value];if(d.value<=f.value)return Yi(d.value,h.value);const T=f.value%2===0,C=T?f.value/2:Math.floor(f.value/2),S=T?C:C+1,x=d.value-C;if(S-i.value>=0)return[...Yi(Math.max(1,f.value-1),h.value),e.ellipsis,d.value];if(i.value-x>=(T?1:0)){const A=f.value-1,O=d.value-A+h.value;return[h.value,e.ellipsis,...Yi(A,O)]}else{const A=Math.max(1,f.value-3),O=A===1?i.value:i.value-Math.ceil(A/2)+h.value;return[h.value,e.ellipsis,...Yi(A,O),e.ellipsis,d.value]}});function g(T,C,S){T.preventDefault(),i.value=C,S&&s(S,C)}const{refs:b,updateRef:_}=hq();Rt({VPaginationBtn:{color:z(e,"color"),border:z(e,"border"),density:z(e,"density"),size:z(e,"size"),variant:z(e,"variant"),rounded:z(e,"rounded"),elevation:z(e,"elevation")}});const w=y(()=>m.value.map((T,C)=>{const S=x=>_(x,C);if(typeof T=="string")return{isActive:!1,key:`ellipsis-${C}`,page:T,props:{ref:S,ellipsis:!0,icon:!0,disabled:!0}};{const x=T===i.value;return{isActive:x,key:T,page:o(T),props:{ref:S,ellipsis:!1,icon:!0,disabled:!!e.disabled||e.length<2,color:x?e.activeColor:e.color,ariaCurrent:x,ariaLabel:r(x?e.currentPageAriaLabel:e.pageAriaLabel,C+1),onClick:A=>g(A,T)}}}})),p=y(()=>{const T=!!e.disabled||i.value<=h.value,C=!!e.disabled||i.value>=h.value+d.value-1;return{first:e.showFirstLastPage?{icon:a.value?e.lastIcon:e.firstIcon,onClick:S=>g(S,h.value,"first"),disabled:T,ariaLabel:r(e.firstAriaLabel),ariaDisabled:T}:void 0,prev:{icon:a.value?e.nextIcon:e.prevIcon,onClick:S=>g(S,i.value-1,"prev"),disabled:T,ariaLabel:r(e.previousAriaLabel),ariaDisabled:T},next:{icon:a.value?e.prevIcon:e.nextIcon,onClick:S=>g(S,i.value+1,"next"),disabled:C,ariaLabel:r(e.nextAriaLabel),ariaDisabled:C},last:e.showFirstLastPage?{icon:a.value?e.firstIcon:e.lastIcon,onClick:S=>g(S,h.value+d.value-1,"last"),disabled:C,ariaLabel:r(e.lastAriaLabel),ariaDisabled:C}:void 0}});function I(){var T;const C=i.value-h.value;(T=b.value[C])==null||T.$el.focus()}function k(T){T.key===av.left&&!e.disabled&&i.value>e.start?(i.value=i.value-1,mt(I)):T.key===av.right&&!e.disabled&&i.value<h.value+d.value-1&&(i.value=i.value+1,mt(I))}return Y(()=>v(e.tag,{ref:c,class:["v-pagination",l.value],role:"navigation","aria-label":r(e.ariaLabel),onKeydown:k,"data-test":"v-pagination-root"},{default:()=>[v("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&v("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(p.value.first):v(mn,ce({_as:"VPaginationBtn"},p.value.first),null)]),v("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(p.value.prev):v(mn,ce({_as:"VPaginationBtn"},p.value.prev),null)]),w.value.map((T,C)=>v("li",{key:T.key,class:["v-pagination__item",{"v-pagination__item--is-active":T.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(T):v(mn,ce({_as:"VPaginationBtn"},T.props),{default:()=>[T.page]})])),v("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(p.value.next):v(mn,ce({_as:"VPaginationBtn"},p.value.next),null)]),e.showFirstLastPage&&v("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(p.value.last):v(mn,ce({_as:"VPaginationBtn"},p.value.last),null)])])]})),{}}});function vq(e){return Math.floor(Math.abs(e))*Math.sign(e)}const mq=Q({name:"VParallax",props:{scale:{type:[Number,String],default:.5}},setup(e,t){let{slots:n}=t;const{intersectionRef:s,isIntersecting:i}=$g(),{resizeRef:r,contentRect:o}=mr(),{height:a}=Bd(),l=D();ks(()=>{var f;s.value=r.value=(f=l.value)==null?void 0:f.$el});let u;he(i,f=>{f?(u=ck(s.value),u=u===document.scrollingElement?document:u,u.addEventListener("scroll",h,{passive:!0}),h()):u.removeEventListener("scroll",h)}),_n(()=>{var f;(f=u)==null||f.removeEventListener("scroll",h)}),he(a,h),he(()=>{var f;return(f=o.value)==null?void 0:f.height},h);const c=y(()=>1-En(+e.scale));let d=-1;function h(){!i.value||(cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var T,C;var f;const m=((f=l.value)==null?void 0:f.$el).querySelector(".v-img__img");if(!m)return;const g=(T=u.clientHeight)!=null?T:document.documentElement.clientHeight,b=(C=u.scrollTop)!=null?C:window.scrollY,_=s.value.offsetTop,w=o.value.height,p=_+(w-g)/2,I=vq((b-p)*c.value),k=Math.max(1,(c.value*(g-w)+w)/w);m.style.setProperty("transform",`translateY(${I}px) scale(${k})`)}))}return Y(()=>v(Uo,{class:["v-parallax",{"v-parallax--active":i.value}],ref:l,cover:!0,onLoadstart:h,onLoad:h},n)),{}}}),gq=Q({name:"VRadio",props:{...Yd({falseIcon:"$radioOff",trueIcon:"$radioOn"})},setup(e,t){let{slots:n}=t;return Y(()=>v(tu,ce(e,{class:"v-radio",type:"radio"}),n)),{}}});const pq=Q({name:"VRadioGroup",inheritAttrs:!1,props:{height:{type:[Number,String],default:"auto"},...ii(),...Cr(Wg(),["multiple"]),trueIcon:{type:be,default:"$radioOn"},falseIcon:{type:be,default:"$radioOff"},type:{type:String,default:"radio"}},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:s}=t;const i=un(),r=y(()=>e.id||`radio-group-${i}`),o=Ie(e,"modelValue");return Y(()=>{const[a,l]=Sr(n),[u,c]=Pi(e),[d,h]=Kk({...e,multiple:!1}),f=s.label?s.label({label:e.label,props:{for:r.value}}):e.label;return v(Ns,ce({class:"v-radio-group"},a,u,{modelValue:o.value,"onUpdate:modelValue":m=>o.value=m,id:r.value}),{...s,default:m=>{let{id:g,isDisabled:b,isReadonly:_}=m;return v(Re,null,[f&&v(Go,{for:g.value,clickable:!0},{default:()=>[f]}),v(qk,ce(d,{id:g.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:b.value,readonly:_.value},l,{modelValue:o.value,"onUpdate:modelValue":w=>o.value=w}),s)])}})}),{}}}),yq=Q({name:"VRangeSlider",props:{...Wd(),...ii(),...LT(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=D(),i=D(),r=D();function o(C){if(!s.value||!i.value)return;const S=Iv(C,s.value.$el,e.direction),x=Iv(C,i.value.$el,e.direction),A=Math.abs(S),O=Math.abs(x);return A<O||A===O&&S<0?s.value.$el:i.value.$el}const{activeThumbRef:a,hasLabels:l,max:u,min:c,mousePressed:d,onSliderMousedown:h,onSliderTouchstart:f,position:m,roundValue:g,trackContainerRef:b}=MT({props:e,handleSliderMouseUp:C=>{var S;_.value=a.value===((S=s.value)==null?void 0:S.$el)?[C,_.value[1]]:[_.value[0],C]},handleMouseMove:C=>{var S;const[x,A]=_.value;if(!e.strict&&x===A&&x!==c.value){var O,N,L;a.value=C>x?(O=i.value)==null?void 0:O.$el:(N=s.value)==null?void 0:N.$el,(L=a.value)==null||L.focus()}a.value===((S=s.value)==null?void 0:S.$el)?_.value=[Math.min(C,A),A]:_.value=[x,Math.max(x,C)]},getActiveThumb:o}),_=Ie(e,"modelValue",void 0,C=>!C||!C.length?[0,0]:C.map(S=>g(S))),{isFocused:w,focus:p,blur:I}=Rr(e),k=y(()=>m(_.value[0])),T=y(()=>m(_.value[1]));return Y(()=>{const[C,S]=Pi(e),x=!!(e.label||n.label||n.prepend);return v(Ns,ce({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||l.value,"v-slider--focused":w.value,"v-slider--pressed":d.value,"v-slider--disabled":e.disabled}],ref:r},C,{focused:w.value}),{...n,prepend:x?A=>{var L;var O,N;return v(Re,null,[((L=(O=n.label)==null?void 0:O.call(n,A))!=null?L:e.label)?v(Go,{class:"v-slider__label",text:e.label},null):void 0,(N=n.prepend)==null?void 0:N.call(n,A)])}:void 0,default:A=>{var O,N;let{id:L}=A;return v("div",{class:"v-slider__container",onMousedown:h,onTouchstartPassive:f},[v("input",{id:`${L.value}_start`,name:e.name||L.value,disabled:e.disabled,readonly:e.readonly,tabindex:"-1",value:_.value[0]},null),v("input",{id:`${L.value}_stop`,name:e.name||L.value,disabled:e.disabled,readonly:e.readonly,tabindex:"-1",value:_.value[1]},null),v(VT,{ref:b,start:k.value,stop:T.value},{"tick-label":n["tick-label"]}),v(kv,{ref:s,focused:w&&a.value===((O=s.value)==null?void 0:O.$el),modelValue:_.value[0],"onUpdate:modelValue":F=>_.value=[F,_.value[1]],onFocus:F=>{var q,B;if(p(),a.value=(q=s.value)==null?void 0:q.$el,_.value[0]===_.value[1]&&_.value[1]===c.value&&F.relatedTarget!==((B=i.value)==null?void 0:B.$el)){var P,$;(P=s.value)==null||P.$el.blur(),($=i.value)==null||$.$el.focus()}},onBlur:()=>{I(),a.value=void 0},min:c.value,max:_.value[1],position:k.value},{"thumb-label":n["thumb-label"]}),v(kv,{ref:i,focused:w&&a.value===((N=i.value)==null?void 0:N.$el),modelValue:_.value[1],"onUpdate:modelValue":F=>_.value=[_.value[0],F],onFocus:F=>{var q,B;if(p(),a.value=(q=i.value)==null?void 0:q.$el,_.value[0]===_.value[1]&&_.value[0]===u.value&&F.relatedTarget!==((B=s.value)==null?void 0:B.$el)){var P,$;(P=i.value)==null||P.$el.blur(),($=s.value)==null||$.$el.focus()}},onBlur:()=>{I(),a.value=void 0},min:_.value[0],max:u.value,position:T.value},{"thumb-label":n["thumb-label"]})])}})}),{}}});const _q=rt()({name:"VRating",props:{name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:be,default:"$ratingEmpty"},fullIcon:{type:be,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...Lt(),...si(),...Te(),...Ue()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:s}=rs(),{themeClasses:i}=Ze(e),r=Ie(e,"modelValue"),o=y(()=>En(parseFloat(r.value),0,+e.length)),a=y(()=>Yi(Number(e.length),1)),l=y(()=>a.value.flatMap(I=>e.halfIncrements?[I-.5,I]:[I])),u=D(-1),c=D(-1),d=D();let h=!1;const f=y(()=>l.value.map(I=>{var N;const k=e.hover&&u.value>-1,T=o.value>=I,C=u.value>=I,x=(k?C:T)?e.fullIcon:e.emptyIcon,A=(N=e.activeColor)!=null?N:e.color,O=T||C?A:e.color;return{isFilled:T,isHovered:C,icon:x,color:O}})),m=y(()=>[0,...l.value].map(I=>{function k(){u.value=I}function T(){u.value=-1}function C(){if(I===0&&o.value===0){var A;(A=d.value)==null||A.focus()}else c.value=I}function S(){h||(c.value=-1)}function x(){e.disabled||e.readonly||(r.value=o.value===I&&e.clearable?0:I)}return{onMouseenter:e.hover?k:void 0,onMouseleave:e.hover?T:void 0,onFocus:C,onBlur:S,onClick:x}}));function g(){h=!0}function b(){h=!1}const _=y(()=>{var I;return(I=e.name)!=null?I:`v-rating-${un()}`});function w(I){var k,T;let{value:C,index:S,showStar:x=!0}=I;const{onMouseenter:A,onMouseleave:O,onFocus:N,onBlur:L,onClick:F}=m.value[S+1],q=`${_.value}-${String(C).replace(".","-")}`,B={color:(k=f.value[S])==null?void 0:k.color,density:e.density,disabled:e.disabled,icon:(T=f.value[S])==null?void 0:T.icon,ripple:e.ripple,size:e.size,tag:"span",variant:"plain"};return v(Re,null,[v("label",{for:q,class:{"v-rating__item--half":e.halfIncrements&&C%1>0,"v-rating__item--full":e.halfIncrements&&C%1===0},onMousedown:g,onMouseup:b,onMouseenter:A,onMouseleave:O},[v("span",{class:"v-rating__hidden"},[s(e.itemAriaLabel,C,e.length)]),x?n.item?n.item({...f.value[S],props:B,value:C,index:S}):v(mn,B,null):void 0]),v("input",{class:"v-rating__hidden",name:_.value,id:q,type:"radio",value:C,checked:o.value===C,onClick:F,onFocus:N,onBlur:L,ref:S===0?d:void 0,readonly:e.readonly,disabled:e.disabled},null)])}function p(I){return n["item-label"]?n["item-label"](I):I.label?v("span",null,[I.label]):v("span",null,[Ye("\xA0")])}return Y(()=>{var I;const k=!!((I=e.itemLabels)!=null&&I.length)||n["item-label"];return v(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},i.value]},{default:()=>[v(w,{value:0,index:-1,showStar:!1},null),a.value.map((T,C)=>{var S,x;return v("div",{class:"v-rating__wrapper"},[k&&e.itemLabelPosition==="top"?p({value:T,index:C,label:(S=e.itemLabels)==null?void 0:S[C]}):void 0,v("div",{class:["v-rating__item",{"v-rating__item--focused":Math.ceil(c.value)===T}]},[e.halfIncrements?v(Re,null,[v(w,{value:T-.5,index:C*2},null),v(w,{value:T,index:C*2+1},null)]):v(w,{value:T,index:C},null)]),k&&e.itemLabelPosition==="bottom"?p({value:T,index:C,label:(x=e.itemLabels)==null?void 0:x[C]}):void 0])})]})}),{}}});function Zb(e){const n=Math.abs(e);return Math.sign(e)*(n/((1/.501-2)*(1-n)+1))}function e0(e){let{selectedElement:t,containerSize:n,contentSize:s,isRtl:i,currentScrollOffset:r,isHorizontal:o}=e;const a=o?t.clientWidth:t.clientHeight,l=o?t.offsetLeft:t.offsetTop,u=i&&o?s-l-a:l,c=n+r,d=a+u,h=a*.4;return u<=r?r=Math.max(u-h,0):c<=d&&(r=Math.min(r-(c-d-h),s-n)),r}function bq(e){let{selectedElement:t,containerSize:n,contentSize:s,isRtl:i,isHorizontal:r}=e;const o=r?t.clientWidth:t.clientHeight,a=r?t.offsetLeft:t.offsetTop,l=i&&r?s-a-o/2-n/2:a+o/2-n/2;return Math.min(s-n,Math.max(0,l))}const ZT=Symbol.for("vuetify:v-slide-group"),e1=rt()({name:"VSlideGroup",props:{centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:ZT},nextIcon:{type:be,default:"$next"},prevIcon:{type:be,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Te(),...jo({selectedClass:"v-slide-group-item--active"})},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:s}=ti(),{mobile:i}=Bd(),r=Tr(e,e.symbol),o=D(!1),a=D(0),l=D(0),u=D(0),c=y(()=>e.direction==="horizontal"),{resizeRef:d,contentRect:h}=mr(),{resizeRef:f,contentRect:m}=mr(),g=y(()=>r.selected.value.length?r.items.value.findIndex(K=>K.id===r.selected.value[0]):-1),b=y(()=>r.selected.value.length?r.items.value.findIndex(K=>K.id===r.selected.value[r.selected.value.length-1]):-1);if(yt){let K=-1;he(()=>[r.selected.value,h.value,m.value,c.value],()=>{cancelAnimationFrame(K),K=requestAnimationFrame(()=>{if(h.value&&m.value){const oe=c.value?"width":"height";l.value=h.value[oe],u.value=m.value[oe],o.value=l.value+1<u.value}if(g.value>=0&&f.value){const oe=f.value.children[b.value];g.value===0||!o.value?a.value=0:e.centerActive?a.value=bq({selectedElement:oe,containerSize:l.value,contentSize:u.value,isRtl:s.value,isHorizontal:c.value}):o.value&&(a.value=e0({selectedElement:oe,containerSize:l.value,contentSize:u.value,isRtl:s.value,currentScrollOffset:a.value,isHorizontal:c.value}))}})})}const _=D(!1);let w=0,p=0;function I(K){const oe=c.value?"clientX":"clientY";p=(s.value&&c.value?-1:1)*a.value,w=K.touches[0][oe],_.value=!0}function k(K){if(!o.value)return;const oe=c.value?"clientX":"clientY",re=s.value&&c.value?-1:1;a.value=re*(p+w-K.touches[0][oe])}function T(K){const oe=u.value-l.value;a.value<0||!o.value?a.value=0:a.value>=oe&&(a.value=oe),_.value=!1}function C(){!d.value||(d.value[c.value?"scrollLeft":"scrollTop"]=0)}const S=D(!1);function x(K){if(S.value=!0,!(!o.value||!f.value)){for(const oe of K.composedPath())for(const re of f.value.children)if(re===oe){a.value=e0({selectedElement:re,containerSize:l.value,contentSize:u.value,isRtl:s.value,currentScrollOffset:a.value,isHorizontal:c.value});return}}}function A(K){S.value=!1}function O(K){var oe;!S.value&&!(K.relatedTarget&&(oe=f.value)!=null&&oe.contains(K.relatedTarget))&&L()}function N(K){!f.value||(c.value?K.key==="ArrowRight"?L(s.value?"prev":"next"):K.key==="ArrowLeft"&&L(s.value?"next":"prev"):K.key==="ArrowDown"?L("next"):K.key==="ArrowUp"&&L("prev"),K.key==="Home"?L("first"):K.key==="End"&&L("last"))}function L(K){if(!!f.value)if(K){if(K==="next"){var re;const j=(re=f.value.querySelector(":focus"))==null?void 0:re.nextElementSibling;j?j.focus():L("first")}else if(K==="prev"){var Me;const j=(Me=f.value.querySelector(":focus"))==null?void 0:Me.previousElementSibling;j?j.focus():L("last")}else if(K==="first"){var ne;(ne=f.value.firstElementChild)==null||ne.focus()}else if(K==="last"){var M;(M=f.value.lastElementChild)==null||M.focus()}}else{var oe;(oe=[...f.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(Z=>!Z.hasAttribute("disabled"))[0])==null||oe.focus()}}function F(K){const oe=a.value+(K==="prev"?-1:1)*l.value;a.value=En(oe,0,u.value-l.value)}const q=y(()=>{let K=a.value>u.value-l.value?-(u.value-l.value)+Zb(u.value-l.value-a.value):-a.value;a.value<=0&&(K=Zb(-a.value));const oe=s.value&&c.value?-1:1;return{transform:`translate${c.value?"X":"Y"}(${oe*K}px)`,transition:_.value?"none":"",willChange:_.value?"transform":""}}),B=y(()=>({next:r.next,prev:r.prev,select:r.select,isSelected:r.isSelected})),P=y(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!i.value;case!0:return o.value||Math.abs(a.value)>0;case"mobile":return i.value||o.value||Math.abs(a.value)>0;default:return!i.value&&(o.value||Math.abs(a.value)>0)}}),$=y(()=>Math.abs(a.value)>0),J=y(()=>u.value>Math.abs(a.value)+l.value);return Y(()=>{var K,oe,re;return v(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!c.value,"v-slide-group--has-affixes":P.value,"v-slide-group--is-overflowing":o.value}],tabindex:S.value||r.selected.value.length?-1:0,onFocus:O},{default:()=>{var Me,ne;return[P.value&&v("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!$.value}],onClick:()=>F("prev")},[(Me=(K=n.prev)==null?void 0:K.call(n,B.value))!=null?Me:v(mv,null,{default:()=>[v(It,{icon:s.value?e.nextIcon:e.prevIcon},null)]})]),v("div",{key:"container",ref:d,class:"v-slide-group__container",onScroll:C},[v("div",{ref:f,class:"v-slide-group__content",style:q.value,onTouchstartPassive:I,onTouchmovePassive:k,onTouchendPassive:T,onFocusin:x,onFocusout:A,onKeydown:N},[(oe=n.default)==null?void 0:oe.call(n,B.value)])]),P.value&&v("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!J.value}],onClick:()=>F("next")},[(ne=(re=n.next)==null?void 0:re.call(n,B.value))!=null?ne:v(mv,null,{default:()=>[v(It,{icon:s.value?e.prevIcon:e.nextIcon},null)]})])]}})}),{selected:r.selected,scrollTo:F,scrollOffset:a,focus:L}}}),wq=rt()({name:"VSlideGroupItem",props:{...kr()},emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const s=zo(e,ZT);return()=>{var i;return(i=n.default)==null?void 0:i.call(n,{isSelected:s.isSelected.value,select:s.select,toggle:s.toggle,selectedClass:s.selectedClass.value})}}});const Cq=rt()({name:"VSnackbar",props:{multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Ar({location:"bottom"}),...Wo(),...ft(),...qn(),...Cr(su({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=Ie(e,"modelValue"),{locationStyles:i}=xr(e),{positionClasses:r}=qo(e),{scopeId:o}=Zd(),{colorClasses:a,colorStyles:l,variantClasses:u}=Ir(e),{roundedClasses:c}=St(e),d=D();he(s,f),he(()=>e.timeout,f),yn(()=>{s.value&&f()});let h=-1;function f(){window.clearTimeout(h);const g=Number(e.timeout);!s.value||g===-1||(h=window.setTimeout(()=>{s.value=!1},g))}function m(){window.clearTimeout(h)}return Y(()=>{const[g]=Jd(e);return v(Xo,ce({ref:d,class:["v-snackbar",{"v-snackbar--active":s.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},r.value]},g,{modelValue:s.value,"onUpdate:modelValue":b=>s.value=b,contentProps:ce({style:i.value},g.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none"},o),{default:()=>[v("div",{class:["v-snackbar__wrapper",a.value,c.value,u.value],style:[l.value],onPointerenter:m,onPointerleave:f},[Er(!1,"v-snackbar"),n.default&&v("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[n.default()]),n.actions&&v(st,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[v("div",{class:"v-snackbar__actions"},[n.actions()])]})])],activator:n.activator})}),ls({},d)}});const Sq=Q({name:"VSwitch",inheritAttrs:!1,props:{indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ii(),...Yd()},emits:{"update:focused":e=>!0,"update:modelValue":()=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:s}=t;const i=Ie(e,"indeterminate"),r=Ie(e,"modelValue"),{loaderClasses:o}=Hd(e),{isFocused:a,focus:l,blur:u}=Rr(e),c=y(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),d=un(),h=y(()=>e.id||`switch-${d}`);function f(){i.value&&(i.value=!1)}return Y(()=>{const[m,g]=Sr(n),[b,_]=Pi(e),[w,p]=Kk(e),I=D();function k(){var T,C;(T=I.value)==null||(C=T.input)==null||C.click()}return v(Ns,ce({class:["v-switch",{"v-switch--inset":e.inset},{"v-switch--indeterminate":i.value},o.value]},m,b,{id:h.value,focused:a.value}),{...s,default:T=>{let{id:C,isDisabled:S,isReadonly:x,isValid:A}=T;return v(tu,ce({ref:I},w,{modelValue:r.value,"onUpdate:modelValue":[O=>r.value=O,f],id:C.value,type:"checkbox","aria-checked":i.value?"mixed":void 0,disabled:S.value,readonly:x.value,onFocus:l,onBlur:u},g),{...s,default:()=>v("div",{class:"v-switch__track",onClick:k},null),input:O=>{let{textColorClasses:N,textColorStyles:L}=O;return v("div",{class:["v-switch__thumb",N.value],style:L.value},[e.loading&&v(jg,{name:"v-switch",active:!0,color:A.value===!1?void 0:c.value},{default:F=>s.loader?s.loader(F):v(Fg,{active:F.isActive,color:F.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}});const Eq=Q({name:"VSystemBar",props:{color:String,height:[Number,String],window:Boolean,...Nt(),...Fo(),...ft(),...Te(),...Ue()},setup(e,t){let{slots:n}=t;const{themeClasses:s}=Ze(e),{backgroundColorClasses:i,backgroundColorStyles:r}=Ct(z(e,"color")),{elevationClasses:o}=Xt(e),{roundedClasses:a}=St(e),l=y(()=>{var c;return(c=e.height)!=null?c:e.window?32:24}),{layoutItemStyles:u}=Bo({id:e.name,order:y(()=>parseInt(e.order,10)),position:D("top"),layoutSize:l,elementSize:l,active:y(()=>!0),absolute:z(e,"absolute")});return Y(()=>v(e.tag,{class:["v-system-bar",{"v-system-bar--window":e.window},s.value,i.value,o.value,a.value],style:[r.value,u.value]},n)),{}}});const t1=Symbol.for("vuetify:v-tabs"),n1=Q({name:"VTab",props:{fixed:Boolean,icon:[Boolean,String,Function,Object],prependIcon:be,appendIcon:be,stacked:Boolean,title:String,ripple:{type:Boolean,default:!0},color:String,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Te(),...Ko(),...kr({selectedClass:"v-tab--selected"}),...Ue()},setup(e,t){let{slots:n,attrs:s}=t;const{textColorClasses:i,textColorStyles:r}=pn(e,"sliderColor"),o=y(()=>e.direction==="horizontal"),a=D(!1),l=D(),u=D();function c(d){let{value:h}=d;if(a.value=h,h){var f,m;const g=(f=l.value)==null||(m=f.$el.parentElement)==null?void 0:m.querySelector(".v-tab--selected .v-tab__slider"),b=u.value;if(!g||!b)return;const _=getComputedStyle(g).color,w=g.getBoundingClientRect(),p=b.getBoundingClientRect(),I=o.value?"x":"y",k=o.value?"X":"Y",T=o.value?"right":"bottom",C=o.value?"width":"height",S=w[I],x=p[I],A=S>x?w[T]-p[T]:w[I]-p[I],O=Math.sign(A)>0?o.value?"right":"bottom":Math.sign(A)<0?o.value?"left":"top":"center",L=(Math.abs(A)+(Math.sign(A)<0?w[C]:p[C]))/Math.max(w[C],p[C]),F=w[C]/p[C],q=1.5;Xi(b,{backgroundColor:[_,""],transform:[`translate${k}(${A}px) scale${k}(${F})`,`translate${k}(${A/q}px) scale${k}(${(L-1)/q+1})`,""],transformOrigin:Array(3).fill(O)},{duration:225,easing:cl})}}return Y(()=>{const[d]=Nn(e,["href","to","replace","icon","stacked","prependIcon","appendIcon","ripple","theme","disabled","selectedClass","value","color"]);return v(mn,ce({_as:"VTab",symbol:t1,ref:l,class:["v-tab"],tabindex:a.value?0:-1,role:"tab","aria-selected":String(a.value),active:!1,block:e.fixed,maxWidth:e.fixed?300:void 0,variant:"text",rounded:0},d,s,{"onGroup:selected":c}),{default:()=>[n.default?n.default():e.title,!e.hideSlider&&v("div",{ref:u,class:["v-tab__slider",i.value],style:r.value},null)]})}),{}}});function Iq(e){return e?e.map(t=>typeof t=="string"?{title:t,value:t}:t):[]}const kq=Q({name:"VTabs",props:{alignTabs:{type:String,default:"start"},color:String,direction:{type:String,default:"horizontal"},fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,modelValue:null,mandatory:{type:[Boolean,String],default:"force"},...Lt(),...Te()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=Ie(e,"modelValue"),i=y(()=>Iq(e.items)),{densityClasses:r}=cn(e),{backgroundColorClasses:o,backgroundColorStyles:a}=Ct(z(e,"bgColor"));return Rt({VTab:{color:z(e,"color"),direction:z(e,"direction"),stacked:z(e,"stacked"),fixed:z(e,"fixedTabs"),sliderColor:z(e,"sliderColor"),hideSlider:z(e,"hideSlider")}}),Y(()=>v(e1,{modelValue:s.value,"onUpdate:modelValue":l=>s.value=l,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},r.value,o.value],style:[{"--v-tabs-height":le(e.height)},a.value],role:"tablist",symbol:t1,mandatory:e.mandatory,direction:e.direction},{default:()=>[n.default?n.default():i.value.map(l=>v(n1,ce(l,{key:l.title}),null))]})),{}}});const Tq=Q({name:"VTable",props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Lt(),...Te(),...Ue()},setup(e,t){let{slots:n}=t;const{themeClasses:s}=Ze(e),{densityClasses:i}=cn(e);return Y(()=>{var r,o;return v(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},s.value,i.value]},{default:()=>[(r=n.top)==null?void 0:r.call(n),n.default&&v("div",{class:"v-table__wrapper",style:{height:le(e.height)}},[v("table",null,[n.default()])]),(o=n.bottom)==null?void 0:o.call(n)]})}),{}}});const Aq=Q({name:"VTextarea",directives:{Intersect:Ql},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,...ii(),...qd()},emits:{"click:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:s,slots:i}=t;const r=Ie(e,"modelValue"),{isFocused:o,focus:a,blur:l}=Rr(e),u=y(()=>typeof e.counterValue=="function"?e.counterValue(r.value):(r.value||"").toString().length),c=y(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function d(x,A){var O,N;!e.autofocus||!x||(O=A[0].target)==null||(N=O.focus)==null||N.call(O)}const h=D(),f=D(),m=D(""),g=D(),b=y(()=>o.value||e.persistentPlaceholder),_=y(()=>e.messages.length?e.messages:b.value||e.persistentHint?e.hint:"");function w(){if(g.value!==document.activeElement){var x;(x=g.value)==null||x.focus()}o.value||a()}function p(x){w(),s("click:control",x)}function I(x){x.stopPropagation(),w(),mt(()=>{r.value="",Nc(e["onClick:clear"],x)})}function k(x){r.value=x.target.value}const T=D();function C(){!e.autoGrow||mt(()=>{if(!T.value||!f.value)return;const x=getComputedStyle(T.value),A=getComputedStyle(f.value.$el),O=parseFloat(x.getPropertyValue("--v-field-padding-top"))+parseFloat(x.getPropertyValue("--v-input-padding-top"))+parseFloat(x.getPropertyValue("--v-field-padding-bottom")),N=T.value.scrollHeight,L=parseFloat(x.lineHeight),F=Math.max(parseFloat(e.rows)*L+O,parseFloat(A.getPropertyValue("--v-input-control-height"))),q=parseFloat(e.maxRows)*L+O||1/0;m.value=le(En(N!=null?N:0,F,q))})}yn(C),he(r,C),he(()=>e.rows,C),he(()=>e.maxRows,C),he(()=>e.density,C);let S;return he(T,x=>{if(x)S=new ResizeObserver(C),S.observe(T.value);else{var A;(A=S)==null||A.disconnect()}}),_n(()=>{var x;(x=S)==null||x.disconnect()}),Y(()=>{const x=!!(i.counter||e.counter||e.counterValue),A=!!(x||i.details),[O,N]=Sr(n),[{modelValue:L,...F}]=Pi(e),[q]=zg(e);return v(Ns,ce({ref:h,modelValue:r.value,"onUpdate:modelValue":B=>r.value=B,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},O,F,{focused:o.value,messages:_.value}),{...i,default:B=>{let{isDisabled:P,isDirty:$,isReadonly:J,isValid:K}=B;return v(Zl,ce({ref:f,style:{"--v-textarea-control-height":m.value},"onClick:control":p,"onClick:clear":I,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},q,{active:b.value||$.value,dirty:$.value||e.dirty,focused:o.value,error:K.value===!1}),{...i,default:oe=>{let{props:{class:re,...Me}}=oe;return v(Re,null,[e.prefix&&v("span",{class:"v-text-field__prefix"},[e.prefix]),_t(v("textarea",ce({ref:g,class:re,value:r.value,onInput:k,autofocus:e.autofocus,readonly:J.value,disabled:P.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:w,onBlur:l},Me,N),null),[[Rn("intersect"),{handler:d},null,{once:!0}]]),e.autoGrow&&_t(v("textarea",{class:[re,"v-textarea__sizer"],"onUpdate:modelValue":ne=>r.value=ne,ref:T,readonly:!0,"aria-hidden":"true"},null),[[Ex,r.value]]),e.suffix&&v("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:A?B=>{var P;return v(Re,null,[(P=i.details)==null?void 0:P.call(i,B),x&&v(Re,null,[v("span",null,null),v(Kd,{active:e.persistentCounter||o.value,value:u.value,max:c.value},i.counter)])])}:void 0})}),ls({},h,f,g)}});const xq=Q({name:"VThemeProvider",props:{withBackground:Boolean,...Ue(),...Te()},setup(e,t){let{slots:n}=t;const{themeClasses:s}=Ze(e);return()=>{var i,r;return e.withBackground?v(e.tag,{class:["v-theme-provider",s.value]},{default:()=>[(r=n.default)==null?void 0:r.call(n)]}):(i=n.default)==null?void 0:i.call(n)}}});const Rq=Q({name:"VTimeline",props:{align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...Lt(),...Te(),...Ue()},setup(e,t){let{slots:n}=t;const{themeClasses:s}=Ze(e),{densityClasses:i}=cn(e);Rt({VTimelineDivider:{lineColor:z(e,"lineColor")},VTimelineItem:{density:z(e,"density"),lineInset:z(e,"lineInset")}});const r=y(()=>{const a=e.side?e.side:e.density!=="default"?"end":null;return a&&`v-timeline--side-${a}`}),o=y(()=>{const a=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return a;case"start":return a[0];case"end":return a[1];default:return null}});return Y(()=>v(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,o.value,{"v-timeline--inset-line":!!e.lineInset},s.value,i.value,r.value],style:{"--v-timeline-line-thickness":le(e.lineThickness)}},n)),{}}}),Nq=Q({name:"VTimelineDivider",props:{dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:be,iconColor:String,lineColor:String,...ft(),...si(),...Nt()},setup(e,t){let{slots:n}=t;const{sizeClasses:s,sizeStyles:i}=Ho(e,"v-timeline-divider__dot"),{backgroundColorStyles:r,backgroundColorClasses:o}=Ct(z(e,"dotColor")),{roundedClasses:a}=St(e,"v-timeline-divider__dot"),{elevationClasses:l}=Xt(e),{backgroundColorClasses:u,backgroundColorStyles:c}=Ct(z(e,"lineColor"));return Rt({VIcon:{color:z(e,"iconColor"),icon:z(e,"icon"),size:z(e,"size")}}),Y(()=>{var h;var d;return v("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot}]},[v("div",{class:["v-timeline-divider__before",u.value],style:c.value},null),!e.hideDot&&v("div",{key:"dot",class:["v-timeline-divider__dot",l.value,a.value,s.value],style:i.value},[v("div",{class:["v-timeline-divider__inner-dot",o.value,a.value],style:r.value},[(h=(d=n.default)==null?void 0:d.call(n))!=null?h:e.icon?v(It,null,null):void 0])]),v("div",{class:["v-timeline-divider__after",u.value],style:c.value},null)])}),{}}}),Pq=Q({name:"VTimelineItem",props:{density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:be,iconColor:String,lineInset:[Number,String],...ft(),...Nt(),...si(),...Te(),...os()},setup(e,t){let{slots:n}=t;const{dimensionStyles:s}=as(e),i=D(0),r=D();return he(r,o=>{var l;var a;!o||(i.value=(l=(a=o.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:a.getBoundingClientRect().width)!=null?l:0)},{flush:"post"}),Y(()=>{var o,a;return v("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot}],style:{"--v-timeline-dot-size":le(i.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${le(e.lineInset)})`:le(0)}},[v("div",{class:"v-timeline-item__body",style:s.value},[(o=n.default)==null?void 0:o.call(n)]),v(Nq,{ref:r,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:n.icon}),e.density!=="compact"&&v("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((a=n.opposite)==null?void 0:a.call(n))])])}),{}}});const Oq=rt()({name:"VTooltip",props:{id:String,text:String,...Cr(su({closeOnBack:!1,location:"end",locationStrategy:"connected",minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent","eager"])},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=Ie(e,"modelValue"),{scopeId:i}=Zd(),r=un(),o=y(()=>e.id||`v-tooltip-${r}`),a=D(),l=y(()=>e.location.split(" ").length>1?e.location:e.location+" center"),u=y(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),c=y(()=>e.transition?e.transition:s.value?"scale-transition":"fade-transition");return Y(()=>{const[d]=Jd(e);return v(Xo,ce({ref:a,class:["v-tooltip"],id:o.value},d,{modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,transition:c.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",eager:!0,activatorProps:ce({"aria-describedby":o.value},e.activatorProps)},i),{activator:n.activator,default:function(){var b;for(var h,f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];return(b=(h=n.default)==null?void 0:h.call(n,...m))!=null?b:e.text}})}),ls({},a)}}),Dq=Q({name:"VValidation",props:{...zk()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=Hk(e,"validation");return()=>{var i;return(i=n.default)==null?void 0:i.call(n,s)}}}),Lq=Object.freeze(Object.defineProperty({__proto__:null,VApp:ez,VAppBar:mz,VAppBarNavIcon:Nz,VAppBarTitle:Oz,VAlert:Lz,VAlertTitle:Fk,VAutocomplete:NH,VAvatar:Ai,VBadge:PH,VBanner:OH,VBannerActions:bT,VBannerText:wT,VBottomNavigation:DH,VBreadcrumbs:LH,VBreadcrumbsItem:ST,VBreadcrumbsDivider:CT,VBtn:mn,VBtnGroup:Ak,VBtnToggle:bz,VCard:MH,VCardActions:ET,VCardItem:TT,VCardSubtitle:IT,VCardText:AT,VCardTitle:kT,VCarousel:HH,VCarouselItem:WH,VCheckbox:zz,VCheckboxBtn:Yo,VChip:nu,VChipGroup:Wz,VCode:qH,VColorPicker:kW,VCombobox:AW,VCounter:Kd,VDefaultsProvider:st,VDialog:xW,VDivider:Xk,VExpansionPanels:NW,VExpansionPanel:PW,VExpansionPanelText:UT,VExpansionPanelTitle:BT,VField:Zl,VFieldLabel:ga,VFileInput:OW,VFooter:DW,VForm:LW,VContainer:MW,VCol:FW,VRow:qW,VSpacer:KW,VHover:GW,VIcon:It,VComponentIcon:hk,VSvgIcon:fk,VLigatureIcon:xj,VClassIcon:Og,VImg:Uo,VInput:Ns,VItemGroup:YW,VItem:XW,VKbd:QW,VLabel:Go,VLayout:JW,VLayoutItem:ZW,VLazy:eq,VList:Xd,VListGroup:Kg,VListImg:rH,VListItem:Xs,VListItemAction:oH,VListItemMedia:aH,VListItemSubtitle:sT,VListItemTitle:iT,VListSubheader:rT,VLocaleProvider:tq,VMain:nq,VMenu:eh,VMessages:Uk,VNavigationDrawer:cq,VNoSsr:dq,VOverlay:Xo,VPagination:fq,VParallax:mq,VProgressCircular:Fg,VProgressLinear:Bg,VRadio:gq,VRadioGroup:pq,VRangeSlider:yq,VRating:_q,VResponsive:Ik,VSelect:TH,VSelectionControl:tu,VSelectionControlGroup:qk,VSheet:$T,VSlideGroup:e1,VSlideGroupItem:wq,VSlider:Tv,VSnackbar:Cq,VSwitch:Sq,VSystemBar:Eq,VTabs:kq,VTab:n1,VTable:Tq,VTextarea:Aq,VTextField:eu,VThemeProvider:xq,VTimeline:Rq,VTimelineItem:Pq,VToolbar:Vc,VToolbarTitle:Mc,VToolbarItems:Pz,VTooltip:Oq,VValidation:Dq,VWindow:NT,VWindowItem:PT,VDialogTransition:jd,VFabTransition:tz,VDialogBottomTransition:nz,VDialogTopTransition:sz,VFadeTransition:mv,VScaleTransition:Ek,VScrollXTransition:iz,VScrollXReverseTransition:rz,VScrollYTransition:oz,VScrollYReverseTransition:az,VSlideXTransition:lz,VSlideXReverseTransition:uz,VSlideYTransition:Dg,VSlideYReverseTransition:cz,VExpandTransition:zd,VExpandXTransition:Lg},Symbol.toStringTag,{value:"Module"}));function Mq(e,t){var d,h,f,m;const n=t.modifiers||{},s=t.value,{once:i,immediate:r,...o}=n,a=!Object.keys(o).length,{handler:l,options:u}=typeof s=="object"?s:{handler:s,options:{attributes:(d=o==null?void 0:o.attr)!=null?d:a,characterData:(h=o==null?void 0:o.char)!=null?h:a,childList:(f=o==null?void 0:o.child)!=null?f:a,subtree:(m=o==null?void 0:o.sub)!=null?m:a}},c=new MutationObserver(function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],b=arguments.length>1?arguments[1]:void 0;l==null||l(g,b),i&&s1(e,t)});r&&(l==null||l([],c)),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:c},c.observe(e,u)}function s1(e,t){var n;!((n=e._mutate)!=null&&n[t.instance.$.uid])||(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const Vq={mounted:Mq,unmounted:s1};function $q(e,t){var n,s;const i=t.value,r={passive:!((n=t.modifiers)!=null&&n.active)};window.addEventListener("resize",i,r),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:i,options:r},(s=t.modifiers)!=null&&s.quiet||i()}function Fq(e,t){var n;if(!((n=e._onResize)!=null&&n[t.instance.$.uid]))return;const{handler:s,options:i}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",s,i),delete e._onResize[t.instance.$.uid]}const Bq={mounted:$q,unmounted:Fq};function i1(e,t){var a;const{self:n=!1}=(a=t.modifiers)!=null?a:{},s=t.value,i=typeof s=="object"&&s.options||{passive:!0},r=typeof s=="function"||"handleEvent"in s?s:s.handler,o=n?e:t.arg?document.querySelector(t.arg):window;!o||(o.addEventListener("scroll",r,i),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:r,options:i,target:n?void 0:o})}function r1(e,t){var n;if(!((n=e._onScroll)!=null&&n[t.instance.$.uid]))return;const{handler:s,options:i,target:r=e}=e._onScroll[t.instance.$.uid];r.removeEventListener("scroll",s,i),delete e._onScroll[t.instance.$.uid]}function Uq(e,t){t.value!==t.oldValue&&(r1(e,t),i1(e,t))}const jq={mounted:i1,unmounted:r1,updated:Uq},zq=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:pT,Intersect:Ql,Mutate:Vq,Resize:Bq,Ripple:Ni,Scroll:jq,Touch:Qg},Symbol.toStringTag,{value:"Module"})),sp=Dw({apiKey:"AIzaSyCpTohCDBCPdWby7G2Rh3a8NAnqjzRhMhw",authDomain:"star-wars-mathis.firebaseapp.com",projectId:"star-wars-mathis",storageBucket:"star-wars-mathis.appspot.com",messagingSenderId:"8634484183",appId:"1:8634484183:web:86475c8385780441287792"});WM(sp);ev(sp);let th=Tx(d2);const Hq=wk({components:Lq,directives:zq,theme:{themes:{light:{dark:!1,colors:{primary:"#FFE81F",secondary:"#000"}}}}});th.use(Hq);th.use(e2,{firebaseApp:sp,modules:[ZU()]});th.use(WI);th.mount("#app");
